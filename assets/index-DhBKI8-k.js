function qh(p,m){for(var h=0;h<m.length;h++){const y=m[h];if(typeof y!="string"&&!Array.isArray(y)){for(const _ in y)if(_!=="default"&&!(_ in p)){const k=Object.getOwnPropertyDescriptor(y,_);k&&Object.defineProperty(p,_,k.get?k:{enumerable:!0,get:()=>y[_]})}}}return Object.freeze(Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}))}(function(){const m=document.createElement("link").relList;if(m&&m.supports&&m.supports("modulepreload"))return;for(const _ of document.querySelectorAll('link[rel="modulepreload"]'))y(_);new MutationObserver(_=>{for(const k of _)if(k.type==="childList")for(const b of k.addedNodes)b.tagName==="LINK"&&b.rel==="modulepreload"&&y(b)}).observe(document,{childList:!0,subtree:!0});function h(_){const k={};return _.integrity&&(k.integrity=_.integrity),_.referrerPolicy&&(k.referrerPolicy=_.referrerPolicy),_.crossOrigin==="use-credentials"?k.credentials="include":_.crossOrigin==="anonymous"?k.credentials="omit":k.credentials="same-origin",k}function y(_){if(_.ep)return;_.ep=!0;const k=h(_);fetch(_.href,k)}})();function ju(p){return p&&p.__esModule&&Object.prototype.hasOwnProperty.call(p,"default")?p.default:p}var Ou={exports:{}},qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bd;function Jh(){if(bd)return qe;bd=1;var p=Symbol.for("react.element"),m=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),b=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),w=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),R=Symbol.iterator;function G(T){return T===null||typeof T!="object"?null:(T=R&&T[R]||T["@@iterator"],typeof T=="function"?T:null)}var ne={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,I={};function Z(T,Y,Ee){this.props=T,this.context=Y,this.refs=I,this.updater=Ee||ne}Z.prototype.isReactComponent={},Z.prototype.setState=function(T,Y){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,Y,"setState")},Z.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function j(){}j.prototype=Z.prototype;function ie(T,Y,Ee){this.props=T,this.context=Y,this.refs=I,this.updater=Ee||ne}var K=ie.prototype=new j;K.constructor=ie,M(K,Z.prototype),K.isPureReactComponent=!0;var de=Array.isArray,Se=Object.prototype.hasOwnProperty,Re={current:null},Me={key:!0,ref:!0,__self:!0,__source:!0};function J(T,Y,Ee){var Te,ke={},we=null,fe=null;if(Y!=null)for(Te in Y.ref!==void 0&&(fe=Y.ref),Y.key!==void 0&&(we=""+Y.key),Y)Se.call(Y,Te)&&!Me.hasOwnProperty(Te)&&(ke[Te]=Y[Te]);var $e=arguments.length-2;if($e===1)ke.children=Ee;else if(1<$e){for(var pe=Array($e),Ce=0;Ce<$e;Ce++)pe[Ce]=arguments[Ce+2];ke.children=pe}if(T&&T.defaultProps)for(Te in $e=T.defaultProps,$e)ke[Te]===void 0&&(ke[Te]=$e[Te]);return{$$typeof:p,type:T,key:we,ref:fe,props:ke,_owner:Re.current}}function Q(T,Y){return{$$typeof:p,type:T.type,key:Y,ref:T.ref,props:T.props,_owner:T._owner}}function Fe(T){return typeof T=="object"&&T!==null&&T.$$typeof===p}function B(T){var Y={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(Ee){return Y[Ee]})}var Be=/\/+/g;function ye(T,Y){return typeof T=="object"&&T!==null&&T.key!=null?B(""+T.key):Y.toString(36)}function re(T,Y,Ee,Te,ke){var we=typeof T;(we==="undefined"||we==="boolean")&&(T=null);var fe=!1;if(T===null)fe=!0;else switch(we){case"string":case"number":fe=!0;break;case"object":switch(T.$$typeof){case p:case m:fe=!0}}if(fe)return fe=T,ke=ke(fe),T=Te===""?"."+ye(fe,0):Te,de(ke)?(Ee="",T!=null&&(Ee=T.replace(Be,"$&/")+"/"),re(ke,Y,Ee,"",function(Ce){return Ce})):ke!=null&&(Fe(ke)&&(ke=Q(ke,Ee+(!ke.key||fe&&fe.key===ke.key?"":(""+ke.key).replace(Be,"$&/")+"/")+T)),Y.push(ke)),1;if(fe=0,Te=Te===""?".":Te+":",de(T))for(var $e=0;$e<T.length;$e++){we=T[$e];var pe=Te+ye(we,$e);fe+=re(we,Y,Ee,pe,ke)}else if(pe=G(T),typeof pe=="function")for(T=pe.call(T),$e=0;!(we=T.next()).done;)we=we.value,pe=Te+ye(we,$e++),fe+=re(we,Y,Ee,pe,ke);else if(we==="object")throw Y=String(T),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return fe}function ae(T,Y,Ee){if(T==null)return T;var Te=[],ke=0;return re(T,Te,"","",function(we){return Y.call(Ee,we,ke++)}),Te}function X(T){if(T._status===-1){var Y=T._result;Y=Y(),Y.then(function(Ee){(T._status===0||T._status===-1)&&(T._status=1,T._result=Ee)},function(Ee){(T._status===0||T._status===-1)&&(T._status=2,T._result=Ee)}),T._status===-1&&(T._status=0,T._result=Y)}if(T._status===1)return T._result.default;throw T._result}var Oe={current:null},C={transition:null},ee={ReactCurrentDispatcher:Oe,ReactCurrentBatchConfig:C,ReactCurrentOwner:Re};function W(){throw Error("act(...) is not supported in production builds of React.")}return qe.Children={map:ae,forEach:function(T,Y,Ee){ae(T,function(){Y.apply(this,arguments)},Ee)},count:function(T){var Y=0;return ae(T,function(){Y++}),Y},toArray:function(T){return ae(T,function(Y){return Y})||[]},only:function(T){if(!Fe(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},qe.Component=Z,qe.Fragment=h,qe.Profiler=_,qe.PureComponent=ie,qe.StrictMode=y,qe.Suspense=P,qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ee,qe.act=W,qe.cloneElement=function(T,Y,Ee){if(T==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+T+".");var Te=M({},T.props),ke=T.key,we=T.ref,fe=T._owner;if(Y!=null){if(Y.ref!==void 0&&(we=Y.ref,fe=Re.current),Y.key!==void 0&&(ke=""+Y.key),T.type&&T.type.defaultProps)var $e=T.type.defaultProps;for(pe in Y)Se.call(Y,pe)&&!Me.hasOwnProperty(pe)&&(Te[pe]=Y[pe]===void 0&&$e!==void 0?$e[pe]:Y[pe])}var pe=arguments.length-2;if(pe===1)Te.children=Ee;else if(1<pe){$e=Array(pe);for(var Ce=0;Ce<pe;Ce++)$e[Ce]=arguments[Ce+2];Te.children=$e}return{$$typeof:p,type:T.type,key:ke,ref:we,props:Te,_owner:fe}},qe.createContext=function(T){return T={$$typeof:b,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},T.Provider={$$typeof:k,_context:T},T.Consumer=T},qe.createElement=J,qe.createFactory=function(T){var Y=J.bind(null,T);return Y.type=T,Y},qe.createRef=function(){return{current:null}},qe.forwardRef=function(T){return{$$typeof:S,render:T}},qe.isValidElement=Fe,qe.lazy=function(T){return{$$typeof:E,_payload:{_status:-1,_result:T},_init:X}},qe.memo=function(T,Y){return{$$typeof:w,type:T,compare:Y===void 0?null:Y}},qe.startTransition=function(T){var Y=C.transition;C.transition={};try{T()}finally{C.transition=Y}},qe.unstable_act=W,qe.useCallback=function(T,Y){return Oe.current.useCallback(T,Y)},qe.useContext=function(T){return Oe.current.useContext(T)},qe.useDebugValue=function(){},qe.useDeferredValue=function(T){return Oe.current.useDeferredValue(T)},qe.useEffect=function(T,Y){return Oe.current.useEffect(T,Y)},qe.useId=function(){return Oe.current.useId()},qe.useImperativeHandle=function(T,Y,Ee){return Oe.current.useImperativeHandle(T,Y,Ee)},qe.useInsertionEffect=function(T,Y){return Oe.current.useInsertionEffect(T,Y)},qe.useLayoutEffect=function(T,Y){return Oe.current.useLayoutEffect(T,Y)},qe.useMemo=function(T,Y){return Oe.current.useMemo(T,Y)},qe.useReducer=function(T,Y,Ee){return Oe.current.useReducer(T,Y,Ee)},qe.useRef=function(T){return Oe.current.useRef(T)},qe.useState=function(T){return Oe.current.useState(T)},qe.useSyncExternalStore=function(T,Y,Ee){return Oe.current.useSyncExternalStore(T,Y,Ee)},qe.useTransition=function(){return Oe.current.useTransition()},qe.version="18.3.1",qe}var Pd;function rs(){return Pd||(Pd=1,Ou.exports=Jh()),Ou.exports}var N=rs();const nr=ju(N),Qh=qh({__proto__:null,default:nr},[N]);var Xl={},Nu={exports:{}},Xt={},Mu={exports:{}},zu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Td;function Xh(){return Td||(Td=1,function(p){function m(C,ee){var W=C.length;C.push(ee);e:for(;0<W;){var T=W-1>>>1,Y=C[T];if(0<_(Y,ee))C[T]=ee,C[W]=Y,W=T;else break e}}function h(C){return C.length===0?null:C[0]}function y(C){if(C.length===0)return null;var ee=C[0],W=C.pop();if(W!==ee){C[0]=W;e:for(var T=0,Y=C.length,Ee=Y>>>1;T<Ee;){var Te=2*(T+1)-1,ke=C[Te],we=Te+1,fe=C[we];if(0>_(ke,W))we<Y&&0>_(fe,ke)?(C[T]=fe,C[we]=W,T=we):(C[T]=ke,C[Te]=W,T=Te);else if(we<Y&&0>_(fe,W))C[T]=fe,C[we]=W,T=we;else break e}}return ee}function _(C,ee){var W=C.sortIndex-ee.sortIndex;return W!==0?W:C.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var k=performance;p.unstable_now=function(){return k.now()}}else{var b=Date,S=b.now();p.unstable_now=function(){return b.now()-S}}var P=[],w=[],E=1,R=null,G=3,ne=!1,M=!1,I=!1,Z=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function K(C){for(var ee=h(w);ee!==null;){if(ee.callback===null)y(w);else if(ee.startTime<=C)y(w),ee.sortIndex=ee.expirationTime,m(P,ee);else break;ee=h(w)}}function de(C){if(I=!1,K(C),!M)if(h(P)!==null)M=!0,X(Se);else{var ee=h(w);ee!==null&&Oe(de,ee.startTime-C)}}function Se(C,ee){M=!1,I&&(I=!1,j(J),J=-1),ne=!0;var W=G;try{for(K(ee),R=h(P);R!==null&&(!(R.expirationTime>ee)||C&&!B());){var T=R.callback;if(typeof T=="function"){R.callback=null,G=R.priorityLevel;var Y=T(R.expirationTime<=ee);ee=p.unstable_now(),typeof Y=="function"?R.callback=Y:R===h(P)&&y(P),K(ee)}else y(P);R=h(P)}if(R!==null)var Ee=!0;else{var Te=h(w);Te!==null&&Oe(de,Te.startTime-ee),Ee=!1}return Ee}finally{R=null,G=W,ne=!1}}var Re=!1,Me=null,J=-1,Q=5,Fe=-1;function B(){return!(p.unstable_now()-Fe<Q)}function Be(){if(Me!==null){var C=p.unstable_now();Fe=C;var ee=!0;try{ee=Me(!0,C)}finally{ee?ye():(Re=!1,Me=null)}}else Re=!1}var ye;if(typeof ie=="function")ye=function(){ie(Be)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,ae=re.port2;re.port1.onmessage=Be,ye=function(){ae.postMessage(null)}}else ye=function(){Z(Be,0)};function X(C){Me=C,Re||(Re=!0,ye())}function Oe(C,ee){J=Z(function(){C(p.unstable_now())},ee)}p.unstable_IdlePriority=5,p.unstable_ImmediatePriority=1,p.unstable_LowPriority=4,p.unstable_NormalPriority=3,p.unstable_Profiling=null,p.unstable_UserBlockingPriority=2,p.unstable_cancelCallback=function(C){C.callback=null},p.unstable_continueExecution=function(){M||ne||(M=!0,X(Se))},p.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<C?Math.floor(1e3/C):5},p.unstable_getCurrentPriorityLevel=function(){return G},p.unstable_getFirstCallbackNode=function(){return h(P)},p.unstable_next=function(C){switch(G){case 1:case 2:case 3:var ee=3;break;default:ee=G}var W=G;G=ee;try{return C()}finally{G=W}},p.unstable_pauseExecution=function(){},p.unstable_requestPaint=function(){},p.unstable_runWithPriority=function(C,ee){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var W=G;G=C;try{return ee()}finally{G=W}},p.unstable_scheduleCallback=function(C,ee,W){var T=p.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?T+W:T):W=T,C){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=W+Y,C={id:E++,callback:ee,priorityLevel:C,startTime:W,expirationTime:Y,sortIndex:-1},W>T?(C.sortIndex=W,m(w,C),h(P)===null&&C===h(w)&&(I?(j(J),J=-1):I=!0,Oe(de,W-T))):(C.sortIndex=Y,m(P,C),M||ne||(M=!0,X(Se))),C},p.unstable_shouldYield=B,p.unstable_wrapCallback=function(C){var ee=G;return function(){var W=G;G=ee;try{return C.apply(this,arguments)}finally{G=W}}}}(zu)),zu}var Ed;function ef(){return Ed||(Ed=1,Mu.exports=Xh()),Mu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ld;function tf(){if(Ld)return Xt;Ld=1;var p=rs(),m=ef();function h(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y=new Set,_={};function k(e,n){b(e,n),b(e+"Capture",n)}function b(e,n){for(_[e]=n,e=0;e<n.length;e++)y.add(n[e])}var S=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),P=Object.prototype.hasOwnProperty,w=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E={},R={};function G(e){return P.call(R,e)?!0:P.call(E,e)?!1:w.test(e)?R[e]=!0:(E[e]=!0,!1)}function ne(e,n,r,a){if(r!==null&&r.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return a?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function M(e,n,r,a){if(n===null||typeof n>"u"||ne(e,n,r,a))return!0;if(a)return!1;if(r!==null)switch(r.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function I(e,n,r,a,u,c,g){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=a,this.attributeNamespace=u,this.mustUseProperty=r,this.propertyName=e,this.type=n,this.sanitizeURL=c,this.removeEmptyString=g}var Z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Z[e]=new I(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];Z[n]=new I(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){Z[e]=new I(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Z[e]=new I(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Z[e]=new I(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){Z[e]=new I(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){Z[e]=new I(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){Z[e]=new I(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){Z[e]=new I(e,5,!1,e.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function ie(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(j,ie);Z[n]=new I(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(j,ie);Z[n]=new I(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(j,ie);Z[n]=new I(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){Z[e]=new I(e,1,!1,e.toLowerCase(),null,!1,!1)}),Z.xlinkHref=new I("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){Z[e]=new I(e,1,!1,e.toLowerCase(),null,!0,!0)});function K(e,n,r,a){var u=Z.hasOwnProperty(n)?Z[n]:null;(u!==null?u.type!==0:a||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(M(n,r,u,a)&&(r=null),a||u===null?G(n)&&(r===null?e.removeAttribute(n):e.setAttribute(n,""+r)):u.mustUseProperty?e[u.propertyName]=r===null?u.type===3?!1:"":r:(n=u.attributeName,a=u.attributeNamespace,r===null?e.removeAttribute(n):(u=u.type,r=u===3||u===4&&r===!0?"":""+r,a?e.setAttributeNS(a,n,r):e.setAttribute(n,r))))}var de=p.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Se=Symbol.for("react.element"),Re=Symbol.for("react.portal"),Me=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),Fe=Symbol.for("react.provider"),B=Symbol.for("react.context"),Be=Symbol.for("react.forward_ref"),ye=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),ae=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),Oe=Symbol.for("react.offscreen"),C=Symbol.iterator;function ee(e){return e===null||typeof e!="object"?null:(e=C&&e[C]||e["@@iterator"],typeof e=="function"?e:null)}var W=Object.assign,T;function Y(e){if(T===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);T=n&&n[1]||""}return`
`+T+e}var Ee=!1;function Te(e,n){if(!e||Ee)return"";Ee=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch($){var a=$}Reflect.construct(e,[],n)}else{try{n.call()}catch($){a=$}e.call(n.prototype)}else{try{throw Error()}catch($){a=$}e()}}catch($){if($&&a&&typeof $.stack=="string"){for(var u=$.stack.split(`
`),c=a.stack.split(`
`),g=u.length-1,x=c.length-1;1<=g&&0<=x&&u[g]!==c[x];)x--;for(;1<=g&&0<=x;g--,x--)if(u[g]!==c[x]){if(g!==1||x!==1)do if(g--,x--,0>x||u[g]!==c[x]){var z=`
`+u[g].replace(" at new "," at ");return e.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",e.displayName)),z}while(1<=g&&0<=x);break}}}finally{Ee=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Y(e):""}function ke(e){switch(e.tag){case 5:return Y(e.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return e=Te(e.type,!1),e;case 11:return e=Te(e.type.render,!1),e;case 1:return e=Te(e.type,!0),e;default:return""}}function we(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Me:return"Fragment";case Re:return"Portal";case Q:return"Profiler";case J:return"StrictMode";case ye:return"Suspense";case re:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case B:return(e.displayName||"Context")+".Consumer";case Fe:return(e._context.displayName||"Context")+".Provider";case Be:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ae:return n=e.displayName||null,n!==null?n:we(e.type)||"Memo";case X:n=e._payload,e=e._init;try{return we(e(n))}catch{}}return null}function fe(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return we(n);case 8:return n===J?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function $e(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function pe(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ce(e){var n=pe(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),a=""+e[n];if(!e.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var u=r.get,c=r.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return u.call(this)},set:function(g){a=""+g,c.call(this,g)}}),Object.defineProperty(e,n,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function We(e){e._valueTracker||(e._valueTracker=Ce(e))}function it(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),a="";return e&&(a=pe(e)?e.checked?"true":"false":e.value),e=a,e!==r?(n.setValue(e),!0):!1}function ve(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Vt(e,n){var r=n.checked;return W({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function ge(e,n){var r=n.defaultValue==null?"":n.defaultValue,a=n.checked!=null?n.checked:n.defaultChecked;r=$e(n.value!=null?n.value:r),e._wrapperState={initialChecked:a,initialValue:r,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function q(e,n){n=n.checked,n!=null&&K(e,"checked",n,!1)}function De(e,n){q(e,n);var r=$e(n.value),a=n.type;if(r!=null)a==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?be(e,n.type,r):n.hasOwnProperty("defaultValue")&&be(e,n.type,$e(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function ue(e,n,r){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var a=n.type;if(!(a!=="submit"&&a!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,r||n===e.value||(e.value=n),e.defaultValue=n}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function be(e,n,r){(n!=="number"||ve(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var D=Array.isArray;function te(e,n,r,a){if(e=e.options,n){n={};for(var u=0;u<r.length;u++)n["$"+r[u]]=!0;for(r=0;r<e.length;r++)u=n.hasOwnProperty("$"+e[r].value),e[r].selected!==u&&(e[r].selected=u),u&&a&&(e[r].defaultSelected=!0)}else{for(r=""+$e(r),n=null,u=0;u<e.length;u++){if(e[u].value===r){e[u].selected=!0,a&&(e[u].defaultSelected=!0);return}n!==null||e[u].disabled||(n=e[u])}n!==null&&(n.selected=!0)}}function ce(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(h(91));return W({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function _e(e,n){var r=n.value;if(r==null){if(r=n.children,n=n.defaultValue,r!=null){if(n!=null)throw Error(h(92));if(D(r)){if(1<r.length)throw Error(h(93));r=r[0]}n=r}n==null&&(n=""),r=n}e._wrapperState={initialValue:$e(r)}}function rt(e,n){var r=$e(n.value),a=$e(n.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),n.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),a!=null&&(e.defaultValue=""+a)}function Br(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function qn(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Rr(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?qn(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var or,za=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,r,a,u){MSApp.execUnsafeLocalFunction(function(){return e(n,r,a,u)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(or=or||document.createElement("div"),or.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=or.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function wi(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var Ci={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},as=["Webkit","ms","Moz","O"];Object.keys(Ci).forEach(function(e){as.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),Ci[n]=Ci[e]})});function Oo(e,n,r){return n==null||typeof n=="boolean"||n===""?"":r||typeof n!="number"||n===0||Ci.hasOwnProperty(e)&&Ci[e]?(""+n).trim():n+"px"}function Dr(e,n){e=e.style;for(var r in n)if(n.hasOwnProperty(r)){var a=r.indexOf("--")===0,u=Oo(r,n[r],a);r==="float"&&(r="cssFloat"),a?e.setProperty(r,u):e[r]=u}}var Ia=W({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function No(e,n){if(n){if(Ia[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(h(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(h(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(h(61))}if(n.style!=null&&typeof n.style!="object")throw Error(h(62))}}function Jn(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mo=null;function zo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Fr=null,Qn=null,Xn=null;function Aa(e){if(e=di(e)){if(typeof Fr!="function")throw Error(h(280));var n=e.stateNode;n&&(n=fo(n),Fr(e.stateNode,e.type,n))}}function Ba(e){Qn?Xn?Xn.push(e):Xn=[e]:Qn=e}function Ra(){if(Qn){var e=Qn,n=Xn;if(Xn=Qn=null,Aa(e),n)for(e=0;e<n.length;e++)Aa(n[e])}}function Da(e,n){return e(n)}function Fa(){}var Io=!1;function jr(e,n,r){if(Io)return e(n,r);Io=!0;try{return Da(e,n,r)}finally{Io=!1,(Qn!==null||Xn!==null)&&(Fa(),Ra())}}function ar(e,n){var r=e.stateNode;if(r===null)return null;var a=fo(r);if(a===null)return null;r=a[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(h(231,n,typeof r));return r}var Ao=!1;if(S)try{var lr={};Object.defineProperty(lr,"passive",{get:function(){Ao=!0}}),window.addEventListener("test",lr,lr),window.removeEventListener("test",lr,lr)}catch{Ao=!1}function ls(e,n,r,a,u,c,g,x,z){var $=Array.prototype.slice.call(arguments,3);try{n.apply(r,$)}catch(se){this.onError(se)}}var Nt=!1,Ie=null,sr=!1,Ur=null,ja={onError:function(e){Nt=!0,Ie=e}};function Ua(e,n,r,a,u,c,g,x,z){Nt=!1,Ie=null,ls.apply(ja,arguments)}function Bo(e,n,r,a,u,c,g,x,z){if(Ua.apply(this,arguments),Nt){if(Nt){var $=Ie;Nt=!1,Ie=null}else throw Error(h(198));sr||(sr=!0,Ur=$)}}function Dn(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function ei(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function Ro(e){if(Dn(e)!==e)throw Error(h(188))}function ss(e){var n=e.alternate;if(!n){if(n=Dn(e),n===null)throw Error(h(188));return n!==e?null:e}for(var r=e,a=n;;){var u=r.return;if(u===null)break;var c=u.alternate;if(c===null){if(a=u.return,a!==null){r=a;continue}break}if(u.child===c.child){for(c=u.child;c;){if(c===r)return Ro(u),e;if(c===a)return Ro(u),n;c=c.sibling}throw Error(h(188))}if(r.return!==a.return)r=u,a=c;else{for(var g=!1,x=u.child;x;){if(x===r){g=!0,r=u,a=c;break}if(x===a){g=!0,a=u,r=c;break}x=x.sibling}if(!g){for(x=c.child;x;){if(x===r){g=!0,r=c,a=u;break}if(x===a){g=!0,a=c,r=u;break}x=x.sibling}if(!g)throw Error(h(189))}}if(r.alternate!==a)throw Error(h(190))}if(r.tag!==3)throw Error(h(188));return r.stateNode.current===r?e:n}function Za(e){return e=ss(e),e!==null?Wa(e):null}function Wa(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=Wa(e);if(n!==null)return n;e=e.sibling}return null}var Ha=m.unstable_scheduleCallback,Do=m.unstable_cancelCallback,us=m.unstable_shouldYield,Zr=m.unstable_requestPaint,ht=m.unstable_now,cs=m.unstable_getCurrentPriorityLevel,Fo=m.unstable_ImmediatePriority,Va=m.unstable_UserBlockingPriority,Wr=m.unstable_NormalPriority,jo=m.unstable_LowPriority,xi=m.unstable_IdlePriority,ur=null,en=null;function cr(e){if(en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(ur,e,void 0,(e.current.flags&128)===128)}catch{}}var Ke=Math.clz32?Math.clz32:Si,ut=Math.log,Hr=Math.LN2;function Si(e){return e>>>=0,e===0?32:31-(ut(e)/Hr|0)|0}var Pn=64,ki=4194304;function Ge(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function lt(e,n){var r=e.pendingLanes;if(r===0)return 0;var a=0,u=e.suspendedLanes,c=e.pingedLanes,g=r&268435455;if(g!==0){var x=g&~u;x!==0?a=Ge(x):(c&=g,c!==0&&(a=Ge(c)))}else g=r&~u,g!==0?a=Ge(g):c!==0&&(a=Ge(c));if(a===0)return 0;if(n!==0&&n!==a&&(n&u)===0&&(u=a&-a,c=n&-n,u>=c||u===16&&(c&4194240)!==0))return n;if((a&4)!==0&&(a|=r&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=a;0<n;)r=31-Ke(n),u=1<<r,a|=e[r],n&=~u;return a}function Uo(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vr(e,n){for(var r=e.suspendedLanes,a=e.pingedLanes,u=e.expirationTimes,c=e.pendingLanes;0<c;){var g=31-Ke(c),x=1<<g,z=u[g];z===-1?((x&r)===0||(x&a)!==0)&&(u[g]=Uo(x,n)):z<=n&&(e.expiredLanes|=x),c&=~x}}function Mt(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function $a(){var e=Pn;return Pn<<=1,(Pn&4194240)===0&&(Pn=64),e}function bi(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function tn(e,n,r){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Ke(n),e[n]=r}function gt(e,n){var r=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<r;){var u=31-Ke(r),c=1<<u;n[u]=0,a[u]=-1,e[u]=-1,r&=~c}}function Tn(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var a=31-Ke(r),u=1<<a;u&n|e[a]&n&&(e[a]|=n),r&=~u}}var Qe=0;function Pi(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var $r,ti,Gr,Kr,dr,hr=!1,Ti=[],nn=null,En=null,hn=null,fr=new Map,He=new Map,xt=[],ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zo(e,n){switch(e){case"focusin":case"focusout":nn=null;break;case"dragenter":case"dragleave":En=null;break;case"mouseover":case"mouseout":hn=null;break;case"pointerover":case"pointerout":fr.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":He.delete(n.pointerId)}}function ni(e,n,r,a,u,c){return e===null||e.nativeEvent!==c?(e={blockedOn:n,domEventName:r,eventSystemFlags:a,nativeEvent:c,targetContainers:[u]},n!==null&&(n=di(n),n!==null&&ti(n)),e):(e.eventSystemFlags|=a,n=e.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),e)}function Wo(e,n,r,a,u){switch(n){case"focusin":return nn=ni(nn,e,n,r,a,u),!0;case"dragenter":return En=ni(En,e,n,r,a,u),!0;case"mouseover":return hn=ni(hn,e,n,r,a,u),!0;case"pointerover":var c=u.pointerId;return fr.set(c,ni(fr.get(c)||null,e,n,r,a,u)),!0;case"gotpointercapture":return c=u.pointerId,He.set(c,ni(He.get(c)||null,e,n,r,a,u)),!0}return!1}function Yr(e){var n=ci(e.target);if(n!==null){var r=Dn(n);if(r!==null){if(n=r.tag,n===13){if(n=ei(r),n!==null){e.blockedOn=n,dr(e.priority,function(){Gr(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function fn(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=Qr(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var a=new r.constructor(r.type,r);Mo=a,r.target.dispatchEvent(a),Mo=null}else return n=di(r),n!==null&&ti(n),e.blockedOn=r,!1;n.shift()}return!0}function qr(e,n,r){fn(e)&&r.delete(n)}function pr(){hr=!1,nn!==null&&fn(nn)&&(nn=null),En!==null&&fn(En)&&(En=null),hn!==null&&fn(hn)&&(hn=null),fr.forEach(qr),He.forEach(qr)}function ft(e,n){e.blockedOn===n&&(e.blockedOn=null,hr||(hr=!0,m.unstable_scheduleCallback(m.unstable_NormalPriority,pr)))}function rn(e){function n(u){return ft(u,e)}if(0<Ti.length){ft(Ti[0],e);for(var r=1;r<Ti.length;r++){var a=Ti[r];a.blockedOn===e&&(a.blockedOn=null)}}for(nn!==null&&ft(nn,e),En!==null&&ft(En,e),hn!==null&&ft(hn,e),fr.forEach(n),He.forEach(n),r=0;r<xt.length;r++)a=xt[r],a.blockedOn===e&&(a.blockedOn=null);for(;0<xt.length&&(r=xt[0],r.blockedOn===null);)Yr(r),r.blockedOn===null&&xt.shift()}var ii=de.ReactCurrentBatchConfig,mr=!0;function ds(e,n,r,a){var u=Qe,c=ii.transition;ii.transition=null;try{Qe=1,gr(e,n,r,a)}finally{Qe=u,ii.transition=c}}function Ga(e,n,r,a){var u=Qe,c=ii.transition;ii.transition=null;try{Qe=4,gr(e,n,r,a)}finally{Qe=u,ii.transition=c}}function gr(e,n,r,a){if(mr){var u=Qr(e,n,r,a);if(u===null)t(e,n,a,Jr,r),Zo(e,a);else if(Wo(u,e,n,r,a))a.stopPropagation();else if(Zo(e,a),n&4&&-1<ot.indexOf(e)){for(;u!==null;){var c=di(u);if(c!==null&&$r(c),c=Qr(e,n,r,a),c===null&&t(e,n,a,Jr,r),c===u)break;u=c}u!==null&&a.stopPropagation()}else t(e,n,a,null,r)}}var Jr=null;function Qr(e,n,r,a){if(Jr=null,e=zo(a),e=ci(e),e!==null)if(n=Dn(e),n===null)e=null;else if(r=n.tag,r===13){if(e=ei(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return Jr=e,null}function Je(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cs()){case Fo:return 1;case Va:return 4;case Wr:case jo:return 16;case xi:return 536870912;default:return 16}default:return 16}}var Fn=null,Ft=null,jn=null;function Ho(){if(jn)return jn;var e,n=Ft,r=n.length,a,u="value"in Fn?Fn.value:Fn.textContent,c=u.length;for(e=0;e<r&&n[e]===u[e];e++);var g=r-e;for(a=1;a<=g&&n[r-a]===u[c-a];a++);return jn=u.slice(e,1<a?1-a:void 0)}function Xr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ei(){return!0}function Ka(){return!1}function zt(e){function n(r,a,u,c,g){this._reactName=r,this._targetInst=u,this.type=a,this.nativeEvent=c,this.target=g,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(r=e[x],this[x]=r?r(c):c[x]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?Ei:Ka,this.isPropagationStopped=Ka,this}return W(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ei)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ei)},persist:function(){},isPersistent:Ei}),n}var Li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vo=zt(Li),ri=W({},Li,{view:0,detail:0}),hs=zt(ri),$t,$o,Oi,on=W({},ri,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ai,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Oi&&(Oi&&e.type==="mousemove"?($t=e.screenX-Oi.screenX,$o=e.screenY-Oi.screenY):$o=$t=0,Oi=e),$t)},movementY:function(e){return"movementY"in e?e.movementY:$o}}),Go=zt(on),Ya=W({},on,{dataTransfer:0}),Ko=zt(Ya),fs=W({},ri,{relatedTarget:0}),eo=zt(fs),qa=W({},Li,{animationName:0,elapsedTime:0,pseudoElement:0}),ps=zt(qa),ms=W({},Li,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Yo=zt(ms),gs=W({},Li,{data:0}),qo=zt(gs),Ja={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},to={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vs(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=oi[e])?!!n[e]:!1}function ai(){return vs}var Gt=W({},ri,{key:function(e){if(e.key){var n=Ja[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Xr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?to[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ai,charCode:function(e){return e.type==="keypress"?Xr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Xr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Qa=zt(Gt),Xa=W({},on,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),el=zt(Xa),Jo=W({},ri,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ai}),Qo=zt(Jo),ys=W({},Li,{propertyName:0,elapsedTime:0,pseudoElement:0}),_s=zt(ys),tl=W({},on,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ws=zt(tl),an=[9,13,27,32],Un=S&&"CompositionEvent"in window,vr=null;S&&"documentMode"in document&&(vr=document.documentMode);var Ln=S&&"TextEvent"in window&&!vr,nl=S&&(!Un||vr&&8<vr&&11>=vr),li=" ",il=!1;function Ni(e,n){switch(e){case"keyup":return an.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xo(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var On=!1;function Cs(e,n){switch(e){case"compositionend":return Xo(n);case"keypress":return n.which!==32?null:(il=!0,li);case"textInput":return e=n.data,e===li&&il?null:e;default:return null}}function Zn(e,n){if(On)return e==="compositionend"||!Un&&Ni(e,n)?(e=Ho(),jn=Ft=Fn=null,On=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return nl&&n.locale!=="ko"?null:n.data;default:return null}}var no={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rl(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!no[e.type]:n==="textarea"}function io(e,n,r,a){Ba(a),n=o(n,"onChange"),0<n.length&&(r=new Vo("onChange","change",null,r,a),e.push({event:r,listeners:n}))}var yr=null,jt=null;function xs(e){sa(e,0)}function Nn(e){var n=hi(e);if(it(n))return e}function Ss(e,n){if(e==="change")return n}var pn=!1;if(S){var Mi;if(S){var ro="oninput"in document;if(!ro){var oo=document.createElement("div");oo.setAttribute("oninput","return;"),ro=typeof oo.oninput=="function"}Mi=ro}else Mi=!1;pn=Mi&&(!document.documentMode||9<document.documentMode)}function _r(){yr&&(yr.detachEvent("onpropertychange",ao),jt=yr=null)}function ao(e){if(e.propertyName==="value"&&Nn(jt)){var n=[];io(n,jt,e,zo(e)),jr(xs,n)}}function lo(e,n,r){e==="focusin"?(_r(),yr=n,jt=r,yr.attachEvent("onpropertychange",ao)):e==="focusout"&&_r()}function zi(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Nn(jt)}function so(e,n){if(e==="click")return Nn(n)}function ea(e,n){if(e==="input"||e==="change")return Nn(n)}function ol(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var ln=typeof Object.is=="function"?Object.is:ol;function Wn(e,n){if(ln(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),a=Object.keys(n);if(r.length!==a.length)return!1;for(a=0;a<r.length;a++){var u=r[a];if(!P.call(n,u)||!ln(e[u],n[u]))return!1}return!0}function al(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ta(e,n){var r=al(e);e=0;for(var a;r;){if(r.nodeType===3){if(a=e+r.textContent.length,e<=n&&a>=n)return{node:r,offset:n-e};e=a}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=al(r)}}function ll(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?ll(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function na(){for(var e=window,n=ve();n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=ve(e.document)}return n}function ia(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function mn(e){var n=na(),r=e.focusedElem,a=e.selectionRange;if(n!==r&&r&&r.ownerDocument&&ll(r.ownerDocument.documentElement,r)){if(a!==null&&ia(r)){if(n=a.start,e=a.end,e===void 0&&(e=n),"selectionStart"in r)r.selectionStart=n,r.selectionEnd=Math.min(e,r.value.length);else if(e=(n=r.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var u=r.textContent.length,c=Math.min(a.start,u);a=a.end===void 0?c:Math.min(a.end,u),!e.extend&&c>a&&(u=a,a=c,c=u),u=ta(r,c);var g=ta(r,a);u&&g&&(e.rangeCount!==1||e.anchorNode!==u.node||e.anchorOffset!==u.offset||e.focusNode!==g.node||e.focusOffset!==g.offset)&&(n=n.createRange(),n.setStart(u.node,u.offset),e.removeAllRanges(),c>a?(e.addRange(n),e.extend(g.node,g.offset)):(n.setEnd(g.node,g.offset),e.addRange(n)))}}for(n=[],e=r;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<n.length;r++)e=n[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var uo=S&&"documentMode"in document&&11>=document.documentMode,Ii=null,Ai=null,wr=null,co=!1;function sl(e,n,r){var a=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;co||Ii==null||Ii!==ve(a)||(a=Ii,"selectionStart"in a&&ia(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),wr&&Wn(wr,a)||(wr=a,a=o(Ai,"onSelect"),0<a.length&&(n=new Vo("onSelect","select",null,n,r),e.push({event:n,listeners:a}),n.target=Ii)))}function Hn(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var Bi={animationend:Hn("Animation","AnimationEnd"),animationiteration:Hn("Animation","AnimationIteration"),animationstart:Hn("Animation","AnimationStart"),transitionend:Hn("Transition","TransitionEnd")},Vn={},ra={};S&&(ra=document.createElement("div").style,"AnimationEvent"in window||(delete Bi.animationend.animation,delete Bi.animationiteration.animation,delete Bi.animationstart.animation),"TransitionEvent"in window||delete Bi.transitionend.transition);function Cr(e){if(Vn[e])return Vn[e];if(!Bi[e])return e;var n=Bi[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in ra)return Vn[e]=n[r];return e}var ul=Cr("animationend"),gn=Cr("animationiteration"),oa=Cr("animationstart"),aa=Cr("transitionend"),Ri=new Map,cl="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function sn(e,n){Ri.set(e,n),k(n,[e])}for(var si=0;si<cl.length;si++){var ho=cl[si],dl=ho.toLowerCase(),ks=ho[0].toUpperCase()+ho.slice(1);sn(dl,"on"+ks)}sn(ul,"onAnimationEnd"),sn(gn,"onAnimationIteration"),sn(oa,"onAnimationStart"),sn("dblclick","onDoubleClick"),sn("focusin","onFocus"),sn("focusout","onBlur"),sn(aa,"onTransitionEnd"),b("onMouseEnter",["mouseout","mouseover"]),b("onMouseLeave",["mouseout","mouseover"]),b("onPointerEnter",["pointerout","pointerover"]),b("onPointerLeave",["pointerout","pointerover"]),k("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),k("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),k("onBeforeInput",["compositionend","keypress","textInput","paste"]),k("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),k("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),k("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Di="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hl=new Set("cancel close invalid load scroll toggle".split(" ").concat(Di));function la(e,n,r){var a=e.type||"unknown-event";e.currentTarget=r,Bo(a,n,void 0,e),e.currentTarget=null}function sa(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var a=e[r],u=a.event;a=a.listeners;e:{var c=void 0;if(n)for(var g=a.length-1;0<=g;g--){var x=a[g],z=x.instance,$=x.currentTarget;if(x=x.listener,z!==c&&u.isPropagationStopped())break e;la(u,x,$),c=z}else for(g=0;g<a.length;g++){if(x=a[g],z=x.instance,$=x.currentTarget,x=x.listener,z!==c&&u.isPropagationStopped())break e;la(u,x,$),c=z}}}if(sr)throw e=Ur,sr=!1,Ur=null,e}function at(e,n){var r=n[Zi];r===void 0&&(r=n[Zi]=new Set);var a=e+"__bubble";r.has(a)||(fl(n,e,2,!1),r.add(a))}function ua(e,n,r){var a=0;n&&(a|=4),fl(r,e,a,n)}var xr="_reactListening"+Math.random().toString(36).slice(2);function Fi(e){if(!e[xr]){e[xr]=!0,y.forEach(function(r){r!=="selectionchange"&&(hl.has(r)||ua(r,!1,e),ua(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[xr]||(n[xr]=!0,ua("selectionchange",!1,n))}}function fl(e,n,r,a){switch(Je(n)){case 1:var u=ds;break;case 4:u=Ga;break;default:u=gr}r=u.bind(null,n,r,e),u=void 0,!Ao||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),a?u!==void 0?e.addEventListener(n,r,{capture:!0,passive:u}):e.addEventListener(n,r,!0):u!==void 0?e.addEventListener(n,r,{passive:u}):e.addEventListener(n,r,!1)}function t(e,n,r,a,u){var c=a;if((n&1)===0&&(n&2)===0&&a!==null)e:for(;;){if(a===null)return;var g=a.tag;if(g===3||g===4){var x=a.stateNode.containerInfo;if(x===u||x.nodeType===8&&x.parentNode===u)break;if(g===4)for(g=a.return;g!==null;){var z=g.tag;if((z===3||z===4)&&(z=g.stateNode.containerInfo,z===u||z.nodeType===8&&z.parentNode===u))return;g=g.return}for(;x!==null;){if(g=ci(x),g===null)return;if(z=g.tag,z===5||z===6){a=c=g;continue e}x=x.parentNode}}a=a.return}jr(function(){var $=c,se=zo(r),he=[];e:{var le=Ri.get(e);if(le!==void 0){var Pe=Vo,Ne=e;switch(e){case"keypress":if(Xr(r)===0)break e;case"keydown":case"keyup":Pe=Qa;break;case"focusin":Ne="focus",Pe=eo;break;case"focusout":Ne="blur",Pe=eo;break;case"beforeblur":case"afterblur":Pe=eo;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Pe=Go;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Pe=Ko;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Pe=Qo;break;case ul:case gn:case oa:Pe=ps;break;case aa:Pe=_s;break;case"scroll":Pe=hs;break;case"wheel":Pe=ws;break;case"copy":case"cut":case"paste":Pe=Yo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Pe=el}var ze=(n&4)!==0,yt=!ze&&e==="scroll",U=ze?le!==null?le+"Capture":null:le;ze=[];for(var A=$,H;A!==null;){H=A;var me=H.stateNode;if(H.tag===5&&me!==null&&(H=me,U!==null&&(me=ar(A,U),me!=null&&ze.push(i(A,me,H)))),yt)break;A=A.return}0<ze.length&&(le=new Pe(le,Ne,null,r,se),he.push({event:le,listeners:ze}))}}if((n&7)===0){e:{if(le=e==="mouseover"||e==="pointerover",Pe=e==="mouseout"||e==="pointerout",le&&r!==Mo&&(Ne=r.relatedTarget||r.fromElement)&&(ci(Ne)||Ne[nt]))break e;if((Pe||le)&&(le=se.window===se?se:(le=se.ownerDocument)?le.defaultView||le.parentWindow:window,Pe?(Ne=r.relatedTarget||r.toElement,Pe=$,Ne=Ne?ci(Ne):null,Ne!==null&&(yt=Dn(Ne),Ne!==yt||Ne.tag!==5&&Ne.tag!==6)&&(Ne=null)):(Pe=null,Ne=$),Pe!==Ne)){if(ze=Go,me="onMouseLeave",U="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(ze=el,me="onPointerLeave",U="onPointerEnter",A="pointer"),yt=Pe==null?le:hi(Pe),H=Ne==null?le:hi(Ne),le=new ze(me,A+"leave",Pe,r,se),le.target=yt,le.relatedTarget=H,me=null,ci(se)===$&&(ze=new ze(U,A+"enter",Ne,r,se),ze.target=H,ze.relatedTarget=yt,me=ze),yt=me,Pe&&Ne)t:{for(ze=Pe,U=Ne,A=0,H=ze;H;H=s(H))A++;for(H=0,me=U;me;me=s(me))H++;for(;0<A-H;)ze=s(ze),A--;for(;0<H-A;)U=s(U),H--;for(;A--;){if(ze===U||U!==null&&ze===U.alternate)break t;ze=s(ze),U=s(U)}ze=null}else ze=null;Pe!==null&&d(he,le,Pe,ze,!1),Ne!==null&&yt!==null&&d(he,yt,Ne,ze,!0)}}e:{if(le=$?hi($):window,Pe=le.nodeName&&le.nodeName.toLowerCase(),Pe==="select"||Pe==="input"&&le.type==="file")var Ae=Ss;else if(rl(le))if(pn)Ae=ea;else{Ae=zi;var Ue=lo}else(Pe=le.nodeName)&&Pe.toLowerCase()==="input"&&(le.type==="checkbox"||le.type==="radio")&&(Ae=so);if(Ae&&(Ae=Ae(e,$))){io(he,Ae,r,se);break e}Ue&&Ue(e,le,$),e==="focusout"&&(Ue=le._wrapperState)&&Ue.controlled&&le.type==="number"&&be(le,"number",le.value)}switch(Ue=$?hi($):window,e){case"focusin":(rl(Ue)||Ue.contentEditable==="true")&&(Ii=Ue,Ai=$,wr=null);break;case"focusout":wr=Ai=Ii=null;break;case"mousedown":co=!0;break;case"contextmenu":case"mouseup":case"dragend":co=!1,sl(he,r,se);break;case"selectionchange":if(uo)break;case"keydown":case"keyup":sl(he,r,se)}var Ze;if(Un)e:{switch(e){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else On?Ni(e,r)&&(Ve="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Ve="onCompositionStart");Ve&&(nl&&r.locale!=="ko"&&(On||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&On&&(Ze=Ho()):(Fn=se,Ft="value"in Fn?Fn.value:Fn.textContent,On=!0)),Ue=o($,Ve),0<Ue.length&&(Ve=new qo(Ve,e,null,r,se),he.push({event:Ve,listeners:Ue}),Ze?Ve.data=Ze:(Ze=Xo(r),Ze!==null&&(Ve.data=Ze)))),(Ze=Ln?Cs(e,r):Zn(e,r))&&($=o($,"onBeforeInput"),0<$.length&&(se=new qo("onBeforeInput","beforeinput",null,r,se),he.push({event:se,listeners:$}),se.data=Ze))}sa(he,n)})}function i(e,n,r){return{instance:e,listener:n,currentTarget:r}}function o(e,n){for(var r=n+"Capture",a=[];e!==null;){var u=e,c=u.stateNode;u.tag===5&&c!==null&&(u=c,c=ar(e,r),c!=null&&a.unshift(i(e,c,u)),c=ar(e,n),c!=null&&a.push(i(e,c,u))),e=e.return}return a}function s(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function d(e,n,r,a,u){for(var c=n._reactName,g=[];r!==null&&r!==a;){var x=r,z=x.alternate,$=x.stateNode;if(z!==null&&z===a)break;x.tag===5&&$!==null&&(x=$,u?(z=ar(r,c),z!=null&&g.unshift(i(r,z,x))):u||(z=ar(r,c),z!=null&&g.push(i(r,z,x)))),r=r.return}g.length!==0&&e.push({event:n,listeners:g})}var v=/\r\n?/g,O=/\u0000|\uFFFD/g;function F(e){return(typeof e=="string"?e:""+e).replace(v,`
`).replace(O,"")}function V(e,n,r){if(n=F(n),F(e)!==n&&r)throw Error(h(425))}function oe(){}var xe=null,je=null;function Ye(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var St=typeof setTimeout=="function"?setTimeout:void 0,_t=typeof clearTimeout=="function"?clearTimeout:void 0,Ut=typeof Promise=="function"?Promise:void 0,It=typeof queueMicrotask=="function"?queueMicrotask:typeof Ut<"u"?function(e){return Ut.resolve(null).then(e).catch(ji)}:St;function ji(e){setTimeout(function(){throw e})}function ca(e,n){var r=n,a=0;do{var u=r.nextSibling;if(e.removeChild(r),u&&u.nodeType===8)if(r=u.data,r==="/$"){if(a===0){e.removeChild(u),rn(n);return}a--}else r!=="$"&&r!=="$?"&&r!=="$!"||a++;r=u}while(r);rn(n)}function $n(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function pl(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return e;n--}else r==="/$"&&n++}e=e.previousSibling}return null}var ui=Math.random().toString(36).slice(2),vn="__reactFiber$"+ui,Ui="__reactProps$"+ui,nt="__reactContainer$"+ui,Zi="__reactEvents$"+ui,bs="__reactListeners$"+ui,Ps="__reactHandles$"+ui;function ci(e){var n=e[vn];if(n)return n;for(var r=e.parentNode;r;){if(n=r[nt]||r[vn]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=pl(e);e!==null;){if(r=e[vn])return r;e=pl(e)}return n}e=r,r=e.parentNode}return null}function di(e){return e=e[vn]||e[nt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function hi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(h(33))}function fo(e){return e[Ui]||null}var Ts=[],po=-1;function Wi(e){return{current:e}}function ct(e){0>po||(e.current=Ts[po],Ts[po]=null,po--)}function st(e,n){po++,Ts[po]=e.current,e.current=n}var Hi={},At=Wi(Hi),Kt=Wi(!1),Sr=Hi;function mo(e,n){var r=e.type.contextTypes;if(!r)return Hi;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===n)return a.__reactInternalMemoizedMaskedChildContext;var u={},c;for(c in r)u[c]=n[c];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=u),u}function Yt(e){return e=e.childContextTypes,e!=null}function ml(){ct(Kt),ct(At)}function Gu(e,n,r){if(At.current!==Hi)throw Error(h(168));st(At,n),st(Kt,r)}function Ku(e,n,r){var a=e.stateNode;if(n=n.childContextTypes,typeof a.getChildContext!="function")return r;a=a.getChildContext();for(var u in a)if(!(u in n))throw Error(h(108,fe(e)||"Unknown",u));return W({},r,a)}function gl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Hi,Sr=At.current,st(At,e),st(Kt,Kt.current),!0}function Yu(e,n,r){var a=e.stateNode;if(!a)throw Error(h(169));r?(e=Ku(e,n,Sr),a.__reactInternalMemoizedMergedChildContext=e,ct(Kt),ct(At),st(At,e)):ct(Kt),st(Kt,r)}var fi=null,vl=!1,Es=!1;function qu(e){fi===null?fi=[e]:fi.push(e)}function mh(e){vl=!0,qu(e)}function Vi(){if(!Es&&fi!==null){Es=!0;var e=0,n=Qe;try{var r=fi;for(Qe=1;e<r.length;e++){var a=r[e];do a=a(!0);while(a!==null)}fi=null,vl=!1}catch(u){throw fi!==null&&(fi=fi.slice(e+1)),Ha(Fo,Vi),u}finally{Qe=n,Es=!1}}return null}var go=[],vo=0,yl=null,_l=0,yn=[],_n=0,kr=null,pi=1,mi="";function br(e,n){go[vo++]=_l,go[vo++]=yl,yl=e,_l=n}function Ju(e,n,r){yn[_n++]=pi,yn[_n++]=mi,yn[_n++]=kr,kr=e;var a=pi;e=mi;var u=32-Ke(a)-1;a&=~(1<<u),r+=1;var c=32-Ke(n)+u;if(30<c){var g=u-u%5;c=(a&(1<<g)-1).toString(32),a>>=g,u-=g,pi=1<<32-Ke(n)+u|r<<u|a,mi=c+e}else pi=1<<c|r<<u|a,mi=e}function Ls(e){e.return!==null&&(br(e,1),Ju(e,1,0))}function Os(e){for(;e===yl;)yl=go[--vo],go[vo]=null,_l=go[--vo],go[vo]=null;for(;e===kr;)kr=yn[--_n],yn[_n]=null,mi=yn[--_n],yn[_n]=null,pi=yn[--_n],yn[_n]=null}var un=null,cn=null,dt=!1,Mn=null;function Qu(e,n){var r=Sn(5,null,null,0);r.elementType="DELETED",r.stateNode=n,r.return=e,n=e.deletions,n===null?(e.deletions=[r],e.flags|=16):n.push(r)}function Xu(e,n){switch(e.tag){case 5:var r=e.type;return n=n.nodeType!==1||r.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,un=e,cn=$n(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,un=e,cn=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(r=kr!==null?{id:pi,overflow:mi}:null,e.memoizedState={dehydrated:n,treeContext:r,retryLane:1073741824},r=Sn(18,null,null,0),r.stateNode=n,r.return=e,e.child=r,un=e,cn=null,!0):!1;default:return!1}}function Ns(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ms(e){if(dt){var n=cn;if(n){var r=n;if(!Xu(e,n)){if(Ns(e))throw Error(h(418));n=$n(r.nextSibling);var a=un;n&&Xu(e,n)?Qu(a,r):(e.flags=e.flags&-4097|2,dt=!1,un=e)}}else{if(Ns(e))throw Error(h(418));e.flags=e.flags&-4097|2,dt=!1,un=e}}}function ec(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;un=e}function wl(e){if(e!==un)return!1;if(!dt)return ec(e),dt=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!Ye(e.type,e.memoizedProps)),n&&(n=cn)){if(Ns(e))throw tc(),Error(h(418));for(;n;)Qu(e,n),n=$n(n.nextSibling)}if(ec(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(h(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(n===0){cn=$n(e.nextSibling);break e}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++}e=e.nextSibling}cn=null}}else cn=un?$n(e.stateNode.nextSibling):null;return!0}function tc(){for(var e=cn;e;)e=$n(e.nextSibling)}function yo(){cn=un=null,dt=!1}function zs(e){Mn===null?Mn=[e]:Mn.push(e)}var gh=de.ReactCurrentBatchConfig;function da(e,n,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(h(309));var a=r.stateNode}if(!a)throw Error(h(147,e));var u=a,c=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===c?n.ref:(n=function(g){var x=u.refs;g===null?delete x[c]:x[c]=g},n._stringRef=c,n)}if(typeof e!="string")throw Error(h(284));if(!r._owner)throw Error(h(290,e))}return e}function Cl(e,n){throw e=Object.prototype.toString.call(n),Error(h(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function nc(e){var n=e._init;return n(e._payload)}function ic(e){function n(U,A){if(e){var H=U.deletions;H===null?(U.deletions=[A],U.flags|=16):H.push(A)}}function r(U,A){if(!e)return null;for(;A!==null;)n(U,A),A=A.sibling;return null}function a(U,A){for(U=new Map;A!==null;)A.key!==null?U.set(A.key,A):U.set(A.index,A),A=A.sibling;return U}function u(U,A){return U=Xi(U,A),U.index=0,U.sibling=null,U}function c(U,A,H){return U.index=H,e?(H=U.alternate,H!==null?(H=H.index,H<A?(U.flags|=2,A):H):(U.flags|=2,A)):(U.flags|=1048576,A)}function g(U){return e&&U.alternate===null&&(U.flags|=2),U}function x(U,A,H,me){return A===null||A.tag!==6?(A=ku(H,U.mode,me),A.return=U,A):(A=u(A,H),A.return=U,A)}function z(U,A,H,me){var Ae=H.type;return Ae===Me?se(U,A,H.props.children,me,H.key):A!==null&&(A.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===X&&nc(Ae)===A.type)?(me=u(A,H.props),me.ref=da(U,A,H),me.return=U,me):(me=Vl(H.type,H.key,H.props,null,U.mode,me),me.ref=da(U,A,H),me.return=U,me)}function $(U,A,H,me){return A===null||A.tag!==4||A.stateNode.containerInfo!==H.containerInfo||A.stateNode.implementation!==H.implementation?(A=bu(H,U.mode,me),A.return=U,A):(A=u(A,H.children||[]),A.return=U,A)}function se(U,A,H,me,Ae){return A===null||A.tag!==7?(A=zr(H,U.mode,me,Ae),A.return=U,A):(A=u(A,H),A.return=U,A)}function he(U,A,H){if(typeof A=="string"&&A!==""||typeof A=="number")return A=ku(""+A,U.mode,H),A.return=U,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Se:return H=Vl(A.type,A.key,A.props,null,U.mode,H),H.ref=da(U,null,A),H.return=U,H;case Re:return A=bu(A,U.mode,H),A.return=U,A;case X:var me=A._init;return he(U,me(A._payload),H)}if(D(A)||ee(A))return A=zr(A,U.mode,H,null),A.return=U,A;Cl(U,A)}return null}function le(U,A,H,me){var Ae=A!==null?A.key:null;if(typeof H=="string"&&H!==""||typeof H=="number")return Ae!==null?null:x(U,A,""+H,me);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case Se:return H.key===Ae?z(U,A,H,me):null;case Re:return H.key===Ae?$(U,A,H,me):null;case X:return Ae=H._init,le(U,A,Ae(H._payload),me)}if(D(H)||ee(H))return Ae!==null?null:se(U,A,H,me,null);Cl(U,H)}return null}function Pe(U,A,H,me,Ae){if(typeof me=="string"&&me!==""||typeof me=="number")return U=U.get(H)||null,x(A,U,""+me,Ae);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case Se:return U=U.get(me.key===null?H:me.key)||null,z(A,U,me,Ae);case Re:return U=U.get(me.key===null?H:me.key)||null,$(A,U,me,Ae);case X:var Ue=me._init;return Pe(U,A,H,Ue(me._payload),Ae)}if(D(me)||ee(me))return U=U.get(H)||null,se(A,U,me,Ae,null);Cl(A,me)}return null}function Ne(U,A,H,me){for(var Ae=null,Ue=null,Ze=A,Ve=A=0,Et=null;Ze!==null&&Ve<H.length;Ve++){Ze.index>Ve?(Et=Ze,Ze=null):Et=Ze.sibling;var tt=le(U,Ze,H[Ve],me);if(tt===null){Ze===null&&(Ze=Et);break}e&&Ze&&tt.alternate===null&&n(U,Ze),A=c(tt,A,Ve),Ue===null?Ae=tt:Ue.sibling=tt,Ue=tt,Ze=Et}if(Ve===H.length)return r(U,Ze),dt&&br(U,Ve),Ae;if(Ze===null){for(;Ve<H.length;Ve++)Ze=he(U,H[Ve],me),Ze!==null&&(A=c(Ze,A,Ve),Ue===null?Ae=Ze:Ue.sibling=Ze,Ue=Ze);return dt&&br(U,Ve),Ae}for(Ze=a(U,Ze);Ve<H.length;Ve++)Et=Pe(Ze,U,Ve,H[Ve],me),Et!==null&&(e&&Et.alternate!==null&&Ze.delete(Et.key===null?Ve:Et.key),A=c(Et,A,Ve),Ue===null?Ae=Et:Ue.sibling=Et,Ue=Et);return e&&Ze.forEach(function(er){return n(U,er)}),dt&&br(U,Ve),Ae}function ze(U,A,H,me){var Ae=ee(H);if(typeof Ae!="function")throw Error(h(150));if(H=Ae.call(H),H==null)throw Error(h(151));for(var Ue=Ae=null,Ze=A,Ve=A=0,Et=null,tt=H.next();Ze!==null&&!tt.done;Ve++,tt=H.next()){Ze.index>Ve?(Et=Ze,Ze=null):Et=Ze.sibling;var er=le(U,Ze,tt.value,me);if(er===null){Ze===null&&(Ze=Et);break}e&&Ze&&er.alternate===null&&n(U,Ze),A=c(er,A,Ve),Ue===null?Ae=er:Ue.sibling=er,Ue=er,Ze=Et}if(tt.done)return r(U,Ze),dt&&br(U,Ve),Ae;if(Ze===null){for(;!tt.done;Ve++,tt=H.next())tt=he(U,tt.value,me),tt!==null&&(A=c(tt,A,Ve),Ue===null?Ae=tt:Ue.sibling=tt,Ue=tt);return dt&&br(U,Ve),Ae}for(Ze=a(U,Ze);!tt.done;Ve++,tt=H.next())tt=Pe(Ze,U,Ve,tt.value,me),tt!==null&&(e&&tt.alternate!==null&&Ze.delete(tt.key===null?Ve:tt.key),A=c(tt,A,Ve),Ue===null?Ae=tt:Ue.sibling=tt,Ue=tt);return e&&Ze.forEach(function(Yh){return n(U,Yh)}),dt&&br(U,Ve),Ae}function yt(U,A,H,me){if(typeof H=="object"&&H!==null&&H.type===Me&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case Se:e:{for(var Ae=H.key,Ue=A;Ue!==null;){if(Ue.key===Ae){if(Ae=H.type,Ae===Me){if(Ue.tag===7){r(U,Ue.sibling),A=u(Ue,H.props.children),A.return=U,U=A;break e}}else if(Ue.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===X&&nc(Ae)===Ue.type){r(U,Ue.sibling),A=u(Ue,H.props),A.ref=da(U,Ue,H),A.return=U,U=A;break e}r(U,Ue);break}else n(U,Ue);Ue=Ue.sibling}H.type===Me?(A=zr(H.props.children,U.mode,me,H.key),A.return=U,U=A):(me=Vl(H.type,H.key,H.props,null,U.mode,me),me.ref=da(U,A,H),me.return=U,U=me)}return g(U);case Re:e:{for(Ue=H.key;A!==null;){if(A.key===Ue)if(A.tag===4&&A.stateNode.containerInfo===H.containerInfo&&A.stateNode.implementation===H.implementation){r(U,A.sibling),A=u(A,H.children||[]),A.return=U,U=A;break e}else{r(U,A);break}else n(U,A);A=A.sibling}A=bu(H,U.mode,me),A.return=U,U=A}return g(U);case X:return Ue=H._init,yt(U,A,Ue(H._payload),me)}if(D(H))return Ne(U,A,H,me);if(ee(H))return ze(U,A,H,me);Cl(U,H)}return typeof H=="string"&&H!==""||typeof H=="number"?(H=""+H,A!==null&&A.tag===6?(r(U,A.sibling),A=u(A,H),A.return=U,U=A):(r(U,A),A=ku(H,U.mode,me),A.return=U,U=A),g(U)):r(U,A)}return yt}var _o=ic(!0),rc=ic(!1),xl=Wi(null),Sl=null,wo=null,Is=null;function As(){Is=wo=Sl=null}function Bs(e){var n=xl.current;ct(xl),e._currentValue=n}function Rs(e,n,r){for(;e!==null;){var a=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,a!==null&&(a.childLanes|=n)):a!==null&&(a.childLanes&n)!==n&&(a.childLanes|=n),e===r)break;e=e.return}}function Co(e,n){Sl=e,Is=wo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&n)!==0&&(qt=!0),e.firstContext=null)}function wn(e){var n=e._currentValue;if(Is!==e)if(e={context:e,memoizedValue:n,next:null},wo===null){if(Sl===null)throw Error(h(308));wo=e,Sl.dependencies={lanes:0,firstContext:e}}else wo=wo.next=e;return n}var Pr=null;function Ds(e){Pr===null?Pr=[e]:Pr.push(e)}function oc(e,n,r,a){var u=n.interleaved;return u===null?(r.next=r,Ds(n)):(r.next=u.next,u.next=r),n.interleaved=r,gi(e,a)}function gi(e,n){e.lanes|=n;var r=e.alternate;for(r!==null&&(r.lanes|=n),r=e,e=e.return;e!==null;)e.childLanes|=n,r=e.alternate,r!==null&&(r.childLanes|=n),r=e,e=e.return;return r.tag===3?r.stateNode:null}var $i=!1;function Fs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ac(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function vi(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Gi(e,n,r){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(et&2)!==0){var u=a.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),a.pending=n,gi(e,r)}return u=a.interleaved,u===null?(n.next=n,Ds(a)):(n.next=u.next,u.next=n),a.interleaved=n,gi(e,r)}function kl(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194240)!==0)){var a=n.lanes;a&=e.pendingLanes,r|=a,n.lanes=r,Tn(e,r)}}function lc(e,n){var r=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,r===a)){var u=null,c=null;if(r=r.firstBaseUpdate,r!==null){do{var g={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};c===null?u=c=g:c=c.next=g,r=r.next}while(r!==null);c===null?u=c=n:c=c.next=n}else u=c=n;r={baseState:a.baseState,firstBaseUpdate:u,lastBaseUpdate:c,shared:a.shared,effects:a.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}function bl(e,n,r,a){var u=e.updateQueue;$i=!1;var c=u.firstBaseUpdate,g=u.lastBaseUpdate,x=u.shared.pending;if(x!==null){u.shared.pending=null;var z=x,$=z.next;z.next=null,g===null?c=$:g.next=$,g=z;var se=e.alternate;se!==null&&(se=se.updateQueue,x=se.lastBaseUpdate,x!==g&&(x===null?se.firstBaseUpdate=$:x.next=$,se.lastBaseUpdate=z))}if(c!==null){var he=u.baseState;g=0,se=$=z=null,x=c;do{var le=x.lane,Pe=x.eventTime;if((a&le)===le){se!==null&&(se=se.next={eventTime:Pe,lane:0,tag:x.tag,payload:x.payload,callback:x.callback,next:null});e:{var Ne=e,ze=x;switch(le=n,Pe=r,ze.tag){case 1:if(Ne=ze.payload,typeof Ne=="function"){he=Ne.call(Pe,he,le);break e}he=Ne;break e;case 3:Ne.flags=Ne.flags&-65537|128;case 0:if(Ne=ze.payload,le=typeof Ne=="function"?Ne.call(Pe,he,le):Ne,le==null)break e;he=W({},he,le);break e;case 2:$i=!0}}x.callback!==null&&x.lane!==0&&(e.flags|=64,le=u.effects,le===null?u.effects=[x]:le.push(x))}else Pe={eventTime:Pe,lane:le,tag:x.tag,payload:x.payload,callback:x.callback,next:null},se===null?($=se=Pe,z=he):se=se.next=Pe,g|=le;if(x=x.next,x===null){if(x=u.shared.pending,x===null)break;le=x,x=le.next,le.next=null,u.lastBaseUpdate=le,u.shared.pending=null}}while(!0);if(se===null&&(z=he),u.baseState=z,u.firstBaseUpdate=$,u.lastBaseUpdate=se,n=u.shared.interleaved,n!==null){u=n;do g|=u.lane,u=u.next;while(u!==n)}else c===null&&(u.shared.lanes=0);Lr|=g,e.lanes=g,e.memoizedState=he}}function sc(e,n,r){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var a=e[n],u=a.callback;if(u!==null){if(a.callback=null,a=r,typeof u!="function")throw Error(h(191,u));u.call(a)}}}var ha={},Gn=Wi(ha),fa=Wi(ha),pa=Wi(ha);function Tr(e){if(e===ha)throw Error(h(174));return e}function js(e,n){switch(st(pa,n),st(fa,e),st(Gn,ha),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Rr(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=Rr(n,e)}ct(Gn),st(Gn,n)}function xo(){ct(Gn),ct(fa),ct(pa)}function uc(e){Tr(pa.current);var n=Tr(Gn.current),r=Rr(n,e.type);n!==r&&(st(fa,e),st(Gn,r))}function Us(e){fa.current===e&&(ct(Gn),ct(fa))}var pt=Wi(0);function Pl(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Zs=[];function Ws(){for(var e=0;e<Zs.length;e++)Zs[e]._workInProgressVersionPrimary=null;Zs.length=0}var Tl=de.ReactCurrentDispatcher,Hs=de.ReactCurrentBatchConfig,Er=0,mt=null,kt=null,Pt=null,El=!1,ma=!1,ga=0,vh=0;function Bt(){throw Error(h(321))}function Vs(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!ln(e[r],n[r]))return!1;return!0}function $s(e,n,r,a,u,c){if(Er=c,mt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Tl.current=e===null||e.memoizedState===null?Ch:xh,e=r(a,u),ma){c=0;do{if(ma=!1,ga=0,25<=c)throw Error(h(301));c+=1,Pt=kt=null,n.updateQueue=null,Tl.current=Sh,e=r(a,u)}while(ma)}if(Tl.current=Nl,n=kt!==null&&kt.next!==null,Er=0,Pt=kt=mt=null,El=!1,n)throw Error(h(300));return e}function Gs(){var e=ga!==0;return ga=0,e}function Kn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?mt.memoizedState=Pt=e:Pt=Pt.next=e,Pt}function Cn(){if(kt===null){var e=mt.alternate;e=e!==null?e.memoizedState:null}else e=kt.next;var n=Pt===null?mt.memoizedState:Pt.next;if(n!==null)Pt=n,kt=e;else{if(e===null)throw Error(h(310));kt=e,e={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},Pt===null?mt.memoizedState=Pt=e:Pt=Pt.next=e}return Pt}function va(e,n){return typeof n=="function"?n(e):n}function Ks(e){var n=Cn(),r=n.queue;if(r===null)throw Error(h(311));r.lastRenderedReducer=e;var a=kt,u=a.baseQueue,c=r.pending;if(c!==null){if(u!==null){var g=u.next;u.next=c.next,c.next=g}a.baseQueue=u=c,r.pending=null}if(u!==null){c=u.next,a=a.baseState;var x=g=null,z=null,$=c;do{var se=$.lane;if((Er&se)===se)z!==null&&(z=z.next={lane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),a=$.hasEagerState?$.eagerState:e(a,$.action);else{var he={lane:se,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null};z===null?(x=z=he,g=a):z=z.next=he,mt.lanes|=se,Lr|=se}$=$.next}while($!==null&&$!==c);z===null?g=a:z.next=x,ln(a,n.memoizedState)||(qt=!0),n.memoizedState=a,n.baseState=g,n.baseQueue=z,r.lastRenderedState=a}if(e=r.interleaved,e!==null){u=e;do c=u.lane,mt.lanes|=c,Lr|=c,u=u.next;while(u!==e)}else u===null&&(r.lanes=0);return[n.memoizedState,r.dispatch]}function Ys(e){var n=Cn(),r=n.queue;if(r===null)throw Error(h(311));r.lastRenderedReducer=e;var a=r.dispatch,u=r.pending,c=n.memoizedState;if(u!==null){r.pending=null;var g=u=u.next;do c=e(c,g.action),g=g.next;while(g!==u);ln(c,n.memoizedState)||(qt=!0),n.memoizedState=c,n.baseQueue===null&&(n.baseState=c),r.lastRenderedState=c}return[c,a]}function cc(){}function dc(e,n){var r=mt,a=Cn(),u=n(),c=!ln(a.memoizedState,u);if(c&&(a.memoizedState=u,qt=!0),a=a.queue,qs(pc.bind(null,r,a,e),[e]),a.getSnapshot!==n||c||Pt!==null&&Pt.memoizedState.tag&1){if(r.flags|=2048,ya(9,fc.bind(null,r,a,u,n),void 0,null),Tt===null)throw Error(h(349));(Er&30)!==0||hc(r,n,u)}return u}function hc(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=mt.updateQueue,n===null?(n={lastEffect:null,stores:null},mt.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function fc(e,n,r,a){n.value=r,n.getSnapshot=a,mc(n)&&gc(e)}function pc(e,n,r){return r(function(){mc(n)&&gc(e)})}function mc(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!ln(e,r)}catch{return!0}}function gc(e){var n=gi(e,1);n!==null&&Bn(n,e,1,-1)}function vc(e){var n=Kn();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:e},n.queue=e,e=e.dispatch=wh.bind(null,mt,e),[n.memoizedState,e]}function ya(e,n,r,a){return e={tag:e,create:n,destroy:r,deps:a,next:null},n=mt.updateQueue,n===null?(n={lastEffect:null,stores:null},mt.updateQueue=n,n.lastEffect=e.next=e):(r=n.lastEffect,r===null?n.lastEffect=e.next=e:(a=r.next,r.next=e,e.next=a,n.lastEffect=e)),e}function yc(){return Cn().memoizedState}function Ll(e,n,r,a){var u=Kn();mt.flags|=e,u.memoizedState=ya(1|n,r,void 0,a===void 0?null:a)}function Ol(e,n,r,a){var u=Cn();a=a===void 0?null:a;var c=void 0;if(kt!==null){var g=kt.memoizedState;if(c=g.destroy,a!==null&&Vs(a,g.deps)){u.memoizedState=ya(n,r,c,a);return}}mt.flags|=e,u.memoizedState=ya(1|n,r,c,a)}function _c(e,n){return Ll(8390656,8,e,n)}function qs(e,n){return Ol(2048,8,e,n)}function wc(e,n){return Ol(4,2,e,n)}function Cc(e,n){return Ol(4,4,e,n)}function xc(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Sc(e,n,r){return r=r!=null?r.concat([e]):null,Ol(4,4,xc.bind(null,n,e),r)}function Js(){}function kc(e,n){var r=Cn();n=n===void 0?null:n;var a=r.memoizedState;return a!==null&&n!==null&&Vs(n,a[1])?a[0]:(r.memoizedState=[e,n],e)}function bc(e,n){var r=Cn();n=n===void 0?null:n;var a=r.memoizedState;return a!==null&&n!==null&&Vs(n,a[1])?a[0]:(e=e(),r.memoizedState=[e,n],e)}function Pc(e,n,r){return(Er&21)===0?(e.baseState&&(e.baseState=!1,qt=!0),e.memoizedState=r):(ln(r,n)||(r=$a(),mt.lanes|=r,Lr|=r,e.baseState=!0),n)}function yh(e,n){var r=Qe;Qe=r!==0&&4>r?r:4,e(!0);var a=Hs.transition;Hs.transition={};try{e(!1),n()}finally{Qe=r,Hs.transition=a}}function Tc(){return Cn().memoizedState}function _h(e,n,r){var a=Ji(e);if(r={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null},Ec(e))Lc(n,r);else if(r=oc(e,n,r,a),r!==null){var u=Wt();Bn(r,e,a,u),Oc(r,n,a)}}function wh(e,n,r){var a=Ji(e),u={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ec(e))Lc(n,u);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=n.lastRenderedReducer,c!==null))try{var g=n.lastRenderedState,x=c(g,r);if(u.hasEagerState=!0,u.eagerState=x,ln(x,g)){var z=n.interleaved;z===null?(u.next=u,Ds(n)):(u.next=z.next,z.next=u),n.interleaved=u;return}}catch{}finally{}r=oc(e,n,u,a),r!==null&&(u=Wt(),Bn(r,e,a,u),Oc(r,n,a))}}function Ec(e){var n=e.alternate;return e===mt||n!==null&&n===mt}function Lc(e,n){ma=El=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function Oc(e,n,r){if((r&4194240)!==0){var a=n.lanes;a&=e.pendingLanes,r|=a,n.lanes=r,Tn(e,r)}}var Nl={readContext:wn,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useInsertionEffect:Bt,useLayoutEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useMutableSource:Bt,useSyncExternalStore:Bt,useId:Bt,unstable_isNewReconciler:!1},Ch={readContext:wn,useCallback:function(e,n){return Kn().memoizedState=[e,n===void 0?null:n],e},useContext:wn,useEffect:_c,useImperativeHandle:function(e,n,r){return r=r!=null?r.concat([e]):null,Ll(4194308,4,xc.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Ll(4194308,4,e,n)},useInsertionEffect:function(e,n){return Ll(4,2,e,n)},useMemo:function(e,n){var r=Kn();return n=n===void 0?null:n,e=e(),r.memoizedState=[e,n],e},useReducer:function(e,n,r){var a=Kn();return n=r!==void 0?r(n):n,a.memoizedState=a.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},a.queue=e,e=e.dispatch=_h.bind(null,mt,e),[a.memoizedState,e]},useRef:function(e){var n=Kn();return e={current:e},n.memoizedState=e},useState:vc,useDebugValue:Js,useDeferredValue:function(e){return Kn().memoizedState=e},useTransition:function(){var e=vc(!1),n=e[0];return e=yh.bind(null,e[1]),Kn().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,r){var a=mt,u=Kn();if(dt){if(r===void 0)throw Error(h(407));r=r()}else{if(r=n(),Tt===null)throw Error(h(349));(Er&30)!==0||hc(a,n,r)}u.memoizedState=r;var c={value:r,getSnapshot:n};return u.queue=c,_c(pc.bind(null,a,c,e),[e]),a.flags|=2048,ya(9,fc.bind(null,a,c,r,n),void 0,null),r},useId:function(){var e=Kn(),n=Tt.identifierPrefix;if(dt){var r=mi,a=pi;r=(a&~(1<<32-Ke(a)-1)).toString(32)+r,n=":"+n+"R"+r,r=ga++,0<r&&(n+="H"+r.toString(32)),n+=":"}else r=vh++,n=":"+n+"r"+r.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},xh={readContext:wn,useCallback:kc,useContext:wn,useEffect:qs,useImperativeHandle:Sc,useInsertionEffect:wc,useLayoutEffect:Cc,useMemo:bc,useReducer:Ks,useRef:yc,useState:function(){return Ks(va)},useDebugValue:Js,useDeferredValue:function(e){var n=Cn();return Pc(n,kt.memoizedState,e)},useTransition:function(){var e=Ks(va)[0],n=Cn().memoizedState;return[e,n]},useMutableSource:cc,useSyncExternalStore:dc,useId:Tc,unstable_isNewReconciler:!1},Sh={readContext:wn,useCallback:kc,useContext:wn,useEffect:qs,useImperativeHandle:Sc,useInsertionEffect:wc,useLayoutEffect:Cc,useMemo:bc,useReducer:Ys,useRef:yc,useState:function(){return Ys(va)},useDebugValue:Js,useDeferredValue:function(e){var n=Cn();return kt===null?n.memoizedState=e:Pc(n,kt.memoizedState,e)},useTransition:function(){var e=Ys(va)[0],n=Cn().memoizedState;return[e,n]},useMutableSource:cc,useSyncExternalStore:dc,useId:Tc,unstable_isNewReconciler:!1};function zn(e,n){if(e&&e.defaultProps){n=W({},n),e=e.defaultProps;for(var r in e)n[r]===void 0&&(n[r]=e[r]);return n}return n}function Qs(e,n,r,a){n=e.memoizedState,r=r(a,n),r=r==null?n:W({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ml={isMounted:function(e){return(e=e._reactInternals)?Dn(e)===e:!1},enqueueSetState:function(e,n,r){e=e._reactInternals;var a=Wt(),u=Ji(e),c=vi(a,u);c.payload=n,r!=null&&(c.callback=r),n=Gi(e,c,u),n!==null&&(Bn(n,e,u,a),kl(n,e,u))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var a=Wt(),u=Ji(e),c=vi(a,u);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=Gi(e,c,u),n!==null&&(Bn(n,e,u,a),kl(n,e,u))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=Wt(),a=Ji(e),u=vi(r,a);u.tag=2,n!=null&&(u.callback=n),n=Gi(e,u,a),n!==null&&(Bn(n,e,a,r),kl(n,e,a))}};function Nc(e,n,r,a,u,c,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,c,g):n.prototype&&n.prototype.isPureReactComponent?!Wn(r,a)||!Wn(u,c):!0}function Mc(e,n,r){var a=!1,u=Hi,c=n.contextType;return typeof c=="object"&&c!==null?c=wn(c):(u=Yt(n)?Sr:At.current,a=n.contextTypes,c=(a=a!=null)?mo(e,u):Hi),n=new n(r,c),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Ml,e.stateNode=n,n._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=u,e.__reactInternalMemoizedMaskedChildContext=c),n}function zc(e,n,r,a){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,a),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,a),n.state!==e&&Ml.enqueueReplaceState(n,n.state,null)}function Xs(e,n,r,a){var u=e.stateNode;u.props=r,u.state=e.memoizedState,u.refs={},Fs(e);var c=n.contextType;typeof c=="object"&&c!==null?u.context=wn(c):(c=Yt(n)?Sr:At.current,u.context=mo(e,c)),u.state=e.memoizedState,c=n.getDerivedStateFromProps,typeof c=="function"&&(Qs(e,n,c,r),u.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(n=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),n!==u.state&&Ml.enqueueReplaceState(u,u.state,null),bl(e,r,u,a),u.state=e.memoizedState),typeof u.componentDidMount=="function"&&(e.flags|=4194308)}function So(e,n){try{var r="",a=n;do r+=ke(a),a=a.return;while(a);var u=r}catch(c){u=`
Error generating stack: `+c.message+`
`+c.stack}return{value:e,source:n,stack:u,digest:null}}function eu(e,n,r){return{value:e,source:null,stack:r??null,digest:n??null}}function tu(e,n){try{console.error(n.value)}catch(r){setTimeout(function(){throw r})}}var kh=typeof WeakMap=="function"?WeakMap:Map;function Ic(e,n,r){r=vi(-1,r),r.tag=3,r.payload={element:null};var a=n.value;return r.callback=function(){Fl||(Fl=!0,gu=a),tu(e,n)},r}function Ac(e,n,r){r=vi(-1,r),r.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var u=n.value;r.payload=function(){return a(u)},r.callback=function(){tu(e,n)}}var c=e.stateNode;return c!==null&&typeof c.componentDidCatch=="function"&&(r.callback=function(){tu(e,n),typeof a!="function"&&(Yi===null?Yi=new Set([this]):Yi.add(this));var g=n.stack;this.componentDidCatch(n.value,{componentStack:g!==null?g:""})}),r}function Bc(e,n,r){var a=e.pingCache;if(a===null){a=e.pingCache=new kh;var u=new Set;a.set(n,u)}else u=a.get(n),u===void 0&&(u=new Set,a.set(n,u));u.has(r)||(u.add(r),e=Dh.bind(null,e,n,r),n.then(e,e))}function Rc(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function Dc(e,n,r,a,u){return(e.mode&1)===0?(e===n?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(n=vi(-1,1),n.tag=2,Gi(r,n,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=u,e)}var bh=de.ReactCurrentOwner,qt=!1;function Zt(e,n,r,a){n.child=e===null?rc(n,null,r,a):_o(n,e.child,r,a)}function Fc(e,n,r,a,u){r=r.render;var c=n.ref;return Co(n,u),a=$s(e,n,r,a,c,u),r=Gs(),e!==null&&!qt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~u,yi(e,n,u)):(dt&&r&&Ls(n),n.flags|=1,Zt(e,n,a,u),n.child)}function jc(e,n,r,a,u){if(e===null){var c=r.type;return typeof c=="function"&&!Su(c)&&c.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(n.tag=15,n.type=c,Uc(e,n,c,a,u)):(e=Vl(r.type,null,a,n,n.mode,u),e.ref=n.ref,e.return=n,n.child=e)}if(c=e.child,(e.lanes&u)===0){var g=c.memoizedProps;if(r=r.compare,r=r!==null?r:Wn,r(g,a)&&e.ref===n.ref)return yi(e,n,u)}return n.flags|=1,e=Xi(c,a),e.ref=n.ref,e.return=n,n.child=e}function Uc(e,n,r,a,u){if(e!==null){var c=e.memoizedProps;if(Wn(c,a)&&e.ref===n.ref)if(qt=!1,n.pendingProps=a=c,(e.lanes&u)!==0)(e.flags&131072)!==0&&(qt=!0);else return n.lanes=e.lanes,yi(e,n,u)}return nu(e,n,r,a,u)}function Zc(e,n,r){var a=n.pendingProps,u=a.children,c=e!==null?e.memoizedState:null;if(a.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},st(bo,dn),dn|=r;else{if((r&1073741824)===0)return e=c!==null?c.baseLanes|r:r,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,st(bo,dn),dn|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=c!==null?c.baseLanes:r,st(bo,dn),dn|=a}else c!==null?(a=c.baseLanes|r,n.memoizedState=null):a=r,st(bo,dn),dn|=a;return Zt(e,n,u,r),n.child}function Wc(e,n){var r=n.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(n.flags|=512,n.flags|=2097152)}function nu(e,n,r,a,u){var c=Yt(r)?Sr:At.current;return c=mo(n,c),Co(n,u),r=$s(e,n,r,a,c,u),a=Gs(),e!==null&&!qt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~u,yi(e,n,u)):(dt&&a&&Ls(n),n.flags|=1,Zt(e,n,r,u),n.child)}function Hc(e,n,r,a,u){if(Yt(r)){var c=!0;gl(n)}else c=!1;if(Co(n,u),n.stateNode===null)Il(e,n),Mc(n,r,a),Xs(n,r,a,u),a=!0;else if(e===null){var g=n.stateNode,x=n.memoizedProps;g.props=x;var z=g.context,$=r.contextType;typeof $=="object"&&$!==null?$=wn($):($=Yt(r)?Sr:At.current,$=mo(n,$));var se=r.getDerivedStateFromProps,he=typeof se=="function"||typeof g.getSnapshotBeforeUpdate=="function";he||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(x!==a||z!==$)&&zc(n,g,a,$),$i=!1;var le=n.memoizedState;g.state=le,bl(n,a,g,u),z=n.memoizedState,x!==a||le!==z||Kt.current||$i?(typeof se=="function"&&(Qs(n,r,se,a),z=n.memoizedState),(x=$i||Nc(n,r,x,a,le,z,$))?(he||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(n.flags|=4194308)):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=a,n.memoizedState=z),g.props=a,g.state=z,g.context=$,a=x):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),a=!1)}else{g=n.stateNode,ac(e,n),x=n.memoizedProps,$=n.type===n.elementType?x:zn(n.type,x),g.props=$,he=n.pendingProps,le=g.context,z=r.contextType,typeof z=="object"&&z!==null?z=wn(z):(z=Yt(r)?Sr:At.current,z=mo(n,z));var Pe=r.getDerivedStateFromProps;(se=typeof Pe=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(x!==he||le!==z)&&zc(n,g,a,z),$i=!1,le=n.memoizedState,g.state=le,bl(n,a,g,u);var Ne=n.memoizedState;x!==he||le!==Ne||Kt.current||$i?(typeof Pe=="function"&&(Qs(n,r,Pe,a),Ne=n.memoizedState),($=$i||Nc(n,r,$,a,le,Ne,z)||!1)?(se||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(a,Ne,z),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(a,Ne,z)),typeof g.componentDidUpdate=="function"&&(n.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof g.componentDidUpdate!="function"||x===e.memoizedProps&&le===e.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&le===e.memoizedState||(n.flags|=1024),n.memoizedProps=a,n.memoizedState=Ne),g.props=a,g.state=Ne,g.context=z,a=$):(typeof g.componentDidUpdate!="function"||x===e.memoizedProps&&le===e.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&le===e.memoizedState||(n.flags|=1024),a=!1)}return iu(e,n,r,a,c,u)}function iu(e,n,r,a,u,c){Wc(e,n);var g=(n.flags&128)!==0;if(!a&&!g)return u&&Yu(n,r,!1),yi(e,n,c);a=n.stateNode,bh.current=n;var x=g&&typeof r.getDerivedStateFromError!="function"?null:a.render();return n.flags|=1,e!==null&&g?(n.child=_o(n,e.child,null,c),n.child=_o(n,null,x,c)):Zt(e,n,x,c),n.memoizedState=a.state,u&&Yu(n,r,!0),n.child}function Vc(e){var n=e.stateNode;n.pendingContext?Gu(e,n.pendingContext,n.pendingContext!==n.context):n.context&&Gu(e,n.context,!1),js(e,n.containerInfo)}function $c(e,n,r,a,u){return yo(),zs(u),n.flags|=256,Zt(e,n,r,a),n.child}var ru={dehydrated:null,treeContext:null,retryLane:0};function ou(e){return{baseLanes:e,cachePool:null,transitions:null}}function Gc(e,n,r){var a=n.pendingProps,u=pt.current,c=!1,g=(n.flags&128)!==0,x;if((x=g)||(x=e!==null&&e.memoizedState===null?!1:(u&2)!==0),x?(c=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(u|=1),st(pt,u&1),e===null)return Ms(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((n.mode&1)===0?n.lanes=1:e.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(g=a.children,e=a.fallback,c?(a=n.mode,c=n.child,g={mode:"hidden",children:g},(a&1)===0&&c!==null?(c.childLanes=0,c.pendingProps=g):c=$l(g,a,0,null),e=zr(e,a,r,null),c.return=n,e.return=n,c.sibling=e,n.child=c,n.child.memoizedState=ou(r),n.memoizedState=ru,e):au(n,g));if(u=e.memoizedState,u!==null&&(x=u.dehydrated,x!==null))return Ph(e,n,g,a,x,u,r);if(c){c=a.fallback,g=n.mode,u=e.child,x=u.sibling;var z={mode:"hidden",children:a.children};return(g&1)===0&&n.child!==u?(a=n.child,a.childLanes=0,a.pendingProps=z,n.deletions=null):(a=Xi(u,z),a.subtreeFlags=u.subtreeFlags&14680064),x!==null?c=Xi(x,c):(c=zr(c,g,r,null),c.flags|=2),c.return=n,a.return=n,a.sibling=c,n.child=a,a=c,c=n.child,g=e.child.memoizedState,g=g===null?ou(r):{baseLanes:g.baseLanes|r,cachePool:null,transitions:g.transitions},c.memoizedState=g,c.childLanes=e.childLanes&~r,n.memoizedState=ru,a}return c=e.child,e=c.sibling,a=Xi(c,{mode:"visible",children:a.children}),(n.mode&1)===0&&(a.lanes=r),a.return=n,a.sibling=null,e!==null&&(r=n.deletions,r===null?(n.deletions=[e],n.flags|=16):r.push(e)),n.child=a,n.memoizedState=null,a}function au(e,n){return n=$l({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function zl(e,n,r,a){return a!==null&&zs(a),_o(n,e.child,null,r),e=au(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Ph(e,n,r,a,u,c,g){if(r)return n.flags&256?(n.flags&=-257,a=eu(Error(h(422))),zl(e,n,g,a)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(c=a.fallback,u=n.mode,a=$l({mode:"visible",children:a.children},u,0,null),c=zr(c,u,g,null),c.flags|=2,a.return=n,c.return=n,a.sibling=c,n.child=a,(n.mode&1)!==0&&_o(n,e.child,null,g),n.child.memoizedState=ou(g),n.memoizedState=ru,c);if((n.mode&1)===0)return zl(e,n,g,null);if(u.data==="$!"){if(a=u.nextSibling&&u.nextSibling.dataset,a)var x=a.dgst;return a=x,c=Error(h(419)),a=eu(c,a,void 0),zl(e,n,g,a)}if(x=(g&e.childLanes)!==0,qt||x){if(a=Tt,a!==null){switch(g&-g){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}u=(u&(a.suspendedLanes|g))!==0?0:u,u!==0&&u!==c.retryLane&&(c.retryLane=u,gi(e,u),Bn(a,e,u,-1))}return xu(),a=eu(Error(h(421))),zl(e,n,g,a)}return u.data==="$?"?(n.flags|=128,n.child=e.child,n=Fh.bind(null,e),u._reactRetry=n,null):(e=c.treeContext,cn=$n(u.nextSibling),un=n,dt=!0,Mn=null,e!==null&&(yn[_n++]=pi,yn[_n++]=mi,yn[_n++]=kr,pi=e.id,mi=e.overflow,kr=n),n=au(n,a.children),n.flags|=4096,n)}function Kc(e,n,r){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n),Rs(e.return,n,r)}function lu(e,n,r,a,u){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:a,tail:r,tailMode:u}:(c.isBackwards=n,c.rendering=null,c.renderingStartTime=0,c.last=a,c.tail=r,c.tailMode=u)}function Yc(e,n,r){var a=n.pendingProps,u=a.revealOrder,c=a.tail;if(Zt(e,n,a.children,r),a=pt.current,(a&2)!==0)a=a&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Kc(e,r,n);else if(e.tag===19)Kc(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(st(pt,a),(n.mode&1)===0)n.memoizedState=null;else switch(u){case"forwards":for(r=n.child,u=null;r!==null;)e=r.alternate,e!==null&&Pl(e)===null&&(u=r),r=r.sibling;r=u,r===null?(u=n.child,n.child=null):(u=r.sibling,r.sibling=null),lu(n,!1,u,r,c);break;case"backwards":for(r=null,u=n.child,n.child=null;u!==null;){if(e=u.alternate,e!==null&&Pl(e)===null){n.child=u;break}e=u.sibling,u.sibling=r,r=u,u=e}lu(n,!0,r,null,c);break;case"together":lu(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Il(e,n){(n.mode&1)===0&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function yi(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),Lr|=n.lanes,(r&n.childLanes)===0)return null;if(e!==null&&n.child!==e.child)throw Error(h(153));if(n.child!==null){for(e=n.child,r=Xi(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Xi(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Th(e,n,r){switch(n.tag){case 3:Vc(n),yo();break;case 5:uc(n);break;case 1:Yt(n.type)&&gl(n);break;case 4:js(n,n.stateNode.containerInfo);break;case 10:var a=n.type._context,u=n.memoizedProps.value;st(xl,a._currentValue),a._currentValue=u;break;case 13:if(a=n.memoizedState,a!==null)return a.dehydrated!==null?(st(pt,pt.current&1),n.flags|=128,null):(r&n.child.childLanes)!==0?Gc(e,n,r):(st(pt,pt.current&1),e=yi(e,n,r),e!==null?e.sibling:null);st(pt,pt.current&1);break;case 19:if(a=(r&n.childLanes)!==0,(e.flags&128)!==0){if(a)return Yc(e,n,r);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),st(pt,pt.current),a)break;return null;case 22:case 23:return n.lanes=0,Zc(e,n,r)}return yi(e,n,r)}var qc,su,Jc,Qc;qc=function(e,n){for(var r=n.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},su=function(){},Jc=function(e,n,r,a){var u=e.memoizedProps;if(u!==a){e=n.stateNode,Tr(Gn.current);var c=null;switch(r){case"input":u=Vt(e,u),a=Vt(e,a),c=[];break;case"select":u=W({},u,{value:void 0}),a=W({},a,{value:void 0}),c=[];break;case"textarea":u=ce(e,u),a=ce(e,a),c=[];break;default:typeof u.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=oe)}No(r,a);var g;r=null;for($ in u)if(!a.hasOwnProperty($)&&u.hasOwnProperty($)&&u[$]!=null)if($==="style"){var x=u[$];for(g in x)x.hasOwnProperty(g)&&(r||(r={}),r[g]="")}else $!=="dangerouslySetInnerHTML"&&$!=="children"&&$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(_.hasOwnProperty($)?c||(c=[]):(c=c||[]).push($,null));for($ in a){var z=a[$];if(x=u!=null?u[$]:void 0,a.hasOwnProperty($)&&z!==x&&(z!=null||x!=null))if($==="style")if(x){for(g in x)!x.hasOwnProperty(g)||z&&z.hasOwnProperty(g)||(r||(r={}),r[g]="");for(g in z)z.hasOwnProperty(g)&&x[g]!==z[g]&&(r||(r={}),r[g]=z[g])}else r||(c||(c=[]),c.push($,r)),r=z;else $==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,x=x?x.__html:void 0,z!=null&&x!==z&&(c=c||[]).push($,z)):$==="children"?typeof z!="string"&&typeof z!="number"||(c=c||[]).push($,""+z):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&(_.hasOwnProperty($)?(z!=null&&$==="onScroll"&&at("scroll",e),c||x===z||(c=[])):(c=c||[]).push($,z))}r&&(c=c||[]).push("style",r);var $=c;(n.updateQueue=$)&&(n.flags|=4)}},Qc=function(e,n,r,a){r!==a&&(n.flags|=4)};function _a(e,n){if(!dt)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Rt(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,a=0;if(n)for(var u=e.child;u!==null;)r|=u.lanes|u.childLanes,a|=u.subtreeFlags&14680064,a|=u.flags&14680064,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)r|=u.lanes|u.childLanes,a|=u.subtreeFlags,a|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=a,e.childLanes=r,n}function Eh(e,n,r){var a=n.pendingProps;switch(Os(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(n),null;case 1:return Yt(n.type)&&ml(),Rt(n),null;case 3:return a=n.stateNode,xo(),ct(Kt),ct(At),Ws(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(wl(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Mn!==null&&(_u(Mn),Mn=null))),su(e,n),Rt(n),null;case 5:Us(n);var u=Tr(pa.current);if(r=n.type,e!==null&&n.stateNode!=null)Jc(e,n,r,a,u),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!a){if(n.stateNode===null)throw Error(h(166));return Rt(n),null}if(e=Tr(Gn.current),wl(n)){a=n.stateNode,r=n.type;var c=n.memoizedProps;switch(a[vn]=n,a[Ui]=c,e=(n.mode&1)!==0,r){case"dialog":at("cancel",a),at("close",a);break;case"iframe":case"object":case"embed":at("load",a);break;case"video":case"audio":for(u=0;u<Di.length;u++)at(Di[u],a);break;case"source":at("error",a);break;case"img":case"image":case"link":at("error",a),at("load",a);break;case"details":at("toggle",a);break;case"input":ge(a,c),at("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!c.multiple},at("invalid",a);break;case"textarea":_e(a,c),at("invalid",a)}No(r,c),u=null;for(var g in c)if(c.hasOwnProperty(g)){var x=c[g];g==="children"?typeof x=="string"?a.textContent!==x&&(c.suppressHydrationWarning!==!0&&V(a.textContent,x,e),u=["children",x]):typeof x=="number"&&a.textContent!==""+x&&(c.suppressHydrationWarning!==!0&&V(a.textContent,x,e),u=["children",""+x]):_.hasOwnProperty(g)&&x!=null&&g==="onScroll"&&at("scroll",a)}switch(r){case"input":We(a),ue(a,c,!0);break;case"textarea":We(a),Br(a);break;case"select":case"option":break;default:typeof c.onClick=="function"&&(a.onclick=oe)}a=u,n.updateQueue=a,a!==null&&(n.flags|=4)}else{g=u.nodeType===9?u:u.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=qn(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=g.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=g.createElement(r,{is:a.is}):(e=g.createElement(r),r==="select"&&(g=e,a.multiple?g.multiple=!0:a.size&&(g.size=a.size))):e=g.createElementNS(e,r),e[vn]=n,e[Ui]=a,qc(e,n,!1,!1),n.stateNode=e;e:{switch(g=Jn(r,a),r){case"dialog":at("cancel",e),at("close",e),u=a;break;case"iframe":case"object":case"embed":at("load",e),u=a;break;case"video":case"audio":for(u=0;u<Di.length;u++)at(Di[u],e);u=a;break;case"source":at("error",e),u=a;break;case"img":case"image":case"link":at("error",e),at("load",e),u=a;break;case"details":at("toggle",e),u=a;break;case"input":ge(e,a),u=Vt(e,a),at("invalid",e);break;case"option":u=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},u=W({},a,{value:void 0}),at("invalid",e);break;case"textarea":_e(e,a),u=ce(e,a),at("invalid",e);break;default:u=a}No(r,u),x=u;for(c in x)if(x.hasOwnProperty(c)){var z=x[c];c==="style"?Dr(e,z):c==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,z!=null&&za(e,z)):c==="children"?typeof z=="string"?(r!=="textarea"||z!=="")&&wi(e,z):typeof z=="number"&&wi(e,""+z):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(_.hasOwnProperty(c)?z!=null&&c==="onScroll"&&at("scroll",e):z!=null&&K(e,c,z,g))}switch(r){case"input":We(e),ue(e,a,!1);break;case"textarea":We(e),Br(e);break;case"option":a.value!=null&&e.setAttribute("value",""+$e(a.value));break;case"select":e.multiple=!!a.multiple,c=a.value,c!=null?te(e,!!a.multiple,c,!1):a.defaultValue!=null&&te(e,!!a.multiple,a.defaultValue,!0);break;default:typeof u.onClick=="function"&&(e.onclick=oe)}switch(r){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Rt(n),null;case 6:if(e&&n.stateNode!=null)Qc(e,n,e.memoizedProps,a);else{if(typeof a!="string"&&n.stateNode===null)throw Error(h(166));if(r=Tr(pa.current),Tr(Gn.current),wl(n)){if(a=n.stateNode,r=n.memoizedProps,a[vn]=n,(c=a.nodeValue!==r)&&(e=un,e!==null))switch(e.tag){case 3:V(a.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&V(a.nodeValue,r,(e.mode&1)!==0)}c&&(n.flags|=4)}else a=(r.nodeType===9?r:r.ownerDocument).createTextNode(a),a[vn]=n,n.stateNode=a}return Rt(n),null;case 13:if(ct(pt),a=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(dt&&cn!==null&&(n.mode&1)!==0&&(n.flags&128)===0)tc(),yo(),n.flags|=98560,c=!1;else if(c=wl(n),a!==null&&a.dehydrated!==null){if(e===null){if(!c)throw Error(h(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(h(317));c[vn]=n}else yo(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Rt(n),c=!1}else Mn!==null&&(_u(Mn),Mn=null),c=!0;if(!c)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=r,n):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(n.child.flags|=8192,(n.mode&1)!==0&&(e===null||(pt.current&1)!==0?bt===0&&(bt=3):xu())),n.updateQueue!==null&&(n.flags|=4),Rt(n),null);case 4:return xo(),su(e,n),e===null&&Fi(n.stateNode.containerInfo),Rt(n),null;case 10:return Bs(n.type._context),Rt(n),null;case 17:return Yt(n.type)&&ml(),Rt(n),null;case 19:if(ct(pt),c=n.memoizedState,c===null)return Rt(n),null;if(a=(n.flags&128)!==0,g=c.rendering,g===null)if(a)_a(c,!1);else{if(bt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(g=Pl(e),g!==null){for(n.flags|=128,_a(c,!1),a=g.updateQueue,a!==null&&(n.updateQueue=a,n.flags|=4),n.subtreeFlags=0,a=r,r=n.child;r!==null;)c=r,e=a,c.flags&=14680066,g=c.alternate,g===null?(c.childLanes=0,c.lanes=e,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=g.childLanes,c.lanes=g.lanes,c.child=g.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=g.memoizedProps,c.memoizedState=g.memoizedState,c.updateQueue=g.updateQueue,c.type=g.type,e=g.dependencies,c.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return st(pt,pt.current&1|2),n.child}e=e.sibling}c.tail!==null&&ht()>Po&&(n.flags|=128,a=!0,_a(c,!1),n.lanes=4194304)}else{if(!a)if(e=Pl(g),e!==null){if(n.flags|=128,a=!0,r=e.updateQueue,r!==null&&(n.updateQueue=r,n.flags|=4),_a(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!dt)return Rt(n),null}else 2*ht()-c.renderingStartTime>Po&&r!==1073741824&&(n.flags|=128,a=!0,_a(c,!1),n.lanes=4194304);c.isBackwards?(g.sibling=n.child,n.child=g):(r=c.last,r!==null?r.sibling=g:n.child=g,c.last=g)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=ht(),n.sibling=null,r=pt.current,st(pt,a?r&1|2:r&1),n):(Rt(n),null);case 22:case 23:return Cu(),a=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(n.flags|=8192),a&&(n.mode&1)!==0?(dn&1073741824)!==0&&(Rt(n),n.subtreeFlags&6&&(n.flags|=8192)):Rt(n),null;case 24:return null;case 25:return null}throw Error(h(156,n.tag))}function Lh(e,n){switch(Os(n),n.tag){case 1:return Yt(n.type)&&ml(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return xo(),ct(Kt),ct(At),Ws(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 5:return Us(n),null;case 13:if(ct(pt),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(h(340));yo()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return ct(pt),null;case 4:return xo(),null;case 10:return Bs(n.type._context),null;case 22:case 23:return Cu(),null;case 24:return null;default:return null}}var Al=!1,Dt=!1,Oh=typeof WeakSet=="function"?WeakSet:Set,Le=null;function ko(e,n){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(a){vt(e,n,a)}else r.current=null}function uu(e,n,r){try{r()}catch(a){vt(e,n,a)}}var Xc=!1;function Nh(e,n){if(xe=mr,e=na(),ia(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var a=r.getSelection&&r.getSelection();if(a&&a.rangeCount!==0){r=a.anchorNode;var u=a.anchorOffset,c=a.focusNode;a=a.focusOffset;try{r.nodeType,c.nodeType}catch{r=null;break e}var g=0,x=-1,z=-1,$=0,se=0,he=e,le=null;t:for(;;){for(var Pe;he!==r||u!==0&&he.nodeType!==3||(x=g+u),he!==c||a!==0&&he.nodeType!==3||(z=g+a),he.nodeType===3&&(g+=he.nodeValue.length),(Pe=he.firstChild)!==null;)le=he,he=Pe;for(;;){if(he===e)break t;if(le===r&&++$===u&&(x=g),le===c&&++se===a&&(z=g),(Pe=he.nextSibling)!==null)break;he=le,le=he.parentNode}he=Pe}r=x===-1||z===-1?null:{start:x,end:z}}else r=null}r=r||{start:0,end:0}}else r=null;for(je={focusedElem:e,selectionRange:r},mr=!1,Le=n;Le!==null;)if(n=Le,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Le=e;else for(;Le!==null;){n=Le;try{var Ne=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(Ne!==null){var ze=Ne.memoizedProps,yt=Ne.memoizedState,U=n.stateNode,A=U.getSnapshotBeforeUpdate(n.elementType===n.type?ze:zn(n.type,ze),yt);U.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var H=n.stateNode.containerInfo;H.nodeType===1?H.textContent="":H.nodeType===9&&H.documentElement&&H.removeChild(H.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(h(163))}}catch(me){vt(n,n.return,me)}if(e=n.sibling,e!==null){e.return=n.return,Le=e;break}Le=n.return}return Ne=Xc,Xc=!1,Ne}function wa(e,n,r){var a=n.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var u=a=a.next;do{if((u.tag&e)===e){var c=u.destroy;u.destroy=void 0,c!==void 0&&uu(n,r,c)}u=u.next}while(u!==a)}}function Bl(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var r=n=n.next;do{if((r.tag&e)===e){var a=r.create;r.destroy=a()}r=r.next}while(r!==n)}}function cu(e){var n=e.ref;if(n!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof n=="function"?n(e):n.current=e}}function ed(e){var n=e.alternate;n!==null&&(e.alternate=null,ed(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[vn],delete n[Ui],delete n[Zi],delete n[bs],delete n[Ps])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function td(e){return e.tag===5||e.tag===3||e.tag===4}function nd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||td(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function du(e,n,r){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?r.nodeType===8?r.parentNode.insertBefore(e,n):r.insertBefore(e,n):(r.nodeType===8?(n=r.parentNode,n.insertBefore(e,r)):(n=r,n.appendChild(e)),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=oe));else if(a!==4&&(e=e.child,e!==null))for(du(e,n,r),e=e.sibling;e!==null;)du(e,n,r),e=e.sibling}function hu(e,n,r){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(hu(e,n,r),e=e.sibling;e!==null;)hu(e,n,r),e=e.sibling}var Lt=null,In=!1;function Ki(e,n,r){for(r=r.child;r!==null;)id(e,n,r),r=r.sibling}function id(e,n,r){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(ur,r)}catch{}switch(r.tag){case 5:Dt||ko(r,n);case 6:var a=Lt,u=In;Lt=null,Ki(e,n,r),Lt=a,In=u,Lt!==null&&(In?(e=Lt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Lt.removeChild(r.stateNode));break;case 18:Lt!==null&&(In?(e=Lt,r=r.stateNode,e.nodeType===8?ca(e.parentNode,r):e.nodeType===1&&ca(e,r),rn(e)):ca(Lt,r.stateNode));break;case 4:a=Lt,u=In,Lt=r.stateNode.containerInfo,In=!0,Ki(e,n,r),Lt=a,In=u;break;case 0:case 11:case 14:case 15:if(!Dt&&(a=r.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){u=a=a.next;do{var c=u,g=c.destroy;c=c.tag,g!==void 0&&((c&2)!==0||(c&4)!==0)&&uu(r,n,g),u=u.next}while(u!==a)}Ki(e,n,r);break;case 1:if(!Dt&&(ko(r,n),a=r.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=r.memoizedProps,a.state=r.memoizedState,a.componentWillUnmount()}catch(x){vt(r,n,x)}Ki(e,n,r);break;case 21:Ki(e,n,r);break;case 22:r.mode&1?(Dt=(a=Dt)||r.memoizedState!==null,Ki(e,n,r),Dt=a):Ki(e,n,r);break;default:Ki(e,n,r)}}function rd(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Oh),n.forEach(function(a){var u=jh.bind(null,e,a);r.has(a)||(r.add(a),a.then(u,u))})}}function An(e,n){var r=n.deletions;if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];try{var c=e,g=n,x=g;e:for(;x!==null;){switch(x.tag){case 5:Lt=x.stateNode,In=!1;break e;case 3:Lt=x.stateNode.containerInfo,In=!0;break e;case 4:Lt=x.stateNode.containerInfo,In=!0;break e}x=x.return}if(Lt===null)throw Error(h(160));id(c,g,u),Lt=null,In=!1;var z=u.alternate;z!==null&&(z.return=null),u.return=null}catch($){vt(u,n,$)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)od(n,e),n=n.sibling}function od(e,n){var r=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(An(n,e),Yn(e),a&4){try{wa(3,e,e.return),Bl(3,e)}catch(ze){vt(e,e.return,ze)}try{wa(5,e,e.return)}catch(ze){vt(e,e.return,ze)}}break;case 1:An(n,e),Yn(e),a&512&&r!==null&&ko(r,r.return);break;case 5:if(An(n,e),Yn(e),a&512&&r!==null&&ko(r,r.return),e.flags&32){var u=e.stateNode;try{wi(u,"")}catch(ze){vt(e,e.return,ze)}}if(a&4&&(u=e.stateNode,u!=null)){var c=e.memoizedProps,g=r!==null?r.memoizedProps:c,x=e.type,z=e.updateQueue;if(e.updateQueue=null,z!==null)try{x==="input"&&c.type==="radio"&&c.name!=null&&q(u,c),Jn(x,g);var $=Jn(x,c);for(g=0;g<z.length;g+=2){var se=z[g],he=z[g+1];se==="style"?Dr(u,he):se==="dangerouslySetInnerHTML"?za(u,he):se==="children"?wi(u,he):K(u,se,he,$)}switch(x){case"input":De(u,c);break;case"textarea":rt(u,c);break;case"select":var le=u._wrapperState.wasMultiple;u._wrapperState.wasMultiple=!!c.multiple;var Pe=c.value;Pe!=null?te(u,!!c.multiple,Pe,!1):le!==!!c.multiple&&(c.defaultValue!=null?te(u,!!c.multiple,c.defaultValue,!0):te(u,!!c.multiple,c.multiple?[]:"",!1))}u[Ui]=c}catch(ze){vt(e,e.return,ze)}}break;case 6:if(An(n,e),Yn(e),a&4){if(e.stateNode===null)throw Error(h(162));u=e.stateNode,c=e.memoizedProps;try{u.nodeValue=c}catch(ze){vt(e,e.return,ze)}}break;case 3:if(An(n,e),Yn(e),a&4&&r!==null&&r.memoizedState.isDehydrated)try{rn(n.containerInfo)}catch(ze){vt(e,e.return,ze)}break;case 4:An(n,e),Yn(e);break;case 13:An(n,e),Yn(e),u=e.child,u.flags&8192&&(c=u.memoizedState!==null,u.stateNode.isHidden=c,!c||u.alternate!==null&&u.alternate.memoizedState!==null||(mu=ht())),a&4&&rd(e);break;case 22:if(se=r!==null&&r.memoizedState!==null,e.mode&1?(Dt=($=Dt)||se,An(n,e),Dt=$):An(n,e),Yn(e),a&8192){if($=e.memoizedState!==null,(e.stateNode.isHidden=$)&&!se&&(e.mode&1)!==0)for(Le=e,se=e.child;se!==null;){for(he=Le=se;Le!==null;){switch(le=Le,Pe=le.child,le.tag){case 0:case 11:case 14:case 15:wa(4,le,le.return);break;case 1:ko(le,le.return);var Ne=le.stateNode;if(typeof Ne.componentWillUnmount=="function"){a=le,r=le.return;try{n=a,Ne.props=n.memoizedProps,Ne.state=n.memoizedState,Ne.componentWillUnmount()}catch(ze){vt(a,r,ze)}}break;case 5:ko(le,le.return);break;case 22:if(le.memoizedState!==null){sd(he);continue}}Pe!==null?(Pe.return=le,Le=Pe):sd(he)}se=se.sibling}e:for(se=null,he=e;;){if(he.tag===5){if(se===null){se=he;try{u=he.stateNode,$?(c=u.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none"):(x=he.stateNode,z=he.memoizedProps.style,g=z!=null&&z.hasOwnProperty("display")?z.display:null,x.style.display=Oo("display",g))}catch(ze){vt(e,e.return,ze)}}}else if(he.tag===6){if(se===null)try{he.stateNode.nodeValue=$?"":he.memoizedProps}catch(ze){vt(e,e.return,ze)}}else if((he.tag!==22&&he.tag!==23||he.memoizedState===null||he===e)&&he.child!==null){he.child.return=he,he=he.child;continue}if(he===e)break e;for(;he.sibling===null;){if(he.return===null||he.return===e)break e;se===he&&(se=null),he=he.return}se===he&&(se=null),he.sibling.return=he.return,he=he.sibling}}break;case 19:An(n,e),Yn(e),a&4&&rd(e);break;case 21:break;default:An(n,e),Yn(e)}}function Yn(e){var n=e.flags;if(n&2){try{e:{for(var r=e.return;r!==null;){if(td(r)){var a=r;break e}r=r.return}throw Error(h(160))}switch(a.tag){case 5:var u=a.stateNode;a.flags&32&&(wi(u,""),a.flags&=-33);var c=nd(e);hu(e,c,u);break;case 3:case 4:var g=a.stateNode.containerInfo,x=nd(e);du(e,x,g);break;default:throw Error(h(161))}}catch(z){vt(e,e.return,z)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Mh(e,n,r){Le=e,ad(e)}function ad(e,n,r){for(var a=(e.mode&1)!==0;Le!==null;){var u=Le,c=u.child;if(u.tag===22&&a){var g=u.memoizedState!==null||Al;if(!g){var x=u.alternate,z=x!==null&&x.memoizedState!==null||Dt;x=Al;var $=Dt;if(Al=g,(Dt=z)&&!$)for(Le=u;Le!==null;)g=Le,z=g.child,g.tag===22&&g.memoizedState!==null?ud(u):z!==null?(z.return=g,Le=z):ud(u);for(;c!==null;)Le=c,ad(c),c=c.sibling;Le=u,Al=x,Dt=$}ld(e)}else(u.subtreeFlags&8772)!==0&&c!==null?(c.return=u,Le=c):ld(e)}}function ld(e){for(;Le!==null;){var n=Le;if((n.flags&8772)!==0){var r=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:Dt||Bl(5,n);break;case 1:var a=n.stateNode;if(n.flags&4&&!Dt)if(r===null)a.componentDidMount();else{var u=n.elementType===n.type?r.memoizedProps:zn(n.type,r.memoizedProps);a.componentDidUpdate(u,r.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var c=n.updateQueue;c!==null&&sc(n,c,a);break;case 3:var g=n.updateQueue;if(g!==null){if(r=null,n.child!==null)switch(n.child.tag){case 5:r=n.child.stateNode;break;case 1:r=n.child.stateNode}sc(n,g,r)}break;case 5:var x=n.stateNode;if(r===null&&n.flags&4){r=x;var z=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":z.autoFocus&&r.focus();break;case"img":z.src&&(r.src=z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var $=n.alternate;if($!==null){var se=$.memoizedState;if(se!==null){var he=se.dehydrated;he!==null&&rn(he)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(h(163))}Dt||n.flags&512&&cu(n)}catch(le){vt(n,n.return,le)}}if(n===e){Le=null;break}if(r=n.sibling,r!==null){r.return=n.return,Le=r;break}Le=n.return}}function sd(e){for(;Le!==null;){var n=Le;if(n===e){Le=null;break}var r=n.sibling;if(r!==null){r.return=n.return,Le=r;break}Le=n.return}}function ud(e){for(;Le!==null;){var n=Le;try{switch(n.tag){case 0:case 11:case 15:var r=n.return;try{Bl(4,n)}catch(z){vt(n,r,z)}break;case 1:var a=n.stateNode;if(typeof a.componentDidMount=="function"){var u=n.return;try{a.componentDidMount()}catch(z){vt(n,u,z)}}var c=n.return;try{cu(n)}catch(z){vt(n,c,z)}break;case 5:var g=n.return;try{cu(n)}catch(z){vt(n,g,z)}}}catch(z){vt(n,n.return,z)}if(n===e){Le=null;break}var x=n.sibling;if(x!==null){x.return=n.return,Le=x;break}Le=n.return}}var zh=Math.ceil,Rl=de.ReactCurrentDispatcher,fu=de.ReactCurrentOwner,xn=de.ReactCurrentBatchConfig,et=0,Tt=null,wt=null,Ot=0,dn=0,bo=Wi(0),bt=0,Ca=null,Lr=0,Dl=0,pu=0,xa=null,Jt=null,mu=0,Po=1/0,_i=null,Fl=!1,gu=null,Yi=null,jl=!1,qi=null,Ul=0,Sa=0,vu=null,Zl=-1,Wl=0;function Wt(){return(et&6)!==0?ht():Zl!==-1?Zl:Zl=ht()}function Ji(e){return(e.mode&1)===0?1:(et&2)!==0&&Ot!==0?Ot&-Ot:gh.transition!==null?(Wl===0&&(Wl=$a()),Wl):(e=Qe,e!==0||(e=window.event,e=e===void 0?16:Je(e.type)),e)}function Bn(e,n,r,a){if(50<Sa)throw Sa=0,vu=null,Error(h(185));tn(e,r,a),((et&2)===0||e!==Tt)&&(e===Tt&&((et&2)===0&&(Dl|=r),bt===4&&Qi(e,Ot)),Qt(e,a),r===1&&et===0&&(n.mode&1)===0&&(Po=ht()+500,vl&&Vi()))}function Qt(e,n){var r=e.callbackNode;Vr(e,n);var a=lt(e,e===Tt?Ot:0);if(a===0)r!==null&&Do(r),e.callbackNode=null,e.callbackPriority=0;else if(n=a&-a,e.callbackPriority!==n){if(r!=null&&Do(r),n===1)e.tag===0?mh(dd.bind(null,e)):qu(dd.bind(null,e)),It(function(){(et&6)===0&&Vi()}),r=null;else{switch(Pi(a)){case 1:r=Fo;break;case 4:r=Va;break;case 16:r=Wr;break;case 536870912:r=xi;break;default:r=Wr}r=_d(r,cd.bind(null,e))}e.callbackPriority=n,e.callbackNode=r}}function cd(e,n){if(Zl=-1,Wl=0,(et&6)!==0)throw Error(h(327));var r=e.callbackNode;if(To()&&e.callbackNode!==r)return null;var a=lt(e,e===Tt?Ot:0);if(a===0)return null;if((a&30)!==0||(a&e.expiredLanes)!==0||n)n=Hl(e,a);else{n=a;var u=et;et|=2;var c=fd();(Tt!==e||Ot!==n)&&(_i=null,Po=ht()+500,Nr(e,n));do try{Bh();break}catch(x){hd(e,x)}while(!0);As(),Rl.current=c,et=u,wt!==null?n=0:(Tt=null,Ot=0,n=bt)}if(n!==0){if(n===2&&(u=Mt(e),u!==0&&(a=u,n=yu(e,u))),n===1)throw r=Ca,Nr(e,0),Qi(e,a),Qt(e,ht()),r;if(n===6)Qi(e,a);else{if(u=e.current.alternate,(a&30)===0&&!Ih(u)&&(n=Hl(e,a),n===2&&(c=Mt(e),c!==0&&(a=c,n=yu(e,c))),n===1))throw r=Ca,Nr(e,0),Qi(e,a),Qt(e,ht()),r;switch(e.finishedWork=u,e.finishedLanes=a,n){case 0:case 1:throw Error(h(345));case 2:Mr(e,Jt,_i);break;case 3:if(Qi(e,a),(a&130023424)===a&&(n=mu+500-ht(),10<n)){if(lt(e,0)!==0)break;if(u=e.suspendedLanes,(u&a)!==a){Wt(),e.pingedLanes|=e.suspendedLanes&u;break}e.timeoutHandle=St(Mr.bind(null,e,Jt,_i),n);break}Mr(e,Jt,_i);break;case 4:if(Qi(e,a),(a&4194240)===a)break;for(n=e.eventTimes,u=-1;0<a;){var g=31-Ke(a);c=1<<g,g=n[g],g>u&&(u=g),a&=~c}if(a=u,a=ht()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*zh(a/1960))-a,10<a){e.timeoutHandle=St(Mr.bind(null,e,Jt,_i),a);break}Mr(e,Jt,_i);break;case 5:Mr(e,Jt,_i);break;default:throw Error(h(329))}}}return Qt(e,ht()),e.callbackNode===r?cd.bind(null,e):null}function yu(e,n){var r=xa;return e.current.memoizedState.isDehydrated&&(Nr(e,n).flags|=256),e=Hl(e,n),e!==2&&(n=Jt,Jt=r,n!==null&&_u(n)),e}function _u(e){Jt===null?Jt=e:Jt.push.apply(Jt,e)}function Ih(e){for(var n=e;;){if(n.flags&16384){var r=n.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var a=0;a<r.length;a++){var u=r[a],c=u.getSnapshot;u=u.value;try{if(!ln(c(),u))return!1}catch{return!1}}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Qi(e,n){for(n&=~pu,n&=~Dl,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var r=31-Ke(n),a=1<<r;e[r]=-1,n&=~a}}function dd(e){if((et&6)!==0)throw Error(h(327));To();var n=lt(e,0);if((n&1)===0)return Qt(e,ht()),null;var r=Hl(e,n);if(e.tag!==0&&r===2){var a=Mt(e);a!==0&&(n=a,r=yu(e,a))}if(r===1)throw r=Ca,Nr(e,0),Qi(e,n),Qt(e,ht()),r;if(r===6)throw Error(h(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,Mr(e,Jt,_i),Qt(e,ht()),null}function wu(e,n){var r=et;et|=1;try{return e(n)}finally{et=r,et===0&&(Po=ht()+500,vl&&Vi())}}function Or(e){qi!==null&&qi.tag===0&&(et&6)===0&&To();var n=et;et|=1;var r=xn.transition,a=Qe;try{if(xn.transition=null,Qe=1,e)return e()}finally{Qe=a,xn.transition=r,et=n,(et&6)===0&&Vi()}}function Cu(){dn=bo.current,ct(bo)}function Nr(e,n){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,_t(r)),wt!==null)for(r=wt.return;r!==null;){var a=r;switch(Os(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&ml();break;case 3:xo(),ct(Kt),ct(At),Ws();break;case 5:Us(a);break;case 4:xo();break;case 13:ct(pt);break;case 19:ct(pt);break;case 10:Bs(a.type._context);break;case 22:case 23:Cu()}r=r.return}if(Tt=e,wt=e=Xi(e.current,null),Ot=dn=n,bt=0,Ca=null,pu=Dl=Lr=0,Jt=xa=null,Pr!==null){for(n=0;n<Pr.length;n++)if(r=Pr[n],a=r.interleaved,a!==null){r.interleaved=null;var u=a.next,c=r.pending;if(c!==null){var g=c.next;c.next=u,a.next=g}r.pending=a}Pr=null}return e}function hd(e,n){do{var r=wt;try{if(As(),Tl.current=Nl,El){for(var a=mt.memoizedState;a!==null;){var u=a.queue;u!==null&&(u.pending=null),a=a.next}El=!1}if(Er=0,Pt=kt=mt=null,ma=!1,ga=0,fu.current=null,r===null||r.return===null){bt=1,Ca=n,wt=null;break}e:{var c=e,g=r.return,x=r,z=n;if(n=Ot,x.flags|=32768,z!==null&&typeof z=="object"&&typeof z.then=="function"){var $=z,se=x,he=se.tag;if((se.mode&1)===0&&(he===0||he===11||he===15)){var le=se.alternate;le?(se.updateQueue=le.updateQueue,se.memoizedState=le.memoizedState,se.lanes=le.lanes):(se.updateQueue=null,se.memoizedState=null)}var Pe=Rc(g);if(Pe!==null){Pe.flags&=-257,Dc(Pe,g,x,c,n),Pe.mode&1&&Bc(c,$,n),n=Pe,z=$;var Ne=n.updateQueue;if(Ne===null){var ze=new Set;ze.add(z),n.updateQueue=ze}else Ne.add(z);break e}else{if((n&1)===0){Bc(c,$,n),xu();break e}z=Error(h(426))}}else if(dt&&x.mode&1){var yt=Rc(g);if(yt!==null){(yt.flags&65536)===0&&(yt.flags|=256),Dc(yt,g,x,c,n),zs(So(z,x));break e}}c=z=So(z,x),bt!==4&&(bt=2),xa===null?xa=[c]:xa.push(c),c=g;do{switch(c.tag){case 3:c.flags|=65536,n&=-n,c.lanes|=n;var U=Ic(c,z,n);lc(c,U);break e;case 1:x=z;var A=c.type,H=c.stateNode;if((c.flags&128)===0&&(typeof A.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(Yi===null||!Yi.has(H)))){c.flags|=65536,n&=-n,c.lanes|=n;var me=Ac(c,x,n);lc(c,me);break e}}c=c.return}while(c!==null)}md(r)}catch(Ae){n=Ae,wt===r&&r!==null&&(wt=r=r.return);continue}break}while(!0)}function fd(){var e=Rl.current;return Rl.current=Nl,e===null?Nl:e}function xu(){(bt===0||bt===3||bt===2)&&(bt=4),Tt===null||(Lr&268435455)===0&&(Dl&268435455)===0||Qi(Tt,Ot)}function Hl(e,n){var r=et;et|=2;var a=fd();(Tt!==e||Ot!==n)&&(_i=null,Nr(e,n));do try{Ah();break}catch(u){hd(e,u)}while(!0);if(As(),et=r,Rl.current=a,wt!==null)throw Error(h(261));return Tt=null,Ot=0,bt}function Ah(){for(;wt!==null;)pd(wt)}function Bh(){for(;wt!==null&&!us();)pd(wt)}function pd(e){var n=yd(e.alternate,e,dn);e.memoizedProps=e.pendingProps,n===null?md(e):wt=n,fu.current=null}function md(e){var n=e;do{var r=n.alternate;if(e=n.return,(n.flags&32768)===0){if(r=Eh(r,n,dn),r!==null){wt=r;return}}else{if(r=Lh(r,n),r!==null){r.flags&=32767,wt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{bt=6,wt=null;return}}if(n=n.sibling,n!==null){wt=n;return}wt=n=e}while(n!==null);bt===0&&(bt=5)}function Mr(e,n,r){var a=Qe,u=xn.transition;try{xn.transition=null,Qe=1,Rh(e,n,r,a)}finally{xn.transition=u,Qe=a}return null}function Rh(e,n,r,a){do To();while(qi!==null);if((et&6)!==0)throw Error(h(327));r=e.finishedWork;var u=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(h(177));e.callbackNode=null,e.callbackPriority=0;var c=r.lanes|r.childLanes;if(gt(e,c),e===Tt&&(wt=Tt=null,Ot=0),(r.subtreeFlags&2064)===0&&(r.flags&2064)===0||jl||(jl=!0,_d(Wr,function(){return To(),null})),c=(r.flags&15990)!==0,(r.subtreeFlags&15990)!==0||c){c=xn.transition,xn.transition=null;var g=Qe;Qe=1;var x=et;et|=4,fu.current=null,Nh(e,r),od(r,e),mn(je),mr=!!xe,je=xe=null,e.current=r,Mh(r),Zr(),et=x,Qe=g,xn.transition=c}else e.current=r;if(jl&&(jl=!1,qi=e,Ul=u),c=e.pendingLanes,c===0&&(Yi=null),cr(r.stateNode),Qt(e,ht()),n!==null)for(a=e.onRecoverableError,r=0;r<n.length;r++)u=n[r],a(u.value,{componentStack:u.stack,digest:u.digest});if(Fl)throw Fl=!1,e=gu,gu=null,e;return(Ul&1)!==0&&e.tag!==0&&To(),c=e.pendingLanes,(c&1)!==0?e===vu?Sa++:(Sa=0,vu=e):Sa=0,Vi(),null}function To(){if(qi!==null){var e=Pi(Ul),n=xn.transition,r=Qe;try{if(xn.transition=null,Qe=16>e?16:e,qi===null)var a=!1;else{if(e=qi,qi=null,Ul=0,(et&6)!==0)throw Error(h(331));var u=et;for(et|=4,Le=e.current;Le!==null;){var c=Le,g=c.child;if((Le.flags&16)!==0){var x=c.deletions;if(x!==null){for(var z=0;z<x.length;z++){var $=x[z];for(Le=$;Le!==null;){var se=Le;switch(se.tag){case 0:case 11:case 15:wa(8,se,c)}var he=se.child;if(he!==null)he.return=se,Le=he;else for(;Le!==null;){se=Le;var le=se.sibling,Pe=se.return;if(ed(se),se===$){Le=null;break}if(le!==null){le.return=Pe,Le=le;break}Le=Pe}}}var Ne=c.alternate;if(Ne!==null){var ze=Ne.child;if(ze!==null){Ne.child=null;do{var yt=ze.sibling;ze.sibling=null,ze=yt}while(ze!==null)}}Le=c}}if((c.subtreeFlags&2064)!==0&&g!==null)g.return=c,Le=g;else e:for(;Le!==null;){if(c=Le,(c.flags&2048)!==0)switch(c.tag){case 0:case 11:case 15:wa(9,c,c.return)}var U=c.sibling;if(U!==null){U.return=c.return,Le=U;break e}Le=c.return}}var A=e.current;for(Le=A;Le!==null;){g=Le;var H=g.child;if((g.subtreeFlags&2064)!==0&&H!==null)H.return=g,Le=H;else e:for(g=A;Le!==null;){if(x=Le,(x.flags&2048)!==0)try{switch(x.tag){case 0:case 11:case 15:Bl(9,x)}}catch(Ae){vt(x,x.return,Ae)}if(x===g){Le=null;break e}var me=x.sibling;if(me!==null){me.return=x.return,Le=me;break e}Le=x.return}}if(et=u,Vi(),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(ur,e)}catch{}a=!0}return a}finally{Qe=r,xn.transition=n}}return!1}function gd(e,n,r){n=So(r,n),n=Ic(e,n,1),e=Gi(e,n,1),n=Wt(),e!==null&&(tn(e,1,n),Qt(e,n))}function vt(e,n,r){if(e.tag===3)gd(e,e,r);else for(;n!==null;){if(n.tag===3){gd(n,e,r);break}else if(n.tag===1){var a=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Yi===null||!Yi.has(a))){e=So(r,e),e=Ac(n,e,1),n=Gi(n,e,1),e=Wt(),n!==null&&(tn(n,1,e),Qt(n,e));break}}n=n.return}}function Dh(e,n,r){var a=e.pingCache;a!==null&&a.delete(n),n=Wt(),e.pingedLanes|=e.suspendedLanes&r,Tt===e&&(Ot&r)===r&&(bt===4||bt===3&&(Ot&130023424)===Ot&&500>ht()-mu?Nr(e,0):pu|=r),Qt(e,n)}function vd(e,n){n===0&&((e.mode&1)===0?n=1:(n=ki,ki<<=1,(ki&130023424)===0&&(ki=4194304)));var r=Wt();e=gi(e,n),e!==null&&(tn(e,n,r),Qt(e,r))}function Fh(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),vd(e,r)}function jh(e,n){var r=0;switch(e.tag){case 13:var a=e.stateNode,u=e.memoizedState;u!==null&&(r=u.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(h(314))}a!==null&&a.delete(n),vd(e,r)}var yd;yd=function(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps||Kt.current)qt=!0;else{if((e.lanes&r)===0&&(n.flags&128)===0)return qt=!1,Th(e,n,r);qt=(e.flags&131072)!==0}else qt=!1,dt&&(n.flags&1048576)!==0&&Ju(n,_l,n.index);switch(n.lanes=0,n.tag){case 2:var a=n.type;Il(e,n),e=n.pendingProps;var u=mo(n,At.current);Co(n,r),u=$s(null,n,a,e,u,r);var c=Gs();return n.flags|=1,typeof u=="object"&&u!==null&&typeof u.render=="function"&&u.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,Yt(a)?(c=!0,gl(n)):c=!1,n.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,Fs(n),u.updater=Ml,n.stateNode=u,u._reactInternals=n,Xs(n,a,e,r),n=iu(null,n,a,!0,c,r)):(n.tag=0,dt&&c&&Ls(n),Zt(null,n,u,r),n=n.child),n;case 16:a=n.elementType;e:{switch(Il(e,n),e=n.pendingProps,u=a._init,a=u(a._payload),n.type=a,u=n.tag=Zh(a),e=zn(a,e),u){case 0:n=nu(null,n,a,e,r);break e;case 1:n=Hc(null,n,a,e,r);break e;case 11:n=Fc(null,n,a,e,r);break e;case 14:n=jc(null,n,a,zn(a.type,e),r);break e}throw Error(h(306,a,""))}return n;case 0:return a=n.type,u=n.pendingProps,u=n.elementType===a?u:zn(a,u),nu(e,n,a,u,r);case 1:return a=n.type,u=n.pendingProps,u=n.elementType===a?u:zn(a,u),Hc(e,n,a,u,r);case 3:e:{if(Vc(n),e===null)throw Error(h(387));a=n.pendingProps,c=n.memoizedState,u=c.element,ac(e,n),bl(n,a,null,r);var g=n.memoizedState;if(a=g.element,c.isDehydrated)if(c={element:a,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},n.updateQueue.baseState=c,n.memoizedState=c,n.flags&256){u=So(Error(h(423)),n),n=$c(e,n,a,r,u);break e}else if(a!==u){u=So(Error(h(424)),n),n=$c(e,n,a,r,u);break e}else for(cn=$n(n.stateNode.containerInfo.firstChild),un=n,dt=!0,Mn=null,r=rc(n,null,a,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(yo(),a===u){n=yi(e,n,r);break e}Zt(e,n,a,r)}n=n.child}return n;case 5:return uc(n),e===null&&Ms(n),a=n.type,u=n.pendingProps,c=e!==null?e.memoizedProps:null,g=u.children,Ye(a,u)?g=null:c!==null&&Ye(a,c)&&(n.flags|=32),Wc(e,n),Zt(e,n,g,r),n.child;case 6:return e===null&&Ms(n),null;case 13:return Gc(e,n,r);case 4:return js(n,n.stateNode.containerInfo),a=n.pendingProps,e===null?n.child=_o(n,null,a,r):Zt(e,n,a,r),n.child;case 11:return a=n.type,u=n.pendingProps,u=n.elementType===a?u:zn(a,u),Fc(e,n,a,u,r);case 7:return Zt(e,n,n.pendingProps,r),n.child;case 8:return Zt(e,n,n.pendingProps.children,r),n.child;case 12:return Zt(e,n,n.pendingProps.children,r),n.child;case 10:e:{if(a=n.type._context,u=n.pendingProps,c=n.memoizedProps,g=u.value,st(xl,a._currentValue),a._currentValue=g,c!==null)if(ln(c.value,g)){if(c.children===u.children&&!Kt.current){n=yi(e,n,r);break e}}else for(c=n.child,c!==null&&(c.return=n);c!==null;){var x=c.dependencies;if(x!==null){g=c.child;for(var z=x.firstContext;z!==null;){if(z.context===a){if(c.tag===1){z=vi(-1,r&-r),z.tag=2;var $=c.updateQueue;if($!==null){$=$.shared;var se=$.pending;se===null?z.next=z:(z.next=se.next,se.next=z),$.pending=z}}c.lanes|=r,z=c.alternate,z!==null&&(z.lanes|=r),Rs(c.return,r,n),x.lanes|=r;break}z=z.next}}else if(c.tag===10)g=c.type===n.type?null:c.child;else if(c.tag===18){if(g=c.return,g===null)throw Error(h(341));g.lanes|=r,x=g.alternate,x!==null&&(x.lanes|=r),Rs(g,r,n),g=c.sibling}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===n){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}Zt(e,n,u.children,r),n=n.child}return n;case 9:return u=n.type,a=n.pendingProps.children,Co(n,r),u=wn(u),a=a(u),n.flags|=1,Zt(e,n,a,r),n.child;case 14:return a=n.type,u=zn(a,n.pendingProps),u=zn(a.type,u),jc(e,n,a,u,r);case 15:return Uc(e,n,n.type,n.pendingProps,r);case 17:return a=n.type,u=n.pendingProps,u=n.elementType===a?u:zn(a,u),Il(e,n),n.tag=1,Yt(a)?(e=!0,gl(n)):e=!1,Co(n,r),Mc(n,a,u),Xs(n,a,u,r),iu(null,n,a,!0,e,r);case 19:return Yc(e,n,r);case 22:return Zc(e,n,r)}throw Error(h(156,n.tag))};function _d(e,n){return Ha(e,n)}function Uh(e,n,r,a){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(e,n,r,a){return new Uh(e,n,r,a)}function Su(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zh(e){if(typeof e=="function")return Su(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Be)return 11;if(e===ae)return 14}return 2}function Xi(e,n){var r=e.alternate;return r===null?(r=Sn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Vl(e,n,r,a,u,c){var g=2;if(a=e,typeof e=="function")Su(e)&&(g=1);else if(typeof e=="string")g=5;else e:switch(e){case Me:return zr(r.children,u,c,n);case J:g=8,u|=8;break;case Q:return e=Sn(12,r,n,u|2),e.elementType=Q,e.lanes=c,e;case ye:return e=Sn(13,r,n,u),e.elementType=ye,e.lanes=c,e;case re:return e=Sn(19,r,n,u),e.elementType=re,e.lanes=c,e;case Oe:return $l(r,u,c,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Fe:g=10;break e;case B:g=9;break e;case Be:g=11;break e;case ae:g=14;break e;case X:g=16,a=null;break e}throw Error(h(130,e==null?e:typeof e,""))}return n=Sn(g,r,n,u),n.elementType=e,n.type=a,n.lanes=c,n}function zr(e,n,r,a){return e=Sn(7,e,a,n),e.lanes=r,e}function $l(e,n,r,a){return e=Sn(22,e,a,n),e.elementType=Oe,e.lanes=r,e.stateNode={isHidden:!1},e}function ku(e,n,r){return e=Sn(6,e,null,n),e.lanes=r,e}function bu(e,n,r){return n=Sn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Wh(e,n,r,a,u){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bi(0),this.expirationTimes=bi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bi(0),this.identifierPrefix=a,this.onRecoverableError=u,this.mutableSourceEagerHydrationData=null}function Pu(e,n,r,a,u,c,g,x,z){return e=new Wh(e,n,r,x,z),n===1?(n=1,c===!0&&(n|=8)):n=0,c=Sn(3,null,null,n),e.current=c,c.stateNode=e,c.memoizedState={element:a,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fs(c),e}function Hh(e,n,r){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Re,key:a==null?null:""+a,children:e,containerInfo:n,implementation:r}}function wd(e){if(!e)return Hi;e=e._reactInternals;e:{if(Dn(e)!==e||e.tag!==1)throw Error(h(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(Yt(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(h(171))}if(e.tag===1){var r=e.type;if(Yt(r))return Ku(e,r,n)}return n}function Cd(e,n,r,a,u,c,g,x,z){return e=Pu(r,a,!0,e,u,c,g,x,z),e.context=wd(null),r=e.current,a=Wt(),u=Ji(r),c=vi(a,u),c.callback=n??null,Gi(r,c,u),e.current.lanes=u,tn(e,u,a),Qt(e,a),e}function Gl(e,n,r,a){var u=n.current,c=Wt(),g=Ji(u);return r=wd(r),n.context===null?n.context=r:n.pendingContext=r,n=vi(c,g),n.payload={element:e},a=a===void 0?null:a,a!==null&&(n.callback=a),e=Gi(u,n,g),e!==null&&(Bn(e,u,g,c),kl(e,u,g)),g}function Kl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function xd(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function Tu(e,n){xd(e,n),(e=e.alternate)&&xd(e,n)}function Vh(){return null}var Sd=typeof reportError=="function"?reportError:function(e){console.error(e)};function Eu(e){this._internalRoot=e}Yl.prototype.render=Eu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(h(409));Gl(e,n,null,null)},Yl.prototype.unmount=Eu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Or(function(){Gl(null,e,null,null)}),n[nt]=null}};function Yl(e){this._internalRoot=e}Yl.prototype.unstable_scheduleHydration=function(e){if(e){var n=Kr();e={blockedOn:null,target:e,priority:n};for(var r=0;r<xt.length&&n!==0&&n<xt[r].priority;r++);xt.splice(r,0,e),r===0&&Yr(e)}};function Lu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ql(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function kd(){}function $h(e,n,r,a,u){if(u){if(typeof a=="function"){var c=a;a=function(){var $=Kl(g);c.call($)}}var g=Cd(n,a,e,0,null,!1,!1,"",kd);return e._reactRootContainer=g,e[nt]=g.current,Fi(e.nodeType===8?e.parentNode:e),Or(),g}for(;u=e.lastChild;)e.removeChild(u);if(typeof a=="function"){var x=a;a=function(){var $=Kl(z);x.call($)}}var z=Pu(e,0,!1,null,null,!1,!1,"",kd);return e._reactRootContainer=z,e[nt]=z.current,Fi(e.nodeType===8?e.parentNode:e),Or(function(){Gl(n,z,r,a)}),z}function Jl(e,n,r,a,u){var c=r._reactRootContainer;if(c){var g=c;if(typeof u=="function"){var x=u;u=function(){var z=Kl(g);x.call(z)}}Gl(n,g,e,u)}else g=$h(r,n,e,u,a);return Kl(g)}$r=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var r=Ge(n.pendingLanes);r!==0&&(Tn(n,r|1),Qt(n,ht()),(et&6)===0&&(Po=ht()+500,Vi()))}break;case 13:Or(function(){var a=gi(e,1);if(a!==null){var u=Wt();Bn(a,e,1,u)}}),Tu(e,1)}},ti=function(e){if(e.tag===13){var n=gi(e,134217728);if(n!==null){var r=Wt();Bn(n,e,134217728,r)}Tu(e,134217728)}},Gr=function(e){if(e.tag===13){var n=Ji(e),r=gi(e,n);if(r!==null){var a=Wt();Bn(r,e,n,a)}Tu(e,n)}},Kr=function(){return Qe},dr=function(e,n){var r=Qe;try{return Qe=e,n()}finally{Qe=r}},Fr=function(e,n,r){switch(n){case"input":if(De(e,r),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<r.length;n++){var a=r[n];if(a!==e&&a.form===e.form){var u=fo(a);if(!u)throw Error(h(90));it(a),De(a,u)}}}break;case"textarea":rt(e,r);break;case"select":n=r.value,n!=null&&te(e,!!r.multiple,n,!1)}},Da=wu,Fa=Or;var Gh={usingClientEntryPoint:!1,Events:[di,hi,fo,Ba,Ra,wu]},ka={findFiberByHostInstance:ci,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Kh={bundleType:ka.bundleType,version:ka.version,rendererPackageName:ka.rendererPackageName,rendererConfig:ka.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:de.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Za(e),e===null?null:e.stateNode},findFiberByHostInstance:ka.findFiberByHostInstance||Vh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ql=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ql.isDisabled&&Ql.supportsFiber)try{ur=Ql.inject(Kh),en=Ql}catch{}}return Xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gh,Xt.createPortal=function(e,n){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Lu(n))throw Error(h(200));return Hh(e,n,null,r)},Xt.createRoot=function(e,n){if(!Lu(e))throw Error(h(299));var r=!1,a="",u=Sd;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(u=n.onRecoverableError)),n=Pu(e,1,!1,null,null,r,!1,a,u),e[nt]=n.current,Fi(e.nodeType===8?e.parentNode:e),new Eu(n)},Xt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(h(188)):(e=Object.keys(e).join(","),Error(h(268,e)));return e=Za(n),e=e===null?null:e.stateNode,e},Xt.flushSync=function(e){return Or(e)},Xt.hydrate=function(e,n,r){if(!ql(n))throw Error(h(200));return Jl(null,e,n,!0,r)},Xt.hydrateRoot=function(e,n,r){if(!Lu(e))throw Error(h(405));var a=r!=null&&r.hydratedSources||null,u=!1,c="",g=Sd;if(r!=null&&(r.unstable_strictMode===!0&&(u=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onRecoverableError!==void 0&&(g=r.onRecoverableError)),n=Cd(n,null,e,1,r??null,u,!1,c,g),e[nt]=n.current,Fi(e),a)for(e=0;e<a.length;e++)r=a[e],u=r._getVersion,u=u(r._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[r,u]:n.mutableSourceEagerHydrationData.push(r,u);return new Yl(n)},Xt.render=function(e,n,r){if(!ql(n))throw Error(h(200));return Jl(null,e,n,!1,r)},Xt.unmountComponentAtNode=function(e){if(!ql(e))throw Error(h(40));return e._reactRootContainer?(Or(function(){Jl(null,null,e,!1,function(){e._reactRootContainer=null,e[nt]=null})}),!0):!1},Xt.unstable_batchedUpdates=wu,Xt.unstable_renderSubtreeIntoContainer=function(e,n,r,a){if(!ql(r))throw Error(h(200));if(e==null||e._reactInternals===void 0)throw Error(h(38));return Jl(e,n,r,!1,a)},Xt.version="18.3.1-next-f1338f8080-20240426",Xt}var Od;function Kd(){if(Od)return Nu.exports;Od=1;function p(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(p)}catch(m){console.error(m)}}return p(),Nu.exports=tf(),Nu.exports}var Nd;function nf(){if(Nd)return Xl;Nd=1;var p=Kd();return Xl.createRoot=p.createRoot,Xl.hydrateRoot=p.hydrateRoot,Xl}var rf=nf(),of=Kd();/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ta(){return Ta=Object.assign?Object.assign.bind():function(p){for(var m=1;m<arguments.length;m++){var h=arguments[m];for(var y in h)Object.prototype.hasOwnProperty.call(h,y)&&(p[y]=h[y])}return p},Ta.apply(this,arguments)}var tr;(function(p){p.Pop="POP",p.Push="PUSH",p.Replace="REPLACE"})(tr||(tr={}));const Md="popstate";function af(p){p===void 0&&(p={});function m(_,k){let{pathname:b="/",search:S="",hash:P=""}=Ir(_.location.hash.substr(1));return!b.startsWith("/")&&!b.startsWith(".")&&(b="/"+b),Ru("",{pathname:b,search:S,hash:P},k.state&&k.state.usr||null,k.state&&k.state.key||"default")}function h(_,k){let b=_.document.querySelector("base"),S="";if(b&&b.getAttribute("href")){let P=_.location.href,w=P.indexOf("#");S=w===-1?P:P.slice(0,w)}return S+"#"+(typeof k=="string"?k:ts(k))}function y(_,k){Uu(_.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(k)+")")}return sf(m,h,y,p)}function Ct(p,m){if(p===!1||p===null||typeof p>"u")throw new Error(m)}function Uu(p,m){if(!p){typeof console<"u"&&console.warn(m);try{throw new Error(m)}catch{}}}function lf(){return Math.random().toString(36).substr(2,8)}function zd(p,m){return{usr:p.state,key:p.key,idx:m}}function Ru(p,m,h,y){return h===void 0&&(h=null),Ta({pathname:typeof p=="string"?p:p.pathname,search:"",hash:""},typeof m=="string"?Ir(m):m,{state:h,key:m&&m.key||y||lf()})}function ts(p){let{pathname:m="/",search:h="",hash:y=""}=p;return h&&h!=="?"&&(m+=h.charAt(0)==="?"?h:"?"+h),y&&y!=="#"&&(m+=y.charAt(0)==="#"?y:"#"+y),m}function Ir(p){let m={};if(p){let h=p.indexOf("#");h>=0&&(m.hash=p.substr(h),p=p.substr(0,h));let y=p.indexOf("?");y>=0&&(m.search=p.substr(y),p=p.substr(0,y)),p&&(m.pathname=p)}return m}function sf(p,m,h,y){y===void 0&&(y={});let{window:_=document.defaultView,v5Compat:k=!1}=y,b=_.history,S=tr.Pop,P=null,w=E();w==null&&(w=0,b.replaceState(Ta({},b.state,{idx:w}),""));function E(){return(b.state||{idx:null}).idx}function R(){S=tr.Pop;let Z=E(),j=Z==null?null:Z-w;w=Z,P&&P({action:S,location:I.location,delta:j})}function G(Z,j){S=tr.Push;let ie=Ru(I.location,Z,j);h&&h(ie,Z),w=E()+1;let K=zd(ie,w),de=I.createHref(ie);try{b.pushState(K,"",de)}catch(Se){if(Se instanceof DOMException&&Se.name==="DataCloneError")throw Se;_.location.assign(de)}k&&P&&P({action:S,location:I.location,delta:1})}function ne(Z,j){S=tr.Replace;let ie=Ru(I.location,Z,j);h&&h(ie,Z),w=E();let K=zd(ie,w),de=I.createHref(ie);b.replaceState(K,"",de),k&&P&&P({action:S,location:I.location,delta:0})}function M(Z){let j=_.location.origin!=="null"?_.location.origin:_.location.href,ie=typeof Z=="string"?Z:ts(Z);return ie=ie.replace(/ $/,"%20"),Ct(j,"No window.location.(origin|href) available to create URL for href: "+ie),new URL(ie,j)}let I={get action(){return S},get location(){return p(_,b)},listen(Z){if(P)throw new Error("A history only accepts one active listener");return _.addEventListener(Md,R),P=Z,()=>{_.removeEventListener(Md,R),P=null}},createHref(Z){return m(_,Z)},createURL:M,encodeLocation(Z){let j=M(Z);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:G,replace:ne,go(Z){return b.go(Z)}};return I}var Id;(function(p){p.data="data",p.deferred="deferred",p.redirect="redirect",p.error="error"})(Id||(Id={}));function uf(p,m,h){return h===void 0&&(h="/"),cf(p,m,h)}function cf(p,m,h,y){let _=typeof m=="string"?Ir(m):m,k=Zu(_.pathname||"/",h);if(k==null)return null;let b=Yd(p);df(b);let S=null;for(let P=0;S==null&&P<b.length;++P){let w=Sf(k);S=wf(b[P],w)}return S}function Yd(p,m,h,y){m===void 0&&(m=[]),h===void 0&&(h=[]),y===void 0&&(y="");let _=(k,b,S)=>{let P={relativePath:S===void 0?k.path||"":S,caseSensitive:k.caseSensitive===!0,childrenIndex:b,route:k};P.relativePath.startsWith("/")&&(Ct(P.relativePath.startsWith(y),'Absolute route path "'+P.relativePath+'" nested under path '+('"'+y+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),P.relativePath=P.relativePath.slice(y.length));let w=ir([y,P.relativePath]),E=h.concat(P);k.children&&k.children.length>0&&(Ct(k.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+w+'".')),Yd(k.children,m,E,w)),!(k.path==null&&!k.index)&&m.push({path:w,score:yf(w,k.index),routesMeta:E})};return p.forEach((k,b)=>{var S;if(k.path===""||!((S=k.path)!=null&&S.includes("?")))_(k,b);else for(let P of qd(k.path))_(k,b,P)}),m}function qd(p){let m=p.split("/");if(m.length===0)return[];let[h,...y]=m,_=h.endsWith("?"),k=h.replace(/\?$/,"");if(y.length===0)return _?[k,""]:[k];let b=qd(y.join("/")),S=[];return S.push(...b.map(P=>P===""?k:[k,P].join("/"))),_&&S.push(...b),S.map(P=>p.startsWith("/")&&P===""?"/":P)}function df(p){p.sort((m,h)=>m.score!==h.score?h.score-m.score:_f(m.routesMeta.map(y=>y.childrenIndex),h.routesMeta.map(y=>y.childrenIndex)))}const hf=/^:[\w-]+$/,ff=3,pf=2,mf=1,gf=10,vf=-2,Ad=p=>p==="*";function yf(p,m){let h=p.split("/"),y=h.length;return h.some(Ad)&&(y+=vf),m&&(y+=pf),h.filter(_=>!Ad(_)).reduce((_,k)=>_+(hf.test(k)?ff:k===""?mf:gf),y)}function _f(p,m){return p.length===m.length&&p.slice(0,-1).every((y,_)=>y===m[_])?p[p.length-1]-m[m.length-1]:0}function wf(p,m,h){let{routesMeta:y}=p,_={},k="/",b=[];for(let S=0;S<y.length;++S){let P=y[S],w=S===y.length-1,E=k==="/"?m:m.slice(k.length)||"/",R=Cf({path:P.relativePath,caseSensitive:P.caseSensitive,end:w},E),G=P.route;if(!R)return null;Object.assign(_,R.params),b.push({params:_,pathname:ir([k,R.pathname]),pathnameBase:Tf(ir([k,R.pathnameBase])),route:G}),R.pathnameBase!=="/"&&(k=ir([k,R.pathnameBase]))}return b}function Cf(p,m){typeof p=="string"&&(p={path:p,caseSensitive:!1,end:!0});let[h,y]=xf(p.path,p.caseSensitive,p.end),_=m.match(h);if(!_)return null;let k=_[0],b=k.replace(/(.)\/+$/,"$1"),S=_.slice(1);return{params:y.reduce((w,E,R)=>{let{paramName:G,isOptional:ne}=E;if(G==="*"){let I=S[R]||"";b=k.slice(0,k.length-I.length).replace(/(.)\/+$/,"$1")}const M=S[R];return ne&&!M?w[G]=void 0:w[G]=(M||"").replace(/%2F/g,"/"),w},{}),pathname:k,pathnameBase:b,pattern:p}}function xf(p,m,h){m===void 0&&(m=!1),h===void 0&&(h=!0),Uu(p==="*"||!p.endsWith("*")||p.endsWith("/*"),'Route path "'+p+'" will be treated as if it were '+('"'+p.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+p.replace(/\*$/,"/*")+'".'));let y=[],_="^"+p.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(b,S,P)=>(y.push({paramName:S,isOptional:P!=null}),P?"/?([^\\/]+)?":"/([^\\/]+)"));return p.endsWith("*")?(y.push({paramName:"*"}),_+=p==="*"||p==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):h?_+="\\/*$":p!==""&&p!=="/"&&(_+="(?:(?=\\/|$))"),[new RegExp(_,m?void 0:"i"),y]}function Sf(p){try{return p.split("/").map(m=>decodeURIComponent(m).replace(/\//g,"%2F")).join("/")}catch(m){return Uu(!1,'The URL path "'+p+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+m+").")),p}}function Zu(p,m){if(m==="/")return p;if(!p.toLowerCase().startsWith(m.toLowerCase()))return null;let h=m.endsWith("/")?m.length-1:m.length,y=p.charAt(h);return y&&y!=="/"?null:p.slice(h)||"/"}function kf(p,m){m===void 0&&(m="/");let{pathname:h,search:y="",hash:_=""}=typeof p=="string"?Ir(p):p;return{pathname:h?h.startsWith("/")?h:bf(h,m):m,search:Ef(y),hash:Lf(_)}}function bf(p,m){let h=m.replace(/\/+$/,"").split("/");return p.split("/").forEach(_=>{_===".."?h.length>1&&h.pop():_!=="."&&h.push(_)}),h.length>1?h.join("/"):"/"}function Iu(p,m,h,y){return"Cannot include a '"+p+"' character in a manually specified "+("`to."+m+"` field ["+JSON.stringify(y)+"].  Please separate it out to the ")+("`to."+h+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Pf(p){return p.filter((m,h)=>h===0||m.route.path&&m.route.path.length>0)}function Jd(p,m){let h=Pf(p);return m?h.map((y,_)=>_===h.length-1?y.pathname:y.pathnameBase):h.map(y=>y.pathnameBase)}function Qd(p,m,h,y){y===void 0&&(y=!1);let _;typeof p=="string"?_=Ir(p):(_=Ta({},p),Ct(!_.pathname||!_.pathname.includes("?"),Iu("?","pathname","search",_)),Ct(!_.pathname||!_.pathname.includes("#"),Iu("#","pathname","hash",_)),Ct(!_.search||!_.search.includes("#"),Iu("#","search","hash",_)));let k=p===""||_.pathname==="",b=k?"/":_.pathname,S;if(b==null)S=h;else{let R=m.length-1;if(!y&&b.startsWith("..")){let G=b.split("/");for(;G[0]==="..";)G.shift(),R-=1;_.pathname=G.join("/")}S=R>=0?m[R]:"/"}let P=kf(_,S),w=b&&b!=="/"&&b.endsWith("/"),E=(k||b===".")&&h.endsWith("/");return!P.pathname.endsWith("/")&&(w||E)&&(P.pathname+="/"),P}const ir=p=>p.join("/").replace(/\/\/+/g,"/"),Tf=p=>p.replace(/\/+$/,"").replace(/^\/*/,"/"),Ef=p=>!p||p==="?"?"":p.startsWith("?")?p:"?"+p,Lf=p=>!p||p==="#"?"":p.startsWith("#")?p:"#"+p;function Of(p){return p!=null&&typeof p.status=="number"&&typeof p.statusText=="string"&&typeof p.internal=="boolean"&&"data"in p}const Xd=["post","put","patch","delete"];new Set(Xd);const Nf=["get",...Xd];new Set(Nf);/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ea(){return Ea=Object.assign?Object.assign.bind():function(p){for(var m=1;m<arguments.length;m++){var h=arguments[m];for(var y in h)Object.prototype.hasOwnProperty.call(h,y)&&(p[y]=h[y])}return p},Ea.apply(this,arguments)}const Wu=N.createContext(null),Mf=N.createContext(null),Ar=N.createContext(null),os=N.createContext(null),rr=N.createContext({outlet:null,matches:[],isDataRoute:!1}),eh=N.createContext(null);function zf(p,m){let{relative:h}=m===void 0?{}:m;La()||Ct(!1);let{basename:y,navigator:_}=N.useContext(Ar),{hash:k,pathname:b,search:S}=nh(p,{relative:h}),P=b;return y!=="/"&&(P=b==="/"?y:ir([y,b])),_.createHref({pathname:P,search:S,hash:k})}function La(){return N.useContext(os)!=null}function Oa(){return La()||Ct(!1),N.useContext(os).location}function th(p){N.useContext(Ar).static||N.useLayoutEffect(p)}function kn(){let{isDataRoute:p}=N.useContext(rr);return p?Kf():If()}function If(){La()||Ct(!1);let p=N.useContext(Wu),{basename:m,future:h,navigator:y}=N.useContext(Ar),{matches:_}=N.useContext(rr),{pathname:k}=Oa(),b=JSON.stringify(Jd(_,h.v7_relativeSplatPath)),S=N.useRef(!1);return th(()=>{S.current=!0}),N.useCallback(function(w,E){if(E===void 0&&(E={}),!S.current)return;if(typeof w=="number"){y.go(w);return}let R=Qd(w,JSON.parse(b),k,E.relative==="path");p==null&&m!=="/"&&(R.pathname=R.pathname==="/"?m:ir([m,R.pathname])),(E.replace?y.replace:y.push)(R,E.state,E)},[m,y,b,k,p])}const Af=N.createContext(null);function Bf(p){let m=N.useContext(rr).outlet;return m&&N.createElement(Af.Provider,{value:p},m)}function nh(p,m){let{relative:h}=m===void 0?{}:m,{future:y}=N.useContext(Ar),{matches:_}=N.useContext(rr),{pathname:k}=Oa(),b=JSON.stringify(Jd(_,y.v7_relativeSplatPath));return N.useMemo(()=>Qd(p,JSON.parse(b),k,h==="path"),[p,b,k,h])}function Rf(p,m){return Df(p,m)}function Df(p,m,h,y){La()||Ct(!1);let{navigator:_}=N.useContext(Ar),{matches:k}=N.useContext(rr),b=k[k.length-1],S=b?b.params:{};b&&b.pathname;let P=b?b.pathnameBase:"/";b&&b.route;let w=Oa(),E;if(m){var R;let Z=typeof m=="string"?Ir(m):m;P==="/"||(R=Z.pathname)!=null&&R.startsWith(P)||Ct(!1),E=Z}else E=w;let G=E.pathname||"/",ne=G;if(P!=="/"){let Z=P.replace(/^\//,"").split("/");ne="/"+G.replace(/^\//,"").split("/").slice(Z.length).join("/")}let M=uf(p,{pathname:ne}),I=Wf(M&&M.map(Z=>Object.assign({},Z,{params:Object.assign({},S,Z.params),pathname:ir([P,_.encodeLocation?_.encodeLocation(Z.pathname).pathname:Z.pathname]),pathnameBase:Z.pathnameBase==="/"?P:ir([P,_.encodeLocation?_.encodeLocation(Z.pathnameBase).pathname:Z.pathnameBase])})),k,h,y);return m&&I?N.createElement(os.Provider,{value:{location:Ea({pathname:"/",search:"",hash:"",state:null,key:"default"},E),navigationType:tr.Pop}},I):I}function Ff(){let p=Gf(),m=Of(p)?p.status+" "+p.statusText:p instanceof Error?p.message:JSON.stringify(p),h=p instanceof Error?p.stack:null,_={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},m),h?N.createElement("pre",{style:_},h):null,null)}const jf=N.createElement(Ff,null);class Uf extends N.Component{constructor(m){super(m),this.state={location:m.location,revalidation:m.revalidation,error:m.error}}static getDerivedStateFromError(m){return{error:m}}static getDerivedStateFromProps(m,h){return h.location!==m.location||h.revalidation!=="idle"&&m.revalidation==="idle"?{error:m.error,location:m.location,revalidation:m.revalidation}:{error:m.error!==void 0?m.error:h.error,location:h.location,revalidation:m.revalidation||h.revalidation}}componentDidCatch(m,h){console.error("React Router caught the following error during render",m,h)}render(){return this.state.error!==void 0?N.createElement(rr.Provider,{value:this.props.routeContext},N.createElement(eh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Zf(p){let{routeContext:m,match:h,children:y}=p,_=N.useContext(Wu);return _&&_.static&&_.staticContext&&(h.route.errorElement||h.route.ErrorBoundary)&&(_.staticContext._deepestRenderedBoundaryId=h.route.id),N.createElement(rr.Provider,{value:m},y)}function Wf(p,m,h,y){var _;if(m===void 0&&(m=[]),h===void 0&&(h=null),y===void 0&&(y=null),p==null){var k;if(!h)return null;if(h.errors)p=h.matches;else if((k=y)!=null&&k.v7_partialHydration&&m.length===0&&!h.initialized&&h.matches.length>0)p=h.matches;else return null}let b=p,S=(_=h)==null?void 0:_.errors;if(S!=null){let E=b.findIndex(R=>R.route.id&&(S==null?void 0:S[R.route.id])!==void 0);E>=0||Ct(!1),b=b.slice(0,Math.min(b.length,E+1))}let P=!1,w=-1;if(h&&y&&y.v7_partialHydration)for(let E=0;E<b.length;E++){let R=b[E];if((R.route.HydrateFallback||R.route.hydrateFallbackElement)&&(w=E),R.route.id){let{loaderData:G,errors:ne}=h,M=R.route.loader&&G[R.route.id]===void 0&&(!ne||ne[R.route.id]===void 0);if(R.route.lazy||M){P=!0,w>=0?b=b.slice(0,w+1):b=[b[0]];break}}}return b.reduceRight((E,R,G)=>{let ne,M=!1,I=null,Z=null;h&&(ne=S&&R.route.id?S[R.route.id]:void 0,I=R.route.errorElement||jf,P&&(w<0&&G===0?(Yf("route-fallback"),M=!0,Z=null):w===G&&(M=!0,Z=R.route.hydrateFallbackElement||null)));let j=m.concat(b.slice(0,G+1)),ie=()=>{let K;return ne?K=I:M?K=Z:R.route.Component?K=N.createElement(R.route.Component,null):R.route.element?K=R.route.element:K=E,N.createElement(Zf,{match:R,routeContext:{outlet:E,matches:j,isDataRoute:h!=null},children:K})};return h&&(R.route.ErrorBoundary||R.route.errorElement||G===0)?N.createElement(Uf,{location:h.location,revalidation:h.revalidation,component:I,error:ne,children:ie(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):ie()},null)}var ih=function(p){return p.UseBlocker="useBlocker",p.UseRevalidator="useRevalidator",p.UseNavigateStable="useNavigate",p}(ih||{}),rh=function(p){return p.UseBlocker="useBlocker",p.UseLoaderData="useLoaderData",p.UseActionData="useActionData",p.UseRouteError="useRouteError",p.UseNavigation="useNavigation",p.UseRouteLoaderData="useRouteLoaderData",p.UseMatches="useMatches",p.UseRevalidator="useRevalidator",p.UseNavigateStable="useNavigate",p.UseRouteId="useRouteId",p}(rh||{});function Hf(p){let m=N.useContext(Wu);return m||Ct(!1),m}function Vf(p){let m=N.useContext(Mf);return m||Ct(!1),m}function $f(p){let m=N.useContext(rr);return m||Ct(!1),m}function oh(p){let m=$f(),h=m.matches[m.matches.length-1];return h.route.id||Ct(!1),h.route.id}function Gf(){var p;let m=N.useContext(eh),h=Vf(),y=oh();return m!==void 0?m:(p=h.errors)==null?void 0:p[y]}function Kf(){let{router:p}=Hf(ih.UseNavigateStable),m=oh(rh.UseNavigateStable),h=N.useRef(!1);return th(()=>{h.current=!0}),N.useCallback(function(_,k){k===void 0&&(k={}),h.current&&(typeof _=="number"?p.navigate(_):p.navigate(_,Ea({fromRouteId:m},k)))},[p,m])}const Bd={};function Yf(p,m,h){Bd[p]||(Bd[p]=!0)}function qf(p){return Bf(p.context)}function Ht(p){Ct(!1)}function Jf(p){let{basename:m="/",children:h=null,location:y,navigationType:_=tr.Pop,navigator:k,static:b=!1,future:S}=p;La()&&Ct(!1);let P=m.replace(/^\/*/,"/"),w=N.useMemo(()=>({basename:P,navigator:k,static:b,future:Ea({v7_relativeSplatPath:!1},S)}),[P,S,k,b]);typeof y=="string"&&(y=Ir(y));let{pathname:E="/",search:R="",hash:G="",state:ne=null,key:M="default"}=y,I=N.useMemo(()=>{let Z=Zu(E,P);return Z==null?null:{location:{pathname:Z,search:R,hash:G,state:ne,key:M},navigationType:_}},[P,E,R,G,ne,M,_]);return I==null?null:N.createElement(Ar.Provider,{value:w},N.createElement(os.Provider,{children:h,value:I}))}function Qf(p){let{children:m,location:h}=p;return Rf(Du(m),h)}new Promise(()=>{});function Du(p,m){m===void 0&&(m=[]);let h=[];return N.Children.forEach(p,(y,_)=>{if(!N.isValidElement(y))return;let k=[...m,_];if(y.type===N.Fragment){h.push.apply(h,Du(y.props.children,k));return}y.type!==Ht&&Ct(!1),!y.props.index||!y.props.children||Ct(!1);let b={id:y.props.id||k.join("-"),caseSensitive:y.props.caseSensitive,element:y.props.element,Component:y.props.Component,index:y.props.index,path:y.props.path,loader:y.props.loader,action:y.props.action,errorElement:y.props.errorElement,ErrorBoundary:y.props.ErrorBoundary,hasErrorBoundary:y.props.ErrorBoundary!=null||y.props.errorElement!=null,shouldRevalidate:y.props.shouldRevalidate,handle:y.props.handle,lazy:y.props.lazy};y.props.children&&(b.children=Du(y.props.children,k)),h.push(b)}),h}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fu(){return Fu=Object.assign?Object.assign.bind():function(p){for(var m=1;m<arguments.length;m++){var h=arguments[m];for(var y in h)Object.prototype.hasOwnProperty.call(h,y)&&(p[y]=h[y])}return p},Fu.apply(this,arguments)}function Xf(p,m){if(p==null)return{};var h={},y=Object.keys(p),_,k;for(k=0;k<y.length;k++)_=y[k],!(m.indexOf(_)>=0)&&(h[_]=p[_]);return h}function ep(p){return!!(p.metaKey||p.altKey||p.ctrlKey||p.shiftKey)}function tp(p,m){return p.button===0&&(!m||m==="_self")&&!ep(p)}const np=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],ip="6";try{window.__reactRouterVersion=ip}catch{}const rp="startTransition",Rd=Qh[rp];function op(p){let{basename:m,children:h,future:y,window:_}=p,k=N.useRef();k.current==null&&(k.current=af({window:_,v5Compat:!0}));let b=k.current,[S,P]=N.useState({action:b.action,location:b.location}),{v7_startTransition:w}=y||{},E=N.useCallback(R=>{w&&Rd?Rd(()=>P(R)):P(R)},[P,w]);return N.useLayoutEffect(()=>b.listen(E),[b,E]),N.createElement(Jf,{basename:m,children:h,location:S.location,navigationType:S.action,navigator:b,future:y})}const ap=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",lp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rn=N.forwardRef(function(m,h){let{onClick:y,relative:_,reloadDocument:k,replace:b,state:S,target:P,to:w,preventScrollReset:E,unstable_viewTransition:R}=m,G=Xf(m,np),{basename:ne}=N.useContext(Ar),M,I=!1;if(typeof w=="string"&&lp.test(w)&&(M=w,ap))try{let K=new URL(window.location.href),de=w.startsWith("//")?new URL(K.protocol+w):new URL(w),Se=Zu(de.pathname,ne);de.origin===K.origin&&Se!=null?w=Se+de.search+de.hash:I=!0}catch{}let Z=zf(w,{relative:_}),j=sp(w,{replace:b,state:S,target:P,preventScrollReset:E,relative:_,unstable_viewTransition:R});function ie(K){y&&y(K),K.defaultPrevented||j(K)}return N.createElement("a",Fu({},G,{href:M||Z,onClick:I||k?y:ie,ref:h,target:P}))});var Dd;(function(p){p.UseScrollRestoration="useScrollRestoration",p.UseSubmit="useSubmit",p.UseSubmitFetcher="useSubmitFetcher",p.UseFetcher="useFetcher",p.useViewTransitionState="useViewTransitionState"})(Dd||(Dd={}));var Fd;(function(p){p.UseFetcher="useFetcher",p.UseFetchers="useFetchers",p.UseScrollRestoration="useScrollRestoration"})(Fd||(Fd={}));function sp(p,m){let{target:h,replace:y,state:_,preventScrollReset:k,relative:b,unstable_viewTransition:S}=m===void 0?{}:m,P=kn(),w=Oa(),E=nh(p,{relative:b});return N.useCallback(R=>{if(tp(R,h)){R.preventDefault();let G=y!==void 0?y:ts(w)===ts(E);P(p,{replace:G,state:_,preventScrollReset:k,relative:b,unstable_viewTransition:S})}},[w,P,E,y,_,h,p,k,b,S])}var Au={exports:{}},ba={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jd;function up(){if(jd)return ba;jd=1;var p=rs(),m=Symbol.for("react.element"),h=Symbol.for("react.fragment"),y=Object.prototype.hasOwnProperty,_=p.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,k={key:!0,ref:!0,__self:!0,__source:!0};function b(S,P,w){var E,R={},G=null,ne=null;w!==void 0&&(G=""+w),P.key!==void 0&&(G=""+P.key),P.ref!==void 0&&(ne=P.ref);for(E in P)y.call(P,E)&&!k.hasOwnProperty(E)&&(R[E]=P[E]);if(S&&S.defaultProps)for(E in P=S.defaultProps,P)R[E]===void 0&&(R[E]=P[E]);return{$$typeof:m,type:S,key:G,ref:ne,props:R,_owner:_.current}}return ba.Fragment=h,ba.jsx=b,ba.jsxs=b,ba}var Ud;function cp(){return Ud||(Ud=1,Au.exports=up()),Au.exports}var ah=cp();const l=ah.jsx,f=ah.jsxs,dp=(p,m)=>{switch(m.type){case"SET_USER_DETAILS":return{...p,...m.payload};case"SET_PATIENT_DETAILS":return{...p,...m.payload};case"SET_LOCATION":return{...p,...m.payload};default:return p}},hp={spineUrl:"https://10.0.14.98:5001",userPhotoUrl:null,user:null,userID:null,category:null,department:null,role:null,accessLevel:null,employer:null,branch:null,token:null,referenceLibrary:null,clinicianGrades:null,clinicianSpecialties:null,userState:null,allStates:[],serviceBranches:[],configurations:[]},bn=N.createContext(),fp=p=>{const m=localStorage.getItem("appState")?JSON.parse(localStorage.getItem("appState")):hp,[h,y]=N.useReducer(dp,m);N.useEffect(()=>{localStorage.setItem("appState",JSON.stringify(h))},[h]);const _=async P=>{try{y({type:"SET_USER_DETAILS",payload:P})}catch(w){console.error("Failed to fetch staff details:",w)}},k=async P=>{try{y({type:"SET_PATIENT_DETAILS",payload:P})}catch(w){console.error("Failed to fetch patient details:",w)}},b=N.useCallback(async P=>{try{y({type:"SET_LOCATION",payload:P})}catch(w){console.error("Failed to update location:",w)}},[]),S=()=>{_({type:"SET_USER_DETAILS",payload:{}}),localStorage.removeItem("token"),localStorage.removeItem("appState")};return l(bn.Provider,{value:{state:h,dispatch:y,updateUser:_,updatePatient:k,updateLocation:b,logout:S},children:p.children})};function pp(){const{state:p,updateUser:m,logout:h}=N.useContext(bn),[y,_]=N.useState("advert"),{spineUrl:k,token:b}=p,[S,P]=N.useState({}),[w,E]=N.useState(!1),R=kn();N.useEffect(()=>{const ie=async()=>{console.log(k);try{const Se=await fetch(`${k}/auth/check_accreditation`,{method:"GET"});if(Se.ok)(await Se.json()).accredited?_("login"):(h(),_("advert"));else{h(),_("advert");const Re=await Se.json();console.error("Error checking accreditation:",Se.statusText)}}catch(Se){console.error("Error checking accreditation:",Se),_("advert")}};setTimeout(()=>{ie()},3e3),ie();const de=setInterval(ie,6e3);return()=>clearInterval(de)},[]),N.useEffect(()=>{const ie=()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(de=>{P(Se=>({...Se,latitude:de.coords.latitude,longitude:de.coords.longitude}))},de=>{console.error("Error fetching location:",de),alert("Unable to fetch location. Please enable location access.")}):alert("Geolocation is not supported by your browser.")};ie();const K=setInterval(ie,3e3);return()=>clearInterval(K)},[]);const G=async()=>{E(!0);try{if(!S.email||!S.password){alert("Please fill in all required fields.");return}console.log(k);const ie=await fetch(`${k}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({dispensaryID:S.dispensaryID,email:S.email,password:S.password,latitude:S.latitude,longitude:S.longitude})});if(ie.ok){const K=await ie.json();m(K.userData),R("/totp-page")}else{let K="An error occurred. Please try again.";try{K=(await ie.json()).message||K}catch(de){console.error("Error parsing error response:",de)}alert(K),console.error("Failed to log in:",ie.statusText)}}catch(ie){console.error("Login error:",ie),alert("An error occurred. Please check your network and try again."),alert(k)}finally{E(!1)}},ne={backgroundColor:"orange",height:"100vh",width:"100vw",overflowY:"hidden",overflowX:"hidden",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center"},M={width:"50%",gap:"20px"},I={},Z={backgroundColor:"white",width:"50%",height:"1.5rem",borderRadius:"10px",margin:"10px",textAlign:"center",color:"green"},j={cursor:w?"wait":"default"};return f("div",{children:[y==="loading"&&l("div",{style:{...ne,cursor:w?"wait":"default"}}),y==="advert"&&l("div",{style:{...ne,cursor:w?"wait":"default"},children:l("h1",{style:{color:"green"},children:"Unauthorized!!!"})}),y==="login"&&f("div",{style:{...ne,cursor:w?"wait":"default"},children:[l("h1",{style:{color:"green"},children:"PrescribeNg Staff Portal"}),f("div",{style:M,children:[l("div",{style:I,children:l("input",{type:"email",style:Z,value:S.email,onChange:ie=>P({...S,email:ie.target.value}),placeholder:"PrescribeNg Work Email'"})}),l("div",{style:I,children:l("input",{type:"password",style:Z,value:S.password,onChange:ie=>P({...S,password:ie.target.value}),placeholder:"Password"})}),l("button",{style:j,onClick:G,children:"Login"})]})]})]})}function mp(){const{state:p,logout:m,updateUser:h}=N.useContext(bn),{spineUrl:y,token:_}=p,[k,b]=N.useState(""),S=kn();return l("div",{style:{backgroundColor:"orange",color:"black",height:"100vh",width:"100vw",overflowY:"hidden",overflowX:"hidden",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center"},children:f("div",{style:{backgroundColor:"orange",width:"40%",height:"30%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center"},children:[l("input",{style:{backgroundColor:"white",color:"black",border:"none",borderRadius:"7px",width:"70%",height:"2.5rem",textAlign:"center"},value:k,onChange:Z=>b(Z.target.value),placeholder:"Enter 'TOTP' from sms/email"}),f("div",{style:{height:"40px",width:"50%",gap:"10px",marginTop:"30px",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},children:[l("span",{style:{height:"30px",width:"50px",color:"green",textDecoration:"underline",fontSize:"1.2rem",cursor:"pointer",margin:"10px"},onClick:async()=>{try{const Z=await fetch(`${y}/auth/multifactor_authentication`,{method:"POST",headers:{Authorization:`Bearer ${_}`,"Content-Type":"application/json"},body:JSON.stringify({totp:k})});if(console.log("Response Status:",Z.status),Z.ok){const j=await Z.json();console.log("Received Data:",j),h({token:j.token}),S("/home")}else{const j=await Z.json();alert(j.message)}}catch(Z){console.error("Error validating OTP:",Z)}},children:"Submit"}),l("span",{style:{height:"30px",width:"50px",color:"blue",textDecoration:"underline",fontSize:"1.2rem",cursor:"pointer"},onClick:()=>{m(),S("/")},children:"cancel"})]})]})})}var lh={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Zd=nr.createContext&&nr.createContext(lh),gp=["attr","size","title"];function vp(p,m){if(p==null)return{};var h=yp(p,m),y,_;if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(p);for(_=0;_<k.length;_++)y=k[_],!(m.indexOf(y)>=0)&&Object.prototype.propertyIsEnumerable.call(p,y)&&(h[y]=p[y])}return h}function yp(p,m){if(p==null)return{};var h={};for(var y in p)if(Object.prototype.hasOwnProperty.call(p,y)){if(m.indexOf(y)>=0)continue;h[y]=p[y]}return h}function ns(){return ns=Object.assign?Object.assign.bind():function(p){for(var m=1;m<arguments.length;m++){var h=arguments[m];for(var y in h)Object.prototype.hasOwnProperty.call(h,y)&&(p[y]=h[y])}return p},ns.apply(this,arguments)}function Wd(p,m){var h=Object.keys(p);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(p);m&&(y=y.filter(function(_){return Object.getOwnPropertyDescriptor(p,_).enumerable})),h.push.apply(h,y)}return h}function is(p){for(var m=1;m<arguments.length;m++){var h=arguments[m]!=null?arguments[m]:{};m%2?Wd(Object(h),!0).forEach(function(y){_p(p,y,h[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(h)):Wd(Object(h)).forEach(function(y){Object.defineProperty(p,y,Object.getOwnPropertyDescriptor(h,y))})}return p}function _p(p,m,h){return m=wp(m),m in p?Object.defineProperty(p,m,{value:h,enumerable:!0,configurable:!0,writable:!0}):p[m]=h,p}function wp(p){var m=Cp(p,"string");return typeof m=="symbol"?m:m+""}function Cp(p,m){if(typeof p!="object"||!p)return p;var h=p[Symbol.toPrimitive];if(h!==void 0){var y=h.call(p,m);if(typeof y!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return(m==="string"?String:Number)(p)}function sh(p){return p&&p.map((m,h)=>nr.createElement(m.tag,is({key:h},m.attr),sh(m.child)))}function Lo(p){return m=>nr.createElement(xp,ns({attr:is({},p.attr)},m),sh(p.child))}function xp(p){var m=h=>{var{attr:y,size:_,title:k}=p,b=vp(p,gp),S=_||h.size||"1em",P;return h.className&&(P=h.className),p.className&&(P=(P?P+" ":"")+p.className),nr.createElement("svg",ns({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},h.attr,y,b,{className:P,style:is(is({color:p.color||h.color},h.style),p.style),height:S,width:S,xmlns:"http://www.w3.org/2000/svg"}),k&&nr.createElement("title",null,k),p.children)};return Zd!==void 0?nr.createElement(Zd.Consumer,null,h=>m(h)):m(lh)}function Sp(p){return Lo({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(p)}function Hd(p){return Lo({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(p)}function kp(p){return Lo({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(p)}function bp(p){return Lo({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M610.5 373.3c2.6-14.1 2.6-28.5 0-42.6l25.8-14.9c3-1.7 4.3-5.2 3.3-8.5-6.7-21.6-18.2-41.2-33.2-57.4-2.3-2.5-6-3.1-9-1.4l-25.8 14.9c-10.9-9.3-23.4-16.5-36.9-21.3v-29.8c0-3.4-2.4-6.4-5.7-7.1-22.3-5-45-4.8-66.2 0-3.3.7-5.7 3.7-5.7 7.1v29.8c-13.5 4.8-26 12-36.9 21.3l-25.8-14.9c-2.9-1.7-6.7-1.1-9 1.4-15 16.2-26.5 35.8-33.2 57.4-1 3.3.4 6.8 3.3 8.5l25.8 14.9c-2.6 14.1-2.6 28.5 0 42.6l-25.8 14.9c-3 1.7-4.3 5.2-3.3 8.5 6.7 21.6 18.2 41.1 33.2 57.4 2.3 2.5 6 3.1 9 1.4l25.8-14.9c10.9 9.3 23.4 16.5 36.9 21.3v29.8c0 3.4 2.4 6.4 5.7 7.1 22.3 5 45 4.8 66.2 0 3.3-.7 5.7-3.7 5.7-7.1v-29.8c13.5-4.8 26-12 36.9-21.3l25.8 14.9c2.9 1.7 6.7 1.1 9-1.4 15-16.2 26.5-35.8 33.2-57.4 1-3.3-.4-6.8-3.3-8.5l-25.8-14.9zM496 400.5c-26.8 0-48.5-21.8-48.5-48.5s21.8-48.5 48.5-48.5 48.5 21.8 48.5 48.5-21.7 48.5-48.5 48.5zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm201.2 226.5c-2.3-1.2-4.6-2.6-6.8-3.9l-7.9 4.6c-6 3.4-12.8 5.3-19.6 5.3-10.9 0-21.4-4.6-28.9-12.6-18.3-19.8-32.3-43.9-40.2-69.6-5.5-17.7 1.9-36.4 17.9-45.7l7.9-4.6c-.1-2.6-.1-5.2 0-7.8l-7.9-4.6c-16-9.2-23.4-28-17.9-45.7.9-2.9 2.2-5.8 3.2-8.7-3.8-.3-7.5-1.2-11.4-1.2h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c10.1 0 19.5-3.2 27.2-8.5-1.2-3.8-2-7.7-2-11.8v-9.2z"},child:[]}]})(p)}function Eo(p){return Lo({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zM104 424c0 13.3 10.7 24 24 24s24-10.7 24-24-10.7-24-24-24-24 10.7-24 24zm216-135.4v49c36.5 7.4 64 39.8 64 78.4v41.7c0 7.6-5.4 14.2-12.9 15.7l-32.2 6.4c-4.3.9-8.5-1.9-9.4-6.3l-3.1-15.7c-.9-4.3 1.9-8.6 6.3-9.4l19.3-3.9V416c0-62.8-96-65.1-96 1.9v26.7l19.3 3.9c4.3.9 7.1 5.1 6.3 9.4l-3.1 15.7c-.9 4.3-5.1 7.1-9.4 6.3l-31.2-4.2c-7.9-1.1-13.8-7.8-13.8-15.9V416c0-38.6 27.5-70.9 64-78.4v-45.2c-2.2.7-4.4 1.1-6.6 1.9-18 6.3-37.3 9.8-57.4 9.8s-39.4-3.5-57.4-9.8c-7.4-2.6-14.9-4.2-22.6-5.2v81.6c23.1 6.9 40 28.1 40 53.4 0 30.9-25.1 56-56 56s-56-25.1-56-56c0-25.3 16.9-46.5 40-53.4v-80.4C48.5 301 0 355.8 0 422.4v44.8C0 491.9 20.1 512 44.8 512h358.4c24.7 0 44.8-20.1 44.8-44.8v-44.8c0-72-56.8-130.3-128-133.8z"},child:[]}]})(p)}function Vd(p){return Lo({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(p)}function Pp(){const{state:p}=N.useContext(bn),{userState:m,user:h,userPhotoUrl:y,branch:_}=p,[k,b]=N.useState(!1),S=kn(),P=Oa(),w=()=>{S("/")},E=()=>{S("")},R=()=>f("div",{style:ne.container,children:[f(Rn,{to:"",style:G(""),children:[l(Hd,{})," Home"]}),f(Rn,{to:"manage-administrators",style:G("manage-administrators"),children:[l(Vd,{})," Manage Administrators"]}),f(Rn,{to:"organisation-signup",style:G("organisation-signup"),children:[l(bp,{})," Organisation Signup"]}),f(Rn,{to:"manage-organisations",style:G("manage-organisations"),children:[l(Vd,{})," Manage Dispensaries"]}),f(Rn,{to:"clinician-signup",style:G("clinician-signup"),children:[l(Eo,{})," Clinician Signup-"]}),f(Rn,{to:"manage-clinicians",style:G("manage-clinicians"),children:[l(Eo,{})," Manage Clinicians"]}),f(Rn,{to:"patient-signup",style:G("patient-signup"),children:[l(Eo,{})," Patient Signup"]}),f(Rn,{to:"manage-patients",style:G("manage-patients"),children:[l(Eo,{})," Manage Patients"]}),f(Rn,{to:"prescribeng-services",style:G("prescribeng-services"),children:[l(Eo,{})," Manage Services"]}),f(Rn,{to:"ambulance-fleet",style:G("ambulance-fleet"),children:[l(Eo,{})," Ambulance Call Centre"]}),f(Rn,{to:"notifications",style:G("notifications"),children:[l(Sp,{})," Notifications"]})]}),G=I=>P.pathname.split("/").pop()===I?{...ne.general,backgroundColor:"#3498db"}:ne.general,ne={container:{display:"flex",flexDirection:"column",alignItems:"center",paddingTop:"20px"},general:{display:"flex",alignItems:"center",color:"white",backgroundColor:"#333",padding:"12px 18px",margin:"10px 0",textDecoration:"none",borderRadius:"8px",width:"90%",justifyContent:"center",fontSize:"1.1rem",transition:"background-color 0.3s ease"}},M={page:{color:"black",height:"100vh",width:"100vw",overflowY:"hidden",display:"flex"},header:{position:"sticky",top:"15px",color:"#333",height:"10vh",width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 20px",boxShadow:"0 2px 5px rgba(0, 0, 0, 0.1)"},headerText:{fontSize:"1.3rem",fontWeight:"bold"},photoContainer:{position:"sticky",top:"10px",left:"80px",backgroundColor:"#fff",height:"150px",width:"200px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"10px",border:"1px solid #ddd",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)",overflow:"hidden"},image:{height:"100%",width:"100%",objectFit:"cover"},placeholderText:{color:"#666",fontSize:"16px",fontStyle:"italic",textAlign:"center"},logoutButton:{position:"absolute",top:"10px",right:"50px",backgroundColor:"#FF4747",color:"white",borderRadius:"5px",padding:"10px 20px",cursor:"pointer",fontSize:"1.1rem",border:"none",transition:"background-color 0.3s ease"},sideBar:{height:"95vh",width:"220px",backgroundColor:"#2c3e50",color:"white",margin:"15px",borderRadius:"10px",paddingLeft:"20px",paddingRight:"20px",borderTopRightRadius:"10px",borderBottomRightRadius:"10px",overflowY:"auto"},displayBoard:{flex:1,marginLeft:"0px",padding:"20px",backgroundColor:"#ecf0f1",height:"94vh"}};return f("div",{style:{...M.page,cursor:k?"wait":"default"},children:[f("div",{style:M.sideBar,children:[l("div",{style:M.photoContainer,children:y?l("img",{src:y,style:M.image,alt:"User's photo"}):l("div",{style:M.placeholderText,children:"Photo Not Found"})}),l("p",{style:{position:"sticky",top:"170px",backgroundColor:"#2c3e50"},children:f("strong",{children:["User: ",h," (",m,")"]})}),R()]}),f("div",{style:M.displayBoard,children:[l("div",{style:M.header,children:f("p",{style:M.headerText,children:[l(Hd,{style:{cursor:"pointer"},onClick:E}),"/",P.pathname.split("/").pop()]})}),l(qf,{})]}),f("button",{onClick:w,style:M.logoutButton,children:[l(kp,{})," Logout"]})]})}const Bu=[{id:1,title:"PRESCRIBE.NG",subtitle:"Highly versitile and adaptable medical referral system for al kinds of medical referrals",image:"/images/welcome.jpg"},{id:2,title:"Cutting-Edge Medical Referrals",subtitle:"Connecting Physicians and Patients Effortlessly",image:"/images/referral.jpg"},{id:3,title:"Partner with Us",subtitle:"Innovative Healthcare Solutions for Every Community",image:"/images/partner.jpg"},{id:4,title:"Join the Future of Healthcare referrals in the UK",subtitle:"Highly-adaptable. Hassle-free. Minimal clicks. Seamless. Highly secure.",image:"/images/future.jpg"}],Tp=()=>{const[p,m]=N.useState(0);N.useEffect(()=>{const w=setInterval(()=>{m(E=>(E+1)%Bu.length)},8e3);return()=>clearInterval(w)},[]);const h={position:"relative",width:"100%",height:"80vh",overflow:"hidden"},y=(w,E)=>({position:"absolute",width:"100%",height:"100%",backgroundSize:"cover",backgroundPosition:"center",backgroundImage:`url(${w})`,backgroundColor:"white",opacity:E?1:0,transform:E?"translateX(0)":"translateX(100%)",transition:"all 1s ease-in-out"}),_={position:"absolute",bottom:"20%",left:"10%",color:"white",textShadow:"2px 2px 8px rgba(0, 0, 0, 0.5)"},k={fontSize:"3rem",margin:0},b={fontSize:"1.5rem",marginTop:"10px"},S={position:"absolute",bottom:"10px",left:"50%",transform:"translateX(-50%)",display:"flex"},P=w=>({width:"12px",height:"12px",borderRadius:"50%",backgroundColor:"white",margin:"0 5px",cursor:"pointer",opacity:w?1:.5,transition:"opacity 0.3s ease"});return f("div",{style:h,children:[Bu.map((w,E)=>l("div",{style:y(w.image,E===p),children:f("div",{style:_,children:[l("h1",{style:k,children:w.title}),l("p",{style:b,children:w.subtitle})]})},w.id)),l("div",{style:S,children:Bu.map((w,E)=>l("span",{style:P(E===p),onClick:()=>m(E)},E))})]})};var es={exports:{}},Ep=es.exports,$d;function Lp(){return $d||($d=1,function(p,m){(function(y,_){p.exports=_(rs())})(Ep,function(h){return function(y){var _={};function k(b){if(_[b])return _[b].exports;var S=_[b]={i:b,l:!1,exports:{}};return y[b].call(S.exports,S,S.exports,k),S.l=!0,S.exports}return k.m=y,k.c=_,k.d=function(b,S,P){k.o(b,S)||Object.defineProperty(b,S,{enumerable:!0,get:P})},k.r=function(b){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(b,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(b,"__esModule",{value:!0})},k.t=function(b,S){if(S&1&&(b=k(b)),S&8||S&4&&typeof b=="object"&&b&&b.__esModule)return b;var P=Object.create(null);if(k.r(P),Object.defineProperty(P,"default",{enumerable:!0,value:b}),S&2&&typeof b!="string")for(var w in b)k.d(P,w,(function(E){return b[E]}).bind(null,w));return P},k.n=function(b){var S=b&&b.__esModule?function(){return b.default}:function(){return b};return k.d(S,"a",S),S},k.o=function(b,S){return Object.prototype.hasOwnProperty.call(b,S)},k.p="",k(k.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(y,_,k){k.r(_);var b=k("react"),S=function(){var G=function(ne,M){return G=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,Z){I.__proto__=Z}||function(I,Z){for(var j in Z)Z.hasOwnProperty(j)&&(I[j]=Z[j])},G(ne,M)};return function(ne,M){G(ne,M);function I(){this.constructor=ne}ne.prototype=M===null?Object.create(M):(I.prototype=M.prototype,new I)}}(),P=function(){return P=Object.assign||function(G){for(var ne,M=1,I=arguments.length;M<I;M++){ne=arguments[M];for(var Z in ne)Object.prototype.hasOwnProperty.call(ne,Z)&&(G[Z]=ne[Z])}return G},P.apply(this,arguments)},w=function(G,ne){var M={};for(var I in G)Object.prototype.hasOwnProperty.call(G,I)&&ne.indexOf(I)<0&&(M[I]=G[I]);if(G!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Z=0,I=Object.getOwnPropertySymbols(G);Z<I.length;Z++)ne.indexOf(I[Z])<0&&Object.prototype.propertyIsEnumerable.call(G,I[Z])&&(M[I[Z]]=G[I[Z]]);return M};(function(){typeof window>"u"||(navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(ne){var M=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return M?new Promise(function(I,Z){M.call(navigator,ne,I,Z)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}))})();function E(){return!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)}var R=function(G){S(ne,G);function ne(M){var I=G.call(this,M)||this;return I.canvas=null,I.ctx=null,I.requestUserMediaId=0,I.unmounted=!1,I.state={hasUserMedia:!1},I}return ne.prototype.componentDidMount=function(){var M=this,I=M.state,Z=M.props;if(this.unmounted=!1,!E()){Z.onUserMediaError("getUserMedia not supported");return}I.hasUserMedia||this.requestUserMedia(),Z.children&&typeof Z.children!="function"&&console.warn("children must be a function")},ne.prototype.componentDidUpdate=function(M){var I=this.props;if(!E()){I.onUserMediaError("getUserMedia not supported");return}var Z=JSON.stringify(M.audioConstraints)!==JSON.stringify(I.audioConstraints),j=JSON.stringify(M.videoConstraints)!==JSON.stringify(I.videoConstraints),ie=M.minScreenshotWidth!==I.minScreenshotWidth,K=M.minScreenshotHeight!==I.minScreenshotHeight;(j||ie||K)&&(this.canvas=null,this.ctx=null),(Z||j)&&(this.stopAndCleanup(),this.requestUserMedia())},ne.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},ne.stopMediaStream=function(M){M&&(M.getVideoTracks&&M.getAudioTracks?(M.getVideoTracks().map(function(I){M.removeTrack(I),I.stop()}),M.getAudioTracks().map(function(I){M.removeTrack(I),I.stop()})):M.stop())},ne.prototype.stopAndCleanup=function(){var M=this.state;M.hasUserMedia&&(ne.stopMediaStream(this.stream),M.src&&window.URL.revokeObjectURL(M.src))},ne.prototype.getScreenshot=function(M){var I=this,Z=I.state,j=I.props;if(!Z.hasUserMedia)return null;var ie=this.getCanvas(M);return ie&&ie.toDataURL(j.screenshotFormat,j.screenshotQuality)},ne.prototype.getCanvas=function(M){var I=this,Z=I.state,j=I.props;if(!this.video||!Z.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var ie=this.video.videoWidth,K=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var de=ie/K;ie=j.minScreenshotWidth||this.video.clientWidth,K=ie/de,j.minScreenshotHeight&&K<j.minScreenshotHeight&&(K=j.minScreenshotHeight,ie=K*de)}this.canvas=document.createElement("canvas"),this.canvas.width=(M==null?void 0:M.width)||ie,this.canvas.height=(M==null?void 0:M.height)||K,this.ctx=this.canvas.getContext("2d")}var Se=this,Re=Se.ctx,Me=Se.canvas;return Re&&Me&&(Me.width=(M==null?void 0:M.width)||Me.width,Me.height=(M==null?void 0:M.height)||Me.height,j.mirrored&&(Re.translate(Me.width,0),Re.scale(-1,1)),Re.imageSmoothingEnabled=j.imageSmoothing,Re.drawImage(this.video,0,0,(M==null?void 0:M.width)||Me.width,(M==null?void 0:M.height)||Me.height),j.mirrored&&(Re.scale(-1,1),Re.translate(-Me.width,0))),Me},ne.prototype.requestUserMedia=function(){var M=this,I=this.props,Z=function(K,de){var Se={video:typeof de<"u"?de:!0};I.audio&&(Se.audio=typeof K<"u"?K:!0),M.requestUserMediaId++;var Re=M.requestUserMediaId;navigator.mediaDevices.getUserMedia(Se).then(function(Me){M.unmounted||Re!==M.requestUserMediaId?ne.stopMediaStream(Me):M.handleUserMedia(null,Me)}).catch(function(Me){M.handleUserMedia(Me)})};if("mediaDevices"in navigator)Z(I.audioConstraints,I.videoConstraints);else{var j=function(K){return{optional:[{sourceId:K}]}},ie=function(K){var de=K.deviceId;return typeof de=="string"?de:Array.isArray(de)&&de.length>0?de[0]:typeof de=="object"&&de.ideal?de.ideal:null};MediaStreamTrack.getSources(function(K){var de=null,Se=null;K.forEach(function(J){J.kind==="audio"?de=J.id:J.kind==="video"&&(Se=J.id)});var Re=ie(I.audioConstraints);Re&&(de=Re);var Me=ie(I.videoConstraints);Me&&(Se=Me),Z(j(de),j(Se))})}},ne.prototype.handleUserMedia=function(M,I){var Z=this.props;if(M||!I){this.setState({hasUserMedia:!1}),Z.onUserMediaError(M);return}this.stream=I;try{this.video&&(this.video.srcObject=I),this.setState({hasUserMedia:!0})}catch{this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(I)})}Z.onUserMedia(I)},ne.prototype.render=function(){var M=this,I=this,Z=I.state,j=I.props,ie=j.audio;j.forceScreenshotSourceSize;var K=j.disablePictureInPicture;j.onUserMedia,j.onUserMediaError,j.screenshotFormat,j.screenshotQuality,j.minScreenshotWidth,j.minScreenshotHeight,j.audioConstraints,j.videoConstraints,j.imageSmoothing;var de=j.mirrored,Se=j.style,Re=Se===void 0?{}:Se,Me=j.children,J=w(j,["audio","forceScreenshotSourceSize","disablePictureInPicture","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),Q=de?P(P({},Re),{transform:(Re.transform||"")+" scaleX(-1)"}):Re,Fe={getScreenshot:this.getScreenshot.bind(this)};return b.createElement(b.Fragment,null,b.createElement("video",P({autoPlay:!0,disablePictureInPicture:K,src:Z.src,muted:!ie,playsInline:!0,ref:function(B){M.video=B},style:Q},J)),Me&&Me(Fe))},ne.defaultProps={audio:!1,disablePictureInPicture:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},ne}(b.Component);_.default=R},react:function(y,_){y.exports=h}}).default})}(es)),es.exports}var Op=Lp();const Na=ju(Op);function Np(){const{state:p}=N.useContext(bn),{spineUrl:m,token:h,accessLevel:y,allStates:_,department:k,referenceLibrary:b}=p,[S,P]=N.useState([]),[w,E]=N.useState("home"),[R,G]=N.useState("view-mode"),[ne,M]=N.useState({}),[I,Z]=N.useState([]),[j,ie]=N.useState({}),[K,de]=N.useState(""),[Se,Re]=N.useState(""),[Me,J]=N.useState(""),[Q,Fe]=N.useState(""),[B,Be]=N.useState("");kn();const[ye,re]=N.useState(!1),[ae,X]=N.useState(!1),[Oe,C]=N.useState(!1),[ee,W]=N.useState("table"),[T,Y]=N.useState({}),[Ee,Te]=N.useState([]);N.useEffect(()=>{(async()=>{re(!0);try{const be=await fetch(`${m}/organisations/fetch_dispensaries?state=${encodeURIComponent(Q)}&locality=${encodeURIComponent(B)}&category=${encodeURIComponent(Se)}&approvalStatus=${encodeURIComponent(Me)}&q=${encodeURIComponent(K)}`,{method:"GET",headers:{Authorization:`Bearer ${h}`,"Content-Type":"application/json"}});if(be.ok){const D=await be.json();Z(D.dispensaries)}else{const D=await be.json();alert(D.message)}}catch(be){console.error("Error fetching dispensaries:",be),alert("could not fetch dispensaries")}finally{re(!1)}})()},[m,Q,B,Se,Me,K,ae]),N.useEffect(()=>{(async()=>{re(!0);try{const be=await fetch(`${m}/organisations/fetch_approved_localities?state=${encodeURIComponent(Q)}`,{method:"GET",headers:{Authorization:`Bearer ${h}`,"Content-Type":"application/json"}});if(be.ok){const D=await be.json();P(D.localities),X(te=>!te)}else{const D=await be.json();alert(D.message)}}catch(be){console.error("Error fetching approved localities:",be),alert("could not fetch approved localities")}finally{re(!1)}})()},[m,Q]);const ke=ue=>{ie(ue),E("organisationDashboard")},we=async()=>{if(!confirm("By this action, you're assuming responsibility of changes being made. Do you want to go ahead?")){alert("Action cancelled!");return}try{const be=await fetch(`${m}/organisations/update_bank_details`,{method:"POST",headers:{Authorization:`Bearer ${h}`,"Content-Type":"application/json"},body:JSON.stringify(j)});if(be.ok){const D=await be.json();alert(D.message)}else{const D=await be.json();alert(D.message)}}catch(be){console.error("Submission error:",be),alert("An error occurred creating new service")}},fe=async ue=>{if(!confirm("By this action, you're assuming responsibility of changes being made. Do you want to go ahead?")){alert("Action cancelled!");return}try{const D=await fetch(`${m}/organisations/modify_dispensary`,{method:"POST",headers:{Authorization:`Bearer ${h}`,"Content-Type":"application/json"},body:JSON.stringify({dispensaryID:j.dispensaryID,action:ue})});if(D.ok){const te=await D.json();alert(te.message)}else{const te=await D.json();alert(te.message)}}catch(D){console.error("Submission error:",D),alert("An error occurred creating new service")}},$e=async()=>{if(!confirm("By this action, you're assuming responsibility of changes being made. Ensure organisation has sent a request through their official email and copied at least one of the key persons, who should have also responded. Organisation's whitelisted IP addresses will be deleted and a new IP address set for the main branch. Do you want to go ahead?")){alert("Action cancelled!");return}const be=prompt("Provide new IPv4 address");if(!be){alert("No IPv4 Uploaded!");return}try{const D=await fetch(`${m}/organisations/reset_network`,{method:"POST",headers:{Authorization:`Bearer ${h}`,"Content-Type":"application/json"},body:JSON.stringify({dispensaryID:j.dispensaryID,newIP:be})});if(D.ok){const te=await D.json();alert(te.message)}else{const te=await D.json();alert(te.message)}}catch(D){console.error("Submission error:",D),alert("An error occurred creating new service")}};N.useRef(null);const pe=ue=>new Promise((be,D)=>{const te=new FileReader;te.onloadend=()=>be(te.result.split(",")[1]),te.onerror=D,te.readAsDataURL(ue)}),Ce=async()=>{if(!confirm("Confirm Image Upload")){alert("New Patient creation cancelled!"),ie({...j,newLogo:null});return}const be=j.newLogo;if(be){const D=new FileReader;D.onloadend=async()=>{const te=D.result.split(",")[1];try{const ce=await fetch(`${m}/organisations/logo_upload`,{method:"POST",headers:{Authorization:`Bearer ${h}`,"Content-Type":"application/json"},body:JSON.stringify({dispensaryID:j.dispensaryID,newLogo:te})});if(ce.ok){const _e=await ce.json();_e.newLogoUrl&&ie({...j,logoUrl:_e.newLogoUrl}),E("organisationDashboard"),ie({...j,newLogo:null})}else{const _e=await ce.json();alert(_e.message)}}catch(ce){console.error("Submission error:",ce),alert("An error occurred while uploading the new logo")}},D.readAsDataURL(be)}else alert("No image selected!")},We=ue=>{const{name:be,type:D,files:te}=ue.target;if(D==="file"){const ce=Array.from(te);Te(_e=>({..._e,[be]:[..._e[be]||[],...ce]}))}},it=ue=>{Te(be=>{const D=[...be.uploads];return D.splice(ue,1),{uploads:D}})},ve=async()=>{if(confirm("Confirm submission")){const be=await Promise.all(Ee.uploads.map(async D=>{const te=await pe(D);return{name:D.name,content:te}}));try{const D=await fetch(`${m}/organisations/file_upload`,{method:"POST",headers:{Authorization:`Bearer ${h}`,"Content-Type":"application/json"},body:JSON.stringify({dispensaryID:j.dispensaryID,registrationNumber:j.registrationNumber,uploads:be})});if(D.ok){const te=await D.json();ie({...j,documents:te.documents}),W("table")}else{const te=await D.json();alert(te.message)}}catch(D){console.error("File upload error:",D),alert("An error occurred uploading files")}}else alert("File upload cancelled!")},Vt=async()=>{if(!T.validity){alert("Document validity missing!");return}confirm("Ensure due diligence has been done on file before modifying file verification status.")||alert("File verification cancelled!");try{const be=await fetch(`${m}/organisations/file_verification`,{method:"POST",headers:{Authorization:`Bearer ${h}`,"Content-Type":"application/json"},body:JSON.stringify({dispensaryID:j.dispensaryID,registrationNumber:j.registrationNumber,fileKey:T.fileKey,validity:T.validity,verification:"verified"})});if(be.ok){const D=await be.json();ie({...j,documents:D.documents}),W("table"),C(!1)}else{const D=await be.json();alert(D.message)}}catch(be){console.error("File verification error:",be),alert("An error occurred uploading files")}},ge=async()=>{if(!T.validity){alert("Document validity missing!");return}confirm("Ensure due diligence has been done on file before modifying file verification status.")||alert("File verification cancelled!");try{const be=await fetch(`${m}/organisations/file_verification`,{method:"POST",headers:{Authorization:`Bearer ${h}`,"Content-Type":"application/json"},body:JSON.stringify({dispensaryID:j.dispensaryID,registrationNumber:j.registrationNumber,fileKey:T.fileKey,validity:T.validity,verification:"unverified"})});if(be.ok){const D=await be.json();ie({...j,documents:D.documents}),W("table"),C(!1)}else{const D=await be.json();alert(D.message)}}catch(be){console.error("File verification error:",be),alert("An error occurred uploading files")}},q={container:{width:"90%",height:"65vh",margin:"0 auto",padding:"20px",backgroundColor:"#ffffff",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",overflowY:"auto"},profileContainer:{width:"90%",height:"60vh",textAlign:"left",margin:"0 auto",padding:"20px",backgroundColor:"#ffffff",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)"},input:{width:"100%",padding:"10px",marginBottom:"15px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"1em",backgroundColor:"white",color:"black"},TCBody:{height:"60vh",width:"100%",overflowY:"auto",margin:"20px",textAlign:"left"},button:{padding:"10px",backgroundColor:"#007BFF",color:"#FFF",border:"none",cursor:"pointer",margin:"5px"},TCButton:{padding:"10px 20px",backgroundColor:"#007bff",color:"white",cursor:"pointer",borderRadius:"4px",textAlign:"center"},specialOptions:{display:y<=3?"inline-block":"none"},image:{height:"100%",width:"100%",objectFit:"cover"},photoContainer:{position:"sticky",top:"10px",left:"80px",backgroundColor:"#fff",height:"300px",width:"300px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"10px",border:"1px solid #ddd",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)",overflow:"hidden",marginRight:"20px"},photoContainer2:{position:"sticky",top:"10px",left:"80px",backgroundColor:"#fff",height:"300px",width:"300px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"10px",border:"1px solid #ddd",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)",overflow:"hidden"},placeholderText:{color:"#666",fontSize:"16px",fontStyle:"italic",textAlign:"center"},tableContainer:{height:"79vh",backgroundColor:"white",width:"100%"},table:{width:"95%",borderCollapse:"collapse",marginTop:"20px"},thead:{backgroundColor:"grey",position:"sticky",top:"0px",zIndex:2e3},serviceTypeSelector:{backgroundColor:"#2c3e50",color:"white",right:"20px",width:"25%",height:"25px",top:"120px"},searchContainer:{backgroundColor:"grey",alignItems:"left",justifyContent:"left"},searchField:{backgroundColor:"white",color:"black",right:"20px",width:"25%",height:"25px",top:"120px"},topCloseButton:{height:"30px",width:"100px",backgroundColor:"red",cursor:"pointer"},docVerificationOverlay:{display:Oe?"block":"none",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:2e3,pointerEvents:"auto",width:"40%",height:"40%",backgroundColor:"grey",textAlign:"center"},uploadfield:{padding:"20px",border:"1px solid #ccc",borderRadius:"8px"},uploadInput:{marginBottom:"10px"},uploadedFiles:{marginTop:"10px",listStyleType:"none",padding:"0",minHeight:"4vh"},uploadItem:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},removeFileButton:{color:"red",cursor:"pointer"}},De=ue=>({backgroundColor:ue%2===0?"#f9f9f9":"#e0e0e0",cursor:"pointer"});return f("div",{style:{cursor:ye?"progress":"default"},children:[w==="home"&&f("div",{children:[l("h2",{children:"PRESCRIBENG SERVICES SECTION"}),f("div",{style:q.TCBody,children:[l("h3",{children:"WARNING"}),l("p",{children:"This page is strictly for personnels of the medical department and includes the following roles: doctor, nurse, pharmacies, radiographers, laboratory scientist"}),l("p",{children:"If you do not belong to the medical department and one of the mentioned roles, exit the page immediately and report to the technical team."})]}),l("span",{style:q.TCButton,onClick:()=>E("tableHome"),children:"View Organisations"})]}),w==="tableHome"&&l("div",{children:l("div",{style:q.container,children:f("div",{style:q.tableContainer,children:[f("div",{style:q.searchContainer,children:[f("select",{style:q.serviceTypeSelector,value:Se,onChange:ue=>Re(ue.target.value),children:[l("option",{value:"",children:"Select Organisation Category"}),l("option",{value:"ambulance",children:"Ambulance Company"}),l("option",{value:"clinic",children:"Clinic"}),l("option",{value:"hospital",children:"Hospital"}),l("option",{value:"pharmacy",children:"Pharmacy"}),l("option",{value:"sponsor",children:"Sponsor Organisation"}),l("option",{style:q.specialOptions,value:"authority",children:"Authority"})]}),f("select",{style:q.serviceTypeSelector,value:Me,onChange:ue=>J(ue.target.value),children:[l("option",{value:"",children:"Select Status"}),l("option",{value:"approved",children:"Approved Partners"}),l("option",{value:"unapproved",children:"New Partners"}),l("option",{value:"suspended",children:"Suspended"}),l("option",{value:"reported",children:"Under Investigation"}),l("option",{value:"banned",children:"Banned"})]}),f("select",{style:q.serviceTypeSelector,value:Q,onChange:ue=>Fe(ue.target.value),children:[l("option",{value:"",children:"Select State"}),_.map(ue=>l("option",{children:ue},ue))]}),f("select",{style:q.serviceTypeSelector,value:B,onChange:ue=>Be(ue.target.value),children:[l("option",{value:"",children:"Select Locality"}),S.map(ue=>l("option",{children:ue},ue))]}),l("input",{style:q.searchField,value:K,onChange:ue=>de(ue.target.value),placeholder:"Search here for services"}),l("span",{onClick:()=>E("home"),style:{position:"relative",top:"0px",right:"0px",textAlign:"right"},children:"Close"})]}),f("table",{style:{width:"100%"},children:[l("thead",{style:q.thead,children:f("tr",{children:[l("th",{children:"S/N"}),l("th",{children:"Organisation"}),l("th",{children:"Category"}),l("th",{children:"Dispensary ID"}),l("th",{children:"State"}),l("th",{children:"Locality"}),l("th",{children:"Email"}),l("th",{children:"Status"})]})}),l("tbody",{children:I.map((ue,be)=>f("tr",{style:De(be),onClick:()=>ke(ue),children:[l("td",{children:be+1}),l("td",{children:ue.organisation}),l("td",{children:ue.category}),l("td",{children:ue.dispensaryID}),l("td",{children:ue.state}),l("td",{children:ue.locality}),l("td",{children:ue.organisationEmail}),l("td",{children:ue.approvalStatus})]},ue))})]})]})})}),w==="organisationDashboard"&&l("div",{children:f("div",{style:q.profileContainer,children:[l("h3",{children:j.organisation.toUpperCase()}),f("div",{style:{display:"flex",flexDirection:"row",height:"80%"},children:[f("div",{children:[l("div",{style:q.photoContainer,children:j.logoUrl?l("img",{src:j.logoUrl,style:q.image,alt:"User's photo"}):l("div",{style:q.placeholderText,children:"Photo Not Found"})}),l("span",{style:{textDecoration:"underline",cursor:"pointer"},onClick:()=>E("Logo Upload"),children:"Upload Logo"})]}),f("div",{style:{width:"35%",height:"100%",overflowY:"auto"},children:[f("p",{children:[l("strong",{children:"Category: "}),j.category]}),f("p",{children:[l("strong",{children:"Organisation Email: "}),j.organisationEmail]}),f("p",{children:[l("strong",{children:"Telephone: "}),j.telephone]}),f("p",{children:[l("strong",{children:"Status: "}),j.approvalStatus]}),f("p",{children:[l("strong",{children:"Added On: "}),j.createdOn]}),f("p",{children:[l("strong",{children:"Added By: "}),j.createdBy]}),f("p",{style:{display:j.approvalStatus==="approved"?"inline-block":"none"},children:[l("strong",{children:"Approved By: "}),j.approvedBy]}),l("br",{})]}),f("div",{style:{height:"100%",display:"flex",flexDirection:"column",width:"35%",overflowY:"auto",marginLeft:"30px"},children:[l("h3",{children:"Key Persons"}),j.keyPersons.map((ue,be)=>f("div",{style:{lineHeight:"0.5",borderRadius:"10px",backgroundColor:"#F9F9F9",display:"inline-block",marginBottom:"10px"},children:[l("p",{children:ue.name}),f("p",{children:["Role: ",ue.role]}),f("p",{children:["Email: ",ue.email]})]},be))]})]}),l("button",{style:{...q.button,display:y===1||k==="marketing"&&y<=4?"inline-block":"none"},onClick:()=>fe("approved"),children:"Approve"}),l("button",{style:{...q.button,display:y===1||k==="marketing"&&y<=4?"inline-block":"none"},onClick:()=>fe("suspended"),children:"Suspend"}),l("button",{style:{...q.button,display:y===1||k==="marketing"&&y<=4?"inline-block":"none"},onClick:()=>fe("reported"),children:"Report"}),l("button",{style:{...q.button,display:y===1||k==="marketing"&&y<=4?"inline-block":"none"},onClick:()=>fe("banned"),children:"Ban"}),l("button",{style:{...q.button,display:y===1||k==="IT"&&y<=4?"inline-block":"none"},onClick:$e,children:"Reset Network"}),l("button",{style:{...q.button,display:y===1||k==="marketing"&&y<=4?"inline-block":"none"},onClick:()=>E("Bank Details"),children:"Bank Details"}),l("button",{style:{...q.button},onClick:()=>E("Documents"),children:"Documents"}),l("button",{style:{...q.button},onClick:()=>{E("tableHome"),X(ue=>!ue)},children:"Back"})]})}),w==="Bank Details"&&f("div",{children:[" ",f("div",{style:q.profileContainer,children:[l("h3",{children:j.organisation.toUpperCase()}),"Bank Details Will be managed here",f("div",{style:{display:"flex",flexDirection:"row",height:"80%"},children:[l("div",{children:l("div",{style:q.photoContainer,children:j.logoUrl?l("img",{src:j.logoUrl,style:q.image,alt:"User's photo"}):l("div",{style:q.placeholderText,children:"Photo Not Found"})})}),f("div",{style:{width:"65%",height:"100%",overflowY:"auto"},children:[R==="view-mode"&&f("div",{children:[f("p",{children:[l("strong",{children:"Bank: "}),j.bank]}),f("p",{children:[l("strong",{children:"Bank Code: "}),j.bankCode]}),f("p",{children:[l("strong",{children:"Nuban: "}),j.nuban]}),f("p",{children:[l("strong",{children:"Sort Code: "}),j.sortCode]}),l("span",{style:q.TCButton,onClick:()=>G("edit-mode"),children:"Edit"})]}),R==="edit-mode"&&f("div",{children:[f("p",{children:[l("strong",{children:"Bank: "}),l("input",{style:{backgroundColor:"white",color:"black"},value:j.bank,onChange:ue=>ie({...j,bank:ue.target.value})})]}),f("p",{children:[l("strong",{children:"Bank Code: "}),l("input",{style:{backgroundColor:"white",color:"black"},value:j.bankCode,onChange:ue=>ie({...j,bankCode:ue.target.value})})]}),f("p",{children:[l("strong",{children:"Nuban: "}),l("input",{style:{backgroundColor:"white",color:"black"},value:j.nuban,onChange:ue=>ie({...j,nuban:ue.target.value})})]}),f("p",{children:[l("strong",{children:"Sort Code: "}),l("input",{style:{backgroundColor:"white",color:"black"},value:j.sortCode,onChange:ue=>ie({...j,sortCode:ue.target.value})})]}),l("span",{style:q.TCButton,onClick:we,children:"Update Bank Details"})]})]})]})]}),l("span",{style:q.TCButton,onClick:()=>{E("organisationDashboard"),G("view-mode")},children:"Back"})]}),w==="logo upload"&&f("div",{children:[" ",l("div",{style:q.profileContainer,children:"Logo Will be upload through this page"}),l("span",{style:q.TCButton,onClick:()=>E("organisationDashboard"),children:"Back"})]}),w==="Logo Upload"&&l("div",{style:{width:"100%"},children:l("div",{style:q.profileContainer,children:f("div",{style:{display:"flex",flexDirection:"row"},children:[f("div",{style:{...q.section,marginRight:"20px"},children:[f("h3",{children:["Logo Preview for ",j.organisation]}),l("div",{style:q.photoContainer2,children:j.newLogo?l("img",{src:j.newLogo,alt:"Captured",width:400}):l("div",{style:q.placeholderText,children:"No Logo Uploaded"})}),l("div",{children:l("input",{type:"file",onChange:ue=>ie({...j,newLogo:ue.target.files[0]})})}),l("button",{style:q.button,onClick:Ce,children:"Upload"}),l("button",{style:q.button,onClick:()=>{E("organisationDashboard"),ie({...j,newLogo:null})},children:"Back"})]}),l("div",{style:{...q.section},children:l("p",{children:"Write up and warnings about Logo Upload"})})]})})}),w==="Documents"&&l("div",{style:{width:"100%"},children:f("div",{style:q.profileContainer,children:[ee==="table"&&f("div",{style:{...q.section,width:"100%"},children:[l("div",{style:{height:"40%",width:"100%"},children:f("table",{style:q.table,children:[l("thead",{style:q.thead,children:f("tr",{children:[l("th",{children:"Document"}),l("th",{children:"Validity"}),l("th",{children:"Verification"}),l("th",{children:"Action"})]})}),l("tbody",{children:j.documents&&j.documents.length>0?j.documents.map((ue,be)=>f("tr",{children:[l("td",{children:ue.fileName}),l("td",{children:ue.validity||"not set"}),l("td",{children:ue.verification||"unverified"}),l("td",{children:l("button",{onClick:()=>{W("iframe"),Y(ue)},children:"View"})})]},be)):l("tr",{colSpan:"4",style:{textAlign:"right"},children:"No documents uploaded"})})]})}),l("button",{onClick:()=>{E("organisationDashboard")},children:"Close"}),l("button",{onClick:()=>{W("upload")},children:"Upload Document"})]}),ee==="iframe"&&l("div",{style:{...q.section,width:"100%",position:"relative",zIndex:1e3,pointerEvents:Oe?"none":"auto"},children:f("div",{children:[l("span",{style:q.topCloseButton,onClick:()=>{W("table"),T({}),C(!1)},children:"Close"}),l("iframe",{style:{height:"60vh",width:"100%"},src:T.fileUrl}),f("div",{style:q.docVerificationOverlay,children:[f("div",{children:[l("h3",{children:"When does this document expire?"}),l("input",{style:q.input,type:"date",value:T.validity||"",onChange:ue=>Y({...T,validity:ue.target.value})}),l("button",{style:{...q.button,display:T.verification==="unverified"?"inline-block":"none"},onClick:Vt,children:"Verify"}),l("button",{style:{...q.button,display:T.verification==="verified"?"inline-block":"none"},onClick:ge,children:"De-Verify"})]}),l("span",{style:q.topCloseButton,onClick:()=>C(!1),children:"Close"})]}),l("button",{style:{...q.button,display:T.verification==="verified"?"none":"inline-block"},onClick:()=>C(!0),children:"Verify"}),l("button",{style:{...q.button,display:T.verification==="verified"&&y<=3?"inline-block":"none"},onClick:()=>C(!0),children:"De-Verify"})]})}),ee==="upload"&&f("div",{style:{...q.section,width:"100%"},children:[f("div",{style:q.uploadfield,children:[f("div",{style:q.uploadInput,children:[l("label",{children:"Upload File"}),l("input",{name:"uploads",type:"file",onChange:We,multiple:!0})]}),l("div",{style:q.uploadedFiles,children:Ee.uploads&&Ee.uploads.length>0?Ee.uploads.map((ue,be)=>f("div",{style:q.uploadItem,children:[f("span",{children:[be+1,". ",ue.name]}),l("span",{style:q.removeFileButton,onClick:()=>it(be),children:"X"})]},be)):l("p",{children:"No files uploaded yet."})})]}),l("button",{onClick:()=>{W("table"),Te([])},children:"Back"}),l("button",{style:{display:Ee.uploads?"inline-block":"none"},onClick:ve,children:"Upload"})]})]})})]})}function uh(p,m){const h=N.useRef(m);N.useEffect(function(){m!==h.current&&p.attributionControl!=null&&(h.current!=null&&p.attributionControl.removeAttribution(h.current),m!=null&&p.attributionControl.addAttribution(m)),h.current=m},[p,m])}const Mp=1;function zp(p){return Object.freeze({__version:Mp,map:p})}function Ip(p,m){return Object.freeze({...p,...m})}const ch=N.createContext(null),dh=ch.Provider;function hh(){const p=N.useContext(ch);if(p==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return p}function Ap(p){function m(h,y){const{instance:_,context:k}=p(h).current;return N.useImperativeHandle(y,()=>_),h.children==null?null:l(dh,{value:k,children:h.children})}return N.forwardRef(m)}function Bp(p){function m(h,y){const[_,k]=N.useState(!1),{instance:b}=p(h,k).current;N.useImperativeHandle(y,()=>b),N.useEffect(function(){_&&b.update()},[b,_,h.children]);const S=b._contentNode;return S?of.createPortal(h.children,S):null}return N.forwardRef(m)}function Rp(p){function m(h,y){const{instance:_}=p(h).current;return N.useImperativeHandle(y,()=>_),null}return N.forwardRef(m)}function fh(p,m){const h=N.useRef();N.useEffect(function(){return m!=null&&p.instance.on(m),h.current=m,function(){h.current!=null&&p.instance.off(h.current),h.current=null}},[p,m])}function Hu(p,m){const h=p.pane??m.pane;return h?{...p,pane:h}:p}function Dp(p,m){return function(y,_){const k=hh(),b=p(Hu(y,k),k);return uh(k.map,y.attribution),fh(b.current,y.eventHandlers),m(b.current,k,y,_),b}}var Pa={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var Fp=Pa.exports,Gd;function jp(){return Gd||(Gd=1,function(p,m){(function(h,y){y(m)})(Fp,function(h){var y="1.9.4";function _(t){var i,o,s,d;for(o=1,s=arguments.length;o<s;o++){d=arguments[o];for(i in d)t[i]=d[i]}return t}var k=Object.create||function(){function t(){}return function(i){return t.prototype=i,new t}}();function b(t,i){var o=Array.prototype.slice;if(t.bind)return t.bind.apply(t,o.call(arguments,1));var s=o.call(arguments,2);return function(){return t.apply(i,s.length?s.concat(o.call(arguments)):arguments)}}var S=0;function P(t){return"_leaflet_id"in t||(t._leaflet_id=++S),t._leaflet_id}function w(t,i,o){var s,d,v,O;return O=function(){s=!1,d&&(v.apply(o,d),d=!1)},v=function(){s?d=arguments:(t.apply(o,arguments),setTimeout(O,i),s=!0)},v}function E(t,i,o){var s=i[1],d=i[0],v=s-d;return t===s&&o?t:((t-d)%v+v)%v+d}function R(){return!1}function G(t,i){if(i===!1)return t;var o=Math.pow(10,i===void 0?6:i);return Math.round(t*o)/o}function ne(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function M(t){return ne(t).split(/\s+/)}function I(t,i){Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?k(t.options):{});for(var o in i)t.options[o]=i[o];return t.options}function Z(t,i,o){var s=[];for(var d in t)s.push(encodeURIComponent(o?d.toUpperCase():d)+"="+encodeURIComponent(t[d]));return(!i||i.indexOf("?")===-1?"?":"&")+s.join("&")}var j=/\{ *([\w_ -]+) *\}/g;function ie(t,i){return t.replace(j,function(o,s){var d=i[s];if(d===void 0)throw new Error("No value provided for variable "+o);return typeof d=="function"&&(d=d(i)),d})}var K=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function de(t,i){for(var o=0;o<t.length;o++)if(t[o]===i)return o;return-1}var Se="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Re(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var Me=0;function J(t){var i=+new Date,o=Math.max(0,16-(i-Me));return Me=i+o,window.setTimeout(t,o)}var Q=window.requestAnimationFrame||Re("RequestAnimationFrame")||J,Fe=window.cancelAnimationFrame||Re("CancelAnimationFrame")||Re("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function B(t,i,o){if(o&&Q===J)t.call(i);else return Q.call(window,b(t,i))}function Be(t){t&&Fe.call(window,t)}var ye={__proto__:null,extend:_,create:k,bind:b,get lastId(){return S},stamp:P,throttle:w,wrapNum:E,falseFn:R,formatNum:G,trim:ne,splitWords:M,setOptions:I,getParamString:Z,template:ie,isArray:K,indexOf:de,emptyImageUrl:Se,requestFn:Q,cancelFn:Fe,requestAnimFrame:B,cancelAnimFrame:Be};function re(){}re.extend=function(t){var i=function(){I(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},o=i.__super__=this.prototype,s=k(o);s.constructor=i,i.prototype=s;for(var d in this)Object.prototype.hasOwnProperty.call(this,d)&&d!=="prototype"&&d!=="__super__"&&(i[d]=this[d]);return t.statics&&_(i,t.statics),t.includes&&(ae(t.includes),_.apply(null,[s].concat(t.includes))),_(s,t),delete s.statics,delete s.includes,s.options&&(s.options=o.options?k(o.options):{},_(s.options,t.options)),s._initHooks=[],s.callInitHooks=function(){if(!this._initHooksCalled){o.callInitHooks&&o.callInitHooks.call(this),this._initHooksCalled=!0;for(var v=0,O=s._initHooks.length;v<O;v++)s._initHooks[v].call(this)}},i},re.include=function(t){var i=this.prototype.options;return _(this.prototype,t),t.options&&(this.prototype.options=i,this.mergeOptions(t.options)),this},re.mergeOptions=function(t){return _(this.prototype.options,t),this},re.addInitHook=function(t){var i=Array.prototype.slice.call(arguments,1),o=typeof t=="function"?t:function(){this[t].apply(this,i)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(o),this};function ae(t){if(!(typeof L>"u"||!L||!L.Mixin)){t=K(t)?t:[t];for(var i=0;i<t.length;i++)t[i]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var X={on:function(t,i,o){if(typeof t=="object")for(var s in t)this._on(s,t[s],i);else{t=M(t);for(var d=0,v=t.length;d<v;d++)this._on(t[d],i,o)}return this},off:function(t,i,o){if(!arguments.length)delete this._events;else if(typeof t=="object")for(var s in t)this._off(s,t[s],i);else{t=M(t);for(var d=arguments.length===1,v=0,O=t.length;v<O;v++)d?this._off(t[v]):this._off(t[v],i,o)}return this},_on:function(t,i,o,s){if(typeof i!="function"){console.warn("wrong listener type: "+typeof i);return}if(this._listens(t,i,o)===!1){o===this&&(o=void 0);var d={fn:i,ctx:o};s&&(d.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(d)}},_off:function(t,i,o){var s,d,v;if(this._events&&(s=this._events[t],!!s)){if(arguments.length===1){if(this._firingCount)for(d=0,v=s.length;d<v;d++)s[d].fn=R;delete this._events[t];return}if(typeof i!="function"){console.warn("wrong listener type: "+typeof i);return}var O=this._listens(t,i,o);if(O!==!1){var F=s[O];this._firingCount&&(F.fn=R,this._events[t]=s=s.slice()),s.splice(O,1)}}},fire:function(t,i,o){if(!this.listens(t,o))return this;var s=_({},i,{type:t,target:this,sourceTarget:i&&i.sourceTarget||this});if(this._events){var d=this._events[t];if(d){this._firingCount=this._firingCount+1||1;for(var v=0,O=d.length;v<O;v++){var F=d[v],V=F.fn;F.once&&this.off(t,V,F.ctx),V.call(F.ctx||this,s)}this._firingCount--}}return o&&this._propagateEvent(s),this},listens:function(t,i,o,s){typeof t!="string"&&console.warn('"string" type argument expected');var d=i;typeof i!="function"&&(s=!!i,d=void 0,o=void 0);var v=this._events&&this._events[t];if(v&&v.length&&this._listens(t,d,o)!==!1)return!0;if(s){for(var O in this._eventParents)if(this._eventParents[O].listens(t,i,o,s))return!0}return!1},_listens:function(t,i,o){if(!this._events)return!1;var s=this._events[t]||[];if(!i)return!!s.length;o===this&&(o=void 0);for(var d=0,v=s.length;d<v;d++)if(s[d].fn===i&&s[d].ctx===o)return d;return!1},once:function(t,i,o){if(typeof t=="object")for(var s in t)this._on(s,t[s],i,!0);else{t=M(t);for(var d=0,v=t.length;d<v;d++)this._on(t[d],i,o,!0)}return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[P(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[P(t)],this},_propagateEvent:function(t){for(var i in this._eventParents)this._eventParents[i].fire(t.type,_({layer:t.target,propagatedFrom:t.target},t),!0)}};X.addEventListener=X.on,X.removeEventListener=X.clearAllEventListeners=X.off,X.addOneTimeEventListener=X.once,X.fireEvent=X.fire,X.hasEventListeners=X.listens;var Oe=re.extend(X);function C(t,i,o){this.x=o?Math.round(t):t,this.y=o?Math.round(i):i}var ee=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};C.prototype={clone:function(){return new C(this.x,this.y)},add:function(t){return this.clone()._add(W(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(W(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new C(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new C(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ee(this.x),this.y=ee(this.y),this},distanceTo:function(t){t=W(t);var i=t.x-this.x,o=t.y-this.y;return Math.sqrt(i*i+o*o)},equals:function(t){return t=W(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=W(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+G(this.x)+", "+G(this.y)+")"}};function W(t,i,o){return t instanceof C?t:K(t)?new C(t[0],t[1]):t==null?t:typeof t=="object"&&"x"in t&&"y"in t?new C(t.x,t.y):new C(t,i,o)}function T(t,i){if(t)for(var o=i?[t,i]:t,s=0,d=o.length;s<d;s++)this.extend(o[s])}T.prototype={extend:function(t){var i,o;if(!t)return this;if(t instanceof C||typeof t[0]=="number"||"x"in t)i=o=W(t);else if(t=Y(t),i=t.min,o=t.max,!i||!o)return this;return!this.min&&!this.max?(this.min=i.clone(),this.max=o.clone()):(this.min.x=Math.min(i.x,this.min.x),this.max.x=Math.max(o.x,this.max.x),this.min.y=Math.min(i.y,this.min.y),this.max.y=Math.max(o.y,this.max.y)),this},getCenter:function(t){return W((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return W(this.min.x,this.max.y)},getTopRight:function(){return W(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var i,o;return typeof t[0]=="number"||t instanceof C?t=W(t):t=Y(t),t instanceof T?(i=t.min,o=t.max):i=o=t,i.x>=this.min.x&&o.x<=this.max.x&&i.y>=this.min.y&&o.y<=this.max.y},intersects:function(t){t=Y(t);var i=this.min,o=this.max,s=t.min,d=t.max,v=d.x>=i.x&&s.x<=o.x,O=d.y>=i.y&&s.y<=o.y;return v&&O},overlaps:function(t){t=Y(t);var i=this.min,o=this.max,s=t.min,d=t.max,v=d.x>i.x&&s.x<o.x,O=d.y>i.y&&s.y<o.y;return v&&O},isValid:function(){return!!(this.min&&this.max)},pad:function(t){var i=this.min,o=this.max,s=Math.abs(i.x-o.x)*t,d=Math.abs(i.y-o.y)*t;return Y(W(i.x-s,i.y-d),W(o.x+s,o.y+d))},equals:function(t){return t?(t=Y(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight())):!1}};function Y(t,i){return!t||t instanceof T?t:new T(t,i)}function Ee(t,i){if(t)for(var o=i?[t,i]:t,s=0,d=o.length;s<d;s++)this.extend(o[s])}Ee.prototype={extend:function(t){var i=this._southWest,o=this._northEast,s,d;if(t instanceof ke)s=t,d=t;else if(t instanceof Ee){if(s=t._southWest,d=t._northEast,!s||!d)return this}else return t?this.extend(we(t)||Te(t)):this;return!i&&!o?(this._southWest=new ke(s.lat,s.lng),this._northEast=new ke(d.lat,d.lng)):(i.lat=Math.min(s.lat,i.lat),i.lng=Math.min(s.lng,i.lng),o.lat=Math.max(d.lat,o.lat),o.lng=Math.max(d.lng,o.lng)),this},pad:function(t){var i=this._southWest,o=this._northEast,s=Math.abs(i.lat-o.lat)*t,d=Math.abs(i.lng-o.lng)*t;return new Ee(new ke(i.lat-s,i.lng-d),new ke(o.lat+s,o.lng+d))},getCenter:function(){return new ke((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ke(this.getNorth(),this.getWest())},getSouthEast:function(){return new ke(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){typeof t[0]=="number"||t instanceof ke||"lat"in t?t=we(t):t=Te(t);var i=this._southWest,o=this._northEast,s,d;return t instanceof Ee?(s=t.getSouthWest(),d=t.getNorthEast()):s=d=t,s.lat>=i.lat&&d.lat<=o.lat&&s.lng>=i.lng&&d.lng<=o.lng},intersects:function(t){t=Te(t);var i=this._southWest,o=this._northEast,s=t.getSouthWest(),d=t.getNorthEast(),v=d.lat>=i.lat&&s.lat<=o.lat,O=d.lng>=i.lng&&s.lng<=o.lng;return v&&O},overlaps:function(t){t=Te(t);var i=this._southWest,o=this._northEast,s=t.getSouthWest(),d=t.getNorthEast(),v=d.lat>i.lat&&s.lat<o.lat,O=d.lng>i.lng&&s.lng<o.lng;return v&&O},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,i){return t?(t=Te(t),this._southWest.equals(t.getSouthWest(),i)&&this._northEast.equals(t.getNorthEast(),i)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Te(t,i){return t instanceof Ee?t:new Ee(t,i)}function ke(t,i,o){if(isNaN(t)||isNaN(i))throw new Error("Invalid LatLng object: ("+t+", "+i+")");this.lat=+t,this.lng=+i,o!==void 0&&(this.alt=+o)}ke.prototype={equals:function(t,i){if(!t)return!1;t=we(t);var o=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return o<=(i===void 0?1e-9:i)},toString:function(t){return"LatLng("+G(this.lat,t)+", "+G(this.lng,t)+")"},distanceTo:function(t){return $e.distance(this,we(t))},wrap:function(){return $e.wrapLatLng(this)},toBounds:function(t){var i=180*t/40075017,o=i/Math.cos(Math.PI/180*this.lat);return Te([this.lat-i,this.lng-o],[this.lat+i,this.lng+o])},clone:function(){return new ke(this.lat,this.lng,this.alt)}};function we(t,i,o){return t instanceof ke?t:K(t)&&typeof t[0]!="object"?t.length===3?new ke(t[0],t[1],t[2]):t.length===2?new ke(t[0],t[1]):null:t==null?t:typeof t=="object"&&"lat"in t?new ke(t.lat,"lng"in t?t.lng:t.lon,t.alt):i===void 0?null:new ke(t,i,o)}var fe={latLngToPoint:function(t,i){var o=this.projection.project(t),s=this.scale(i);return this.transformation._transform(o,s)},pointToLatLng:function(t,i){var o=this.scale(i),s=this.transformation.untransform(t,o);return this.projection.unproject(s)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var i=this.projection.bounds,o=this.scale(t),s=this.transformation.transform(i.min,o),d=this.transformation.transform(i.max,o);return new T(s,d)},infinite:!1,wrapLatLng:function(t){var i=this.wrapLng?E(t.lng,this.wrapLng,!0):t.lng,o=this.wrapLat?E(t.lat,this.wrapLat,!0):t.lat,s=t.alt;return new ke(o,i,s)},wrapLatLngBounds:function(t){var i=t.getCenter(),o=this.wrapLatLng(i),s=i.lat-o.lat,d=i.lng-o.lng;if(s===0&&d===0)return t;var v=t.getSouthWest(),O=t.getNorthEast(),F=new ke(v.lat-s,v.lng-d),V=new ke(O.lat-s,O.lng-d);return new Ee(F,V)}},$e=_({},fe,{wrapLng:[-180,180],R:6371e3,distance:function(t,i){var o=Math.PI/180,s=t.lat*o,d=i.lat*o,v=Math.sin((i.lat-t.lat)*o/2),O=Math.sin((i.lng-t.lng)*o/2),F=v*v+Math.cos(s)*Math.cos(d)*O*O,V=2*Math.atan2(Math.sqrt(F),Math.sqrt(1-F));return this.R*V}}),pe=6378137,Ce={R:pe,MAX_LATITUDE:85.0511287798,project:function(t){var i=Math.PI/180,o=this.MAX_LATITUDE,s=Math.max(Math.min(o,t.lat),-o),d=Math.sin(s*i);return new C(this.R*t.lng*i,this.R*Math.log((1+d)/(1-d))/2)},unproject:function(t){var i=180/Math.PI;return new ke((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*i,t.x*i/this.R)},bounds:function(){var t=pe*Math.PI;return new T([-t,-t],[t,t])}()};function We(t,i,o,s){if(K(t)){this._a=t[0],this._b=t[1],this._c=t[2],this._d=t[3];return}this._a=t,this._b=i,this._c=o,this._d=s}We.prototype={transform:function(t,i){return this._transform(t.clone(),i)},_transform:function(t,i){return i=i||1,t.x=i*(this._a*t.x+this._b),t.y=i*(this._c*t.y+this._d),t},untransform:function(t,i){return i=i||1,new C((t.x/i-this._b)/this._a,(t.y/i-this._d)/this._c)}};function it(t,i,o,s){return new We(t,i,o,s)}var ve=_({},$e,{code:"EPSG:3857",projection:Ce,transformation:function(){var t=.5/(Math.PI*Ce.R);return it(t,.5,-t,.5)}()}),Vt=_({},ve,{code:"EPSG:900913"});function ge(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function q(t,i){var o="",s,d,v,O,F,V;for(s=0,v=t.length;s<v;s++){for(F=t[s],d=0,O=F.length;d<O;d++)V=F[d],o+=(d?"L":"M")+V.x+" "+V.y;o+=i?Ie.svg?"z":"x":""}return o||"M0 0"}var De=document.documentElement.style,ue="ActiveXObject"in window,be=ue&&!document.addEventListener,D="msLaunchUri"in navigator&&!("documentMode"in document),te=Nt("webkit"),ce=Nt("android"),_e=Nt("android 2")||Nt("android 3"),rt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Br=ce&&Nt("Google")&&rt<537&&!("AudioNode"in window),qn=!!window.opera,Rr=!D&&Nt("chrome"),or=Nt("gecko")&&!te&&!qn&&!ue,za=!Rr&&Nt("safari"),wi=Nt("phantom"),Ci="OTransition"in De,as=navigator.platform.indexOf("Win")===0,Oo=ue&&"transition"in De,Dr="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!_e,Ia="MozPerspective"in De,No=!window.L_DISABLE_3D&&(Oo||Dr||Ia)&&!Ci&&!wi,Jn=typeof orientation<"u"||Nt("mobile"),Mo=Jn&&te,zo=Jn&&Dr,Fr=!window.PointerEvent&&window.MSPointerEvent,Qn=!!(window.PointerEvent||Fr),Xn="ontouchstart"in window||!!window.TouchEvent,Aa=!window.L_NO_TOUCH&&(Xn||Qn),Ba=Jn&&qn,Ra=Jn&&or,Da=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Fa=function(){var t=!1;try{var i=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",R,i),window.removeEventListener("testPassiveEventSupport",R,i)}catch{}return t}(),Io=function(){return!!document.createElement("canvas").getContext}(),jr=!!(document.createElementNS&&ge("svg").createSVGRect),ar=!!jr&&function(){var t=document.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Ao=!jr&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var i=t.firstChild;return i.style.behavior="url(#default#VML)",i&&typeof i.adj=="object"}catch{return!1}}(),lr=navigator.platform.indexOf("Mac")===0,ls=navigator.platform.indexOf("Linux")===0;function Nt(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var Ie={ie:ue,ielt9:be,edge:D,webkit:te,android:ce,android23:_e,androidStock:Br,opera:qn,chrome:Rr,gecko:or,safari:za,phantom:wi,opera12:Ci,win:as,ie3d:Oo,webkit3d:Dr,gecko3d:Ia,any3d:No,mobile:Jn,mobileWebkit:Mo,mobileWebkit3d:zo,msPointer:Fr,pointer:Qn,touch:Aa,touchNative:Xn,mobileOpera:Ba,mobileGecko:Ra,retina:Da,passiveEvents:Fa,canvas:Io,svg:jr,vml:Ao,inlineSvg:ar,mac:lr,linux:ls},sr=Ie.msPointer?"MSPointerDown":"pointerdown",Ur=Ie.msPointer?"MSPointerMove":"pointermove",ja=Ie.msPointer?"MSPointerUp":"pointerup",Ua=Ie.msPointer?"MSPointerCancel":"pointercancel",Bo={touchstart:sr,touchmove:Ur,touchend:ja,touchcancel:Ua},Dn={touchstart:ht,touchmove:Zr,touchend:Zr,touchcancel:Zr},ei={},Ro=!1;function ss(t,i,o){return i==="touchstart"&&us(),Dn[i]?(o=Dn[i].bind(this,o),t.addEventListener(Bo[i],o,!1),o):(console.warn("wrong event specified:",i),R)}function Za(t,i,o){if(!Bo[i]){console.warn("wrong event specified:",i);return}t.removeEventListener(Bo[i],o,!1)}function Wa(t){ei[t.pointerId]=t}function Ha(t){ei[t.pointerId]&&(ei[t.pointerId]=t)}function Do(t){delete ei[t.pointerId]}function us(){Ro||(document.addEventListener(sr,Wa,!0),document.addEventListener(Ur,Ha,!0),document.addEventListener(ja,Do,!0),document.addEventListener(Ua,Do,!0),Ro=!0)}function Zr(t,i){if(i.pointerType!==(i.MSPOINTER_TYPE_MOUSE||"mouse")){i.touches=[];for(var o in ei)i.touches.push(ei[o]);i.changedTouches=[i],t(i)}}function ht(t,i){i.MSPOINTER_TYPE_TOUCH&&i.pointerType===i.MSPOINTER_TYPE_TOUCH&&ft(i),Zr(t,i)}function cs(t){var i={},o,s;for(s in t)o=t[s],i[s]=o&&o.bind?o.bind(t):o;return t=i,i.type="dblclick",i.detail=2,i.isTrusted=!1,i._simulated=!0,i}var Fo=200;function Va(t,i){t.addEventListener("dblclick",i);var o=0,s;function d(v){if(v.detail!==1){s=v.detail;return}if(!(v.pointerType==="mouse"||v.sourceCapabilities&&!v.sourceCapabilities.firesTouchEvents)){var O=ii(v);if(!(O.some(function(V){return V instanceof HTMLLabelElement&&V.attributes.for})&&!O.some(function(V){return V instanceof HTMLInputElement||V instanceof HTMLSelectElement}))){var F=Date.now();F-o<=Fo?(s++,s===2&&i(cs(v))):s=1,o=F}}}return t.addEventListener("click",d),{dblclick:i,simDblclick:d}}function Wr(t,i){t.removeEventListener("dblclick",i.dblclick),t.removeEventListener("click",i.simDblclick)}var jo=bi(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),xi=bi(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ur=xi==="webkitTransition"||xi==="OTransition"?xi+"End":"transitionend";function en(t){return typeof t=="string"?document.getElementById(t):t}function cr(t,i){var o=t.style[i]||t.currentStyle&&t.currentStyle[i];if((!o||o==="auto")&&document.defaultView){var s=document.defaultView.getComputedStyle(t,null);o=s?s[i]:null}return o==="auto"?null:o}function Ke(t,i,o){var s=document.createElement(t);return s.className=i||"",o&&o.appendChild(s),s}function ut(t){var i=t.parentNode;i&&i.removeChild(t)}function Hr(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function Si(t){var i=t.parentNode;i&&i.lastChild!==t&&i.appendChild(t)}function Pn(t){var i=t.parentNode;i&&i.firstChild!==t&&i.insertBefore(t,i.firstChild)}function ki(t,i){if(t.classList!==void 0)return t.classList.contains(i);var o=Vr(t);return o.length>0&&new RegExp("(^|\\s)"+i+"(\\s|$)").test(o)}function Ge(t,i){if(t.classList!==void 0)for(var o=M(i),s=0,d=o.length;s<d;s++)t.classList.add(o[s]);else if(!ki(t,i)){var v=Vr(t);Uo(t,(v?v+" ":"")+i)}}function lt(t,i){t.classList!==void 0?t.classList.remove(i):Uo(t,ne((" "+Vr(t)+" ").replace(" "+i+" "," ")))}function Uo(t,i){t.className.baseVal===void 0?t.className=i:t.className.baseVal=i}function Vr(t){return t.correspondingElement&&(t=t.correspondingElement),t.className.baseVal===void 0?t.className:t.className.baseVal}function Mt(t,i){"opacity"in t.style?t.style.opacity=i:"filter"in t.style&&$a(t,i)}function $a(t,i){var o=!1,s="DXImageTransform.Microsoft.Alpha";try{o=t.filters.item(s)}catch{if(i===1)return}i=Math.round(i*100),o?(o.Enabled=i!==100,o.Opacity=i):t.style.filter+=" progid:"+s+"(opacity="+i+")"}function bi(t){for(var i=document.documentElement.style,o=0;o<t.length;o++)if(t[o]in i)return t[o];return!1}function tn(t,i,o){var s=i||new C(0,0);t.style[jo]=(Ie.ie3d?"translate("+s.x+"px,"+s.y+"px)":"translate3d("+s.x+"px,"+s.y+"px,0)")+(o?" scale("+o+")":"")}function gt(t,i){t._leaflet_pos=i,Ie.any3d?tn(t,i):(t.style.left=i.x+"px",t.style.top=i.y+"px")}function Tn(t){return t._leaflet_pos||new C(0,0)}var Qe,Pi,$r;if("onselectstart"in document)Qe=function(){He(window,"selectstart",ft)},Pi=function(){ot(window,"selectstart",ft)};else{var ti=bi(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Qe=function(){if(ti){var t=document.documentElement.style;$r=t[ti],t[ti]="none"}},Pi=function(){ti&&(document.documentElement.style[ti]=$r,$r=void 0)}}function Gr(){He(window,"dragstart",ft)}function Kr(){ot(window,"dragstart",ft)}var dr,hr;function Ti(t){for(;t.tabIndex===-1;)t=t.parentNode;t.style&&(nn(),dr=t,hr=t.style.outlineStyle,t.style.outlineStyle="none",He(window,"keydown",nn))}function nn(){dr&&(dr.style.outlineStyle=hr,dr=void 0,hr=void 0,ot(window,"keydown",nn))}function En(t){do t=t.parentNode;while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function hn(t){var i=t.getBoundingClientRect();return{x:i.width/t.offsetWidth||1,y:i.height/t.offsetHeight||1,boundingClientRect:i}}var fr={__proto__:null,TRANSFORM:jo,TRANSITION:xi,TRANSITION_END:ur,get:en,getStyle:cr,create:Ke,remove:ut,empty:Hr,toFront:Si,toBack:Pn,hasClass:ki,addClass:Ge,removeClass:lt,setClass:Uo,getClass:Vr,setOpacity:Mt,testProp:bi,setTransform:tn,setPosition:gt,getPosition:Tn,get disableTextSelection(){return Qe},get enableTextSelection(){return Pi},disableImageDrag:Gr,enableImageDrag:Kr,preventOutline:Ti,restoreOutline:nn,getSizedParentNode:En,getScale:hn};function He(t,i,o,s){if(i&&typeof i=="object")for(var d in i)Wo(t,d,i[d],o);else{i=M(i);for(var v=0,O=i.length;v<O;v++)Wo(t,i[v],o,s)}return this}var xt="_leaflet_events";function ot(t,i,o,s){if(arguments.length===1)Zo(t),delete t[xt];else if(i&&typeof i=="object")for(var d in i)Yr(t,d,i[d],o);else if(i=M(i),arguments.length===2)Zo(t,function(F){return de(i,F)!==-1});else for(var v=0,O=i.length;v<O;v++)Yr(t,i[v],o,s);return this}function Zo(t,i){for(var o in t[xt]){var s=o.split(/\d/)[0];(!i||i(s))&&Yr(t,s,null,null,o)}}var ni={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Wo(t,i,o,s){var d=i+P(o)+(s?"_"+P(s):"");if(t[xt]&&t[xt][d])return this;var v=function(F){return o.call(s||t,F||window.event)},O=v;!Ie.touchNative&&Ie.pointer&&i.indexOf("touch")===0?v=ss(t,i,v):Ie.touch&&i==="dblclick"?v=Va(t,v):"addEventListener"in t?i==="touchstart"||i==="touchmove"||i==="wheel"||i==="mousewheel"?t.addEventListener(ni[i]||i,v,Ie.passiveEvents?{passive:!1}:!1):i==="mouseenter"||i==="mouseleave"?(v=function(F){F=F||window.event,gr(t,F)&&O(F)},t.addEventListener(ni[i],v,!1)):t.addEventListener(i,O,!1):t.attachEvent("on"+i,v),t[xt]=t[xt]||{},t[xt][d]=v}function Yr(t,i,o,s,d){d=d||i+P(o)+(s?"_"+P(s):"");var v=t[xt]&&t[xt][d];if(!v)return this;!Ie.touchNative&&Ie.pointer&&i.indexOf("touch")===0?Za(t,i,v):Ie.touch&&i==="dblclick"?Wr(t,v):"removeEventListener"in t?t.removeEventListener(ni[i]||i,v,!1):t.detachEvent("on"+i,v),t[xt][d]=null}function fn(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function qr(t){return Wo(t,"wheel",fn),this}function pr(t){return He(t,"mousedown touchstart dblclick contextmenu",fn),t._leaflet_disable_click=!0,this}function ft(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function rn(t){return ft(t),fn(t),this}function ii(t){if(t.composedPath)return t.composedPath();for(var i=[],o=t.target;o;)i.push(o),o=o.parentNode;return i}function mr(t,i){if(!i)return new C(t.clientX,t.clientY);var o=hn(i),s=o.boundingClientRect;return new C((t.clientX-s.left)/o.x-i.clientLeft,(t.clientY-s.top)/o.y-i.clientTop)}var ds=Ie.linux&&Ie.chrome?window.devicePixelRatio:Ie.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Ga(t){return Ie.edge?t.wheelDeltaY/2:t.deltaY&&t.deltaMode===0?-t.deltaY/ds:t.deltaY&&t.deltaMode===1?-t.deltaY*20:t.deltaY&&t.deltaMode===2?-t.deltaY*60:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?-t.detail*20:t.detail?t.detail/-32765*60:0}function gr(t,i){var o=i.relatedTarget;if(!o)return!0;try{for(;o&&o!==t;)o=o.parentNode}catch{return!1}return o!==t}var Jr={__proto__:null,on:He,off:ot,stopPropagation:fn,disableScrollPropagation:qr,disableClickPropagation:pr,preventDefault:ft,stop:rn,getPropagationPath:ii,getMousePosition:mr,getWheelDelta:Ga,isExternalTarget:gr,addListener:He,removeListener:ot},Qr=Oe.extend({run:function(t,i,o,s){this.stop(),this._el=t,this._inProgress=!0,this._duration=o||.25,this._easeOutPower=1/Math.max(s||.5,.2),this._startPos=Tn(t),this._offset=i.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=B(this._animate,this),this._step()},_step:function(t){var i=+new Date-this._startTime,o=this._duration*1e3;i<o?this._runFrame(this._easeOut(i/o),t):(this._runFrame(1),this._complete())},_runFrame:function(t,i){var o=this._startPos.add(this._offset.multiplyBy(t));i&&o._round(),gt(this._el,o),this.fire("step")},_complete:function(){Be(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),Je=Oe.extend({options:{crs:ve,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,i){i=I(this,i),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=b(this._onResize,this),this._initEvents(),i.maxBounds&&this.setMaxBounds(i.maxBounds),i.zoom!==void 0&&(this._zoom=this._limitZoom(i.zoom)),i.center&&i.zoom!==void 0&&this.setView(we(i.center),i.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=xi&&Ie.any3d&&!Ie.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),He(this._proxy,ur,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,i,o){if(i=i===void 0?this._zoom:this._limitZoom(i),t=this._limitCenter(we(t),i,this.options.maxBounds),o=o||{},this._stop(),this._loaded&&!o.reset&&o!==!0){o.animate!==void 0&&(o.zoom=_({animate:o.animate},o.zoom),o.pan=_({animate:o.animate,duration:o.duration},o.pan));var s=this._zoom!==i?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,i,o.zoom):this._tryAnimatedPan(t,o.pan);if(s)return clearTimeout(this._sizeTimer),this}return this._resetView(t,i,o.pan&&o.pan.noMoveStart),this},setZoom:function(t,i){return this._loaded?this.setView(this.getCenter(),t,{zoom:i}):(this._zoom=t,this)},zoomIn:function(t,i){return t=t||(Ie.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,i)},zoomOut:function(t,i){return t=t||(Ie.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,i)},setZoomAround:function(t,i,o){var s=this.getZoomScale(i),d=this.getSize().divideBy(2),v=t instanceof C?t:this.latLngToContainerPoint(t),O=v.subtract(d).multiplyBy(1-1/s),F=this.containerPointToLatLng(d.add(O));return this.setView(F,i,{zoom:o})},_getBoundsCenterZoom:function(t,i){i=i||{},t=t.getBounds?t.getBounds():Te(t);var o=W(i.paddingTopLeft||i.padding||[0,0]),s=W(i.paddingBottomRight||i.padding||[0,0]),d=this.getBoundsZoom(t,!1,o.add(s));if(d=typeof i.maxZoom=="number"?Math.min(i.maxZoom,d):d,d===1/0)return{center:t.getCenter(),zoom:d};var v=s.subtract(o).divideBy(2),O=this.project(t.getSouthWest(),d),F=this.project(t.getNorthEast(),d),V=this.unproject(O.add(F).divideBy(2).add(v),d);return{center:V,zoom:d}},fitBounds:function(t,i){if(t=Te(t),!t.isValid())throw new Error("Bounds are not valid.");var o=this._getBoundsCenterZoom(t,i);return this.setView(o.center,o.zoom,i)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,i){return this.setView(t,this._zoom,{pan:i})},panBy:function(t,i){if(t=W(t).round(),i=i||{},!t.x&&!t.y)return this.fire("moveend");if(i.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Qr,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),i.noMoveStart||this.fire("movestart"),i.animate!==!1){Ge(this._mapPane,"leaflet-pan-anim");var o=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,o,i.duration||.25,i.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,i,o){if(o=o||{},o.animate===!1||!Ie.any3d)return this.setView(t,i,o);this._stop();var s=this.project(this.getCenter()),d=this.project(t),v=this.getSize(),O=this._zoom;t=we(t),i=i===void 0?O:i;var F=Math.max(v.x,v.y),V=F*this.getZoomScale(O,i),oe=d.distanceTo(s)||1,xe=1.42,je=xe*xe;function Ye(nt){var Zi=nt?-1:1,bs=nt?V:F,Ps=V*V-F*F+Zi*je*je*oe*oe,ci=2*bs*je*oe,di=Ps/ci,hi=Math.sqrt(di*di+1)-di,fo=hi<1e-9?-18:Math.log(hi);return fo}function St(nt){return(Math.exp(nt)-Math.exp(-nt))/2}function _t(nt){return(Math.exp(nt)+Math.exp(-nt))/2}function Ut(nt){return St(nt)/_t(nt)}var It=Ye(0);function ji(nt){return F*(_t(It)/_t(It+xe*nt))}function ca(nt){return F*(_t(It)*Ut(It+xe*nt)-St(It))/je}function $n(nt){return 1-Math.pow(1-nt,1.5)}var pl=Date.now(),ui=(Ye(1)-It)/xe,vn=o.duration?1e3*o.duration:1e3*ui*.8;function Ui(){var nt=(Date.now()-pl)/vn,Zi=$n(nt)*ui;nt<=1?(this._flyToFrame=B(Ui,this),this._move(this.unproject(s.add(d.subtract(s).multiplyBy(ca(Zi)/oe)),O),this.getScaleZoom(F/ji(Zi),O),{flyTo:!0})):this._move(t,i)._moveEnd(!0)}return this._moveStart(!0,o.noMoveStart),Ui.call(this),this},flyToBounds:function(t,i){var o=this._getBoundsCenterZoom(t,i);return this.flyTo(o.center,o.zoom,i)},setMaxBounds:function(t){return t=Te(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var i=this.options.minZoom;return this.options.minZoom=t,this._loaded&&i!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var i=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&i!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,i){this._enforcingBounds=!0;var o=this.getCenter(),s=this._limitCenter(o,this._zoom,Te(t));return o.equals(s)||this.panTo(s,i),this._enforcingBounds=!1,this},panInside:function(t,i){i=i||{};var o=W(i.paddingTopLeft||i.padding||[0,0]),s=W(i.paddingBottomRight||i.padding||[0,0]),d=this.project(this.getCenter()),v=this.project(t),O=this.getPixelBounds(),F=Y([O.min.add(o),O.max.subtract(s)]),V=F.getSize();if(!F.contains(v)){this._enforcingBounds=!0;var oe=v.subtract(F.getCenter()),xe=F.extend(v).getSize().subtract(V);d.x+=oe.x<0?-xe.x:xe.x,d.y+=oe.y<0?-xe.y:xe.y,this.panTo(this.unproject(d),i),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=_({animate:!1,pan:!0},t===!0?{animate:!0}:t);var i=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var o=this.getSize(),s=i.divideBy(2).round(),d=o.divideBy(2).round(),v=s.subtract(d);return!v.x&&!v.y?this:(t.animate&&t.pan?this.panBy(v):(t.pan&&this._rawPanBy(v),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(b(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:i,newSize:o}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=_({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var i=b(this._handleGeolocationResponse,this),o=b(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(i,o,t):navigator.geolocation.getCurrentPosition(i,o,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var i=t.code,o=t.message||(i===1?"permission denied":i===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:i,message:"Geolocation error: "+o+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var i=t.coords.latitude,o=t.coords.longitude,s=new ke(i,o),d=s.toBounds(t.coords.accuracy*2),v=this._locateOptions;if(v.setView){var O=this.getBoundsZoom(d);this.setView(s,v.maxZoom?Math.min(O,v.maxZoom):O)}var F={latlng:s,bounds:d,timestamp:t.timestamp};for(var V in t.coords)typeof t.coords[V]=="number"&&(F[V]=t.coords[V]);this.fire("locationfound",F)}},addHandler:function(t,i){if(!i)return this;var o=this[t]=new i(this);return this._handlers.push(o),this.options[t]&&o.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ut(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Be(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)ut(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,i){var o="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),s=Ke("div",o,i||this._mapPane);return t&&(this._panes[t]=s),s},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),i=this.unproject(t.getBottomLeft()),o=this.unproject(t.getTopRight());return new Ee(i,o)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,i,o){t=Te(t),o=W(o||[0,0]);var s=this.getZoom()||0,d=this.getMinZoom(),v=this.getMaxZoom(),O=t.getNorthWest(),F=t.getSouthEast(),V=this.getSize().subtract(o),oe=Y(this.project(F,s),this.project(O,s)).getSize(),xe=Ie.any3d?this.options.zoomSnap:1,je=V.x/oe.x,Ye=V.y/oe.y,St=i?Math.max(je,Ye):Math.min(je,Ye);return s=this.getScaleZoom(St,s),xe&&(s=Math.round(s/(xe/100))*(xe/100),s=i?Math.ceil(s/xe)*xe:Math.floor(s/xe)*xe),Math.max(d,Math.min(v,s))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new C(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,i){var o=this._getTopLeftPoint(t,i);return new T(o,o.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===void 0?this.getZoom():t)},getPane:function(t){return typeof t=="string"?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,i){var o=this.options.crs;return i=i===void 0?this._zoom:i,o.scale(t)/o.scale(i)},getScaleZoom:function(t,i){var o=this.options.crs;i=i===void 0?this._zoom:i;var s=o.zoom(t*o.scale(i));return isNaN(s)?1/0:s},project:function(t,i){return i=i===void 0?this._zoom:i,this.options.crs.latLngToPoint(we(t),i)},unproject:function(t,i){return i=i===void 0?this._zoom:i,this.options.crs.pointToLatLng(W(t),i)},layerPointToLatLng:function(t){var i=W(t).add(this.getPixelOrigin());return this.unproject(i)},latLngToLayerPoint:function(t){var i=this.project(we(t))._round();return i._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(we(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(Te(t))},distance:function(t,i){return this.options.crs.distance(we(t),we(i))},containerPointToLayerPoint:function(t){return W(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return W(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var i=this.containerPointToLayerPoint(W(t));return this.layerPointToLatLng(i)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(we(t)))},mouseEventToContainerPoint:function(t){return mr(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var i=this._container=en(t);if(i){if(i._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");He(i,"scroll",this._onScroll,this),this._containerId=P(i)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ie.any3d,Ge(t,"leaflet-container"+(Ie.touch?" leaflet-touch":"")+(Ie.retina?" leaflet-retina":"")+(Ie.ielt9?" leaflet-oldie":"")+(Ie.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var i=cr(t,"position");i!=="absolute"&&i!=="relative"&&i!=="fixed"&&i!=="sticky"&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),gt(this._mapPane,new C(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ge(t.markerPane,"leaflet-zoom-hide"),Ge(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,i,o){gt(this._mapPane,new C(0,0));var s=!this._loaded;this._loaded=!0,i=this._limitZoom(i),this.fire("viewprereset");var d=this._zoom!==i;this._moveStart(d,o)._move(t,i)._moveEnd(d),this.fire("viewreset"),s&&this.fire("load")},_moveStart:function(t,i){return t&&this.fire("zoomstart"),i||this.fire("movestart"),this},_move:function(t,i,o,s){i===void 0&&(i=this._zoom);var d=this._zoom!==i;return this._zoom=i,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),s?o&&o.pinch&&this.fire("zoom",o):((d||o&&o.pinch)&&this.fire("zoom",o),this.fire("move",o)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Be(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){gt(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[P(this._container)]=this;var i=t?ot:He;i(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&i(window,"resize",this._onResize,this),Ie.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Be(this._resizeRequest),this._resizeRequest=B(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,i){for(var o=[],s,d=i==="mouseout"||i==="mouseover",v=t.target||t.srcElement,O=!1;v;){if(s=this._targets[P(v)],s&&(i==="click"||i==="preclick")&&this._draggableMoved(s)){O=!0;break}if(s&&s.listens(i,!0)&&(d&&!gr(v,t)||(o.push(s),d))||v===this._container)break;v=v.parentNode}return!o.length&&!O&&!d&&this.listens(i,!0)&&(o=[this]),o},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var i=t.target||t.srcElement;if(!(!this._loaded||i._leaflet_disable_events||t.type==="click"&&this._isClickDisabled(i))){var o=t.type;o==="mousedown"&&Ti(i),this._fireDOMEvent(t,o)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,i,o){if(t.type==="click"){var s=_({},t);s.type="preclick",this._fireDOMEvent(s,s.type,o)}var d=this._findEventTargets(t,i);if(o){for(var v=[],O=0;O<o.length;O++)o[O].listens(i,!0)&&v.push(o[O]);d=v.concat(d)}if(d.length){i==="contextmenu"&&ft(t);var F=d[0],V={originalEvent:t};if(t.type!=="keypress"&&t.type!=="keydown"&&t.type!=="keyup"){var oe=F.getLatLng&&(!F._radius||F._radius<=10);V.containerPoint=oe?this.latLngToContainerPoint(F.getLatLng()):this.mouseEventToContainerPoint(t),V.layerPoint=this.containerPointToLayerPoint(V.containerPoint),V.latlng=oe?F.getLatLng():this.layerPointToLatLng(V.layerPoint)}for(O=0;O<d.length;O++)if(d[O].fire(i,V,!0),V.originalEvent._stopped||d[O].options.bubblingMouseEvents===!1&&de(this._mouseEvents,i)!==-1)return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,i=this._handlers.length;t<i;t++)this._handlers[t].disable()},whenReady:function(t,i){return this._loaded?t.call(i||this,{target:this}):this.on("load",t,i),this},_getMapPanePos:function(){return Tn(this._mapPane)||new C(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,i){var o=t&&i!==void 0?this._getNewPixelOrigin(t,i):this.getPixelOrigin();return o.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,i){var o=this.getSize()._divideBy(2);return this.project(t,i)._subtract(o)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,i,o){var s=this._getNewPixelOrigin(o,i);return this.project(t,i)._subtract(s)},_latLngBoundsToNewLayerBounds:function(t,i,o){var s=this._getNewPixelOrigin(o,i);return Y([this.project(t.getSouthWest(),i)._subtract(s),this.project(t.getNorthWest(),i)._subtract(s),this.project(t.getSouthEast(),i)._subtract(s),this.project(t.getNorthEast(),i)._subtract(s)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,i,o){if(!o)return t;var s=this.project(t,i),d=this.getSize().divideBy(2),v=new T(s.subtract(d),s.add(d)),O=this._getBoundsOffset(v,o,i);return Math.abs(O.x)<=1&&Math.abs(O.y)<=1?t:this.unproject(s.add(O),i)},_limitOffset:function(t,i){if(!i)return t;var o=this.getPixelBounds(),s=new T(o.min.add(t),o.max.add(t));return t.add(this._getBoundsOffset(s,i))},_getBoundsOffset:function(t,i,o){var s=Y(this.project(i.getNorthEast(),o),this.project(i.getSouthWest(),o)),d=s.min.subtract(t.min),v=s.max.subtract(t.max),O=this._rebound(d.x,-v.x),F=this._rebound(d.y,-v.y);return new C(O,F)},_rebound:function(t,i){return t+i>0?Math.round(t-i)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(i))},_limitZoom:function(t){var i=this.getMinZoom(),o=this.getMaxZoom(),s=Ie.any3d?this.options.zoomSnap:1;return s&&(t=Math.round(t/s)*s),Math.max(i,Math.min(o,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){lt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,i){var o=this._getCenterOffset(t)._trunc();return(i&&i.animate)!==!0&&!this.getSize().contains(o)?!1:(this.panBy(o,i),!0)},_createAnimProxy:function(){var t=this._proxy=Ke("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(i){var o=jo,s=this._proxy.style[o];tn(this._proxy,this.project(i.center,i.zoom),this.getZoomScale(i.zoom,1)),s===this._proxy.style[o]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ut(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),i=this.getZoom();tn(this._proxy,this.project(t,i),this.getZoomScale(i,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,i,o){if(this._animatingZoom)return!0;if(o=o||{},!this._zoomAnimated||o.animate===!1||this._nothingToAnimate()||Math.abs(i-this._zoom)>this.options.zoomAnimationThreshold)return!1;var s=this.getZoomScale(i),d=this._getCenterOffset(t)._divideBy(1-1/s);return o.animate!==!0&&!this.getSize().contains(d)?!1:(B(function(){this._moveStart(!0,o.noMoveStart||!1)._animateZoom(t,i,!0)},this),!0)},_animateZoom:function(t,i,o,s){this._mapPane&&(o&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=i,Ge(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:i,noUpdate:s}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(b(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&lt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Fn(t,i){return new Je(t,i)}var Ft=re.extend({options:{position:"topright"},initialize:function(t){I(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var i=this._map;return i&&i.removeControl(this),this.options.position=t,i&&i.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var i=this._container=this.onAdd(t),o=this.getPosition(),s=t._controlCorners[o];return Ge(i,"leaflet-control"),o.indexOf("bottom")!==-1?s.insertBefore(i,s.firstChild):s.appendChild(i),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ut(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),jn=function(t){return new Ft(t)};Je.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},i="leaflet-",o=this._controlContainer=Ke("div",i+"control-container",this._container);function s(d,v){var O=i+d+" "+i+v;t[d+v]=Ke("div",O,o)}s("top","left"),s("top","right"),s("bottom","left"),s("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)ut(this._controlCorners[t]);ut(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ho=Ft.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,i,o,s){return o<s?-1:s<o?1:0}},initialize:function(t,i,o){I(this,o),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var s in t)this._addLayer(t[s],s);for(s in i)this._addLayer(i[s],s,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return Ft.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,i){return this._addLayer(t,i),this._map?this._update():this},addOverlay:function(t,i){return this._addLayer(t,i,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var i=this._getLayer(P(t));return i&&this._layers.splice(this._layers.indexOf(i),1),this._map?this._update():this},expand:function(){Ge(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(Ge(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):lt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return lt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",i=this._container=Ke("div",t),o=this.options.collapsed;i.setAttribute("aria-haspopup",!0),pr(i),qr(i);var s=this._section=Ke("section",t+"-list");o&&(this._map.on("click",this.collapse,this),He(i,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var d=this._layersLink=Ke("a",t+"-toggle",i);d.href="#",d.title="Layers",d.setAttribute("role","button"),He(d,{keydown:function(v){v.keyCode===13&&this._expandSafely()},click:function(v){ft(v),this._expandSafely()}},this),o||this.expand(),this._baseLayersList=Ke("div",t+"-base",s),this._separator=Ke("div",t+"-separator",s),this._overlaysList=Ke("div",t+"-overlays",s),i.appendChild(s)},_getLayer:function(t){for(var i=0;i<this._layers.length;i++)if(this._layers[i]&&P(this._layers[i].layer)===t)return this._layers[i]},_addLayer:function(t,i,o){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:i,overlay:o}),this.options.sortLayers&&this._layers.sort(b(function(s,d){return this.options.sortFunction(s.layer,d.layer,s.name,d.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Hr(this._baseLayersList),Hr(this._overlaysList),this._layerControlInputs=[];var t,i,o,s,d=0;for(o=0;o<this._layers.length;o++)s=this._layers[o],this._addItem(s),i=i||s.overlay,t=t||!s.overlay,d+=s.overlay?0:1;return this.options.hideSingleBase&&(t=t&&d>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=i&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var i=this._getLayer(P(t.target)),o=i.overlay?t.type==="add"?"overlayadd":"overlayremove":t.type==="add"?"baselayerchange":null;o&&this._map.fire(o,i)},_createRadioElement:function(t,i){var o='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(i?' checked="checked"':"")+"/>",s=document.createElement("div");return s.innerHTML=o,s.firstChild},_addItem:function(t){var i=document.createElement("label"),o=this._map.hasLayer(t.layer),s;t.overlay?(s=document.createElement("input"),s.type="checkbox",s.className="leaflet-control-layers-selector",s.defaultChecked=o):s=this._createRadioElement("leaflet-base-layers_"+P(this),o),this._layerControlInputs.push(s),s.layerId=P(t.layer),He(s,"click",this._onInputClick,this);var d=document.createElement("span");d.innerHTML=" "+t.name;var v=document.createElement("span");i.appendChild(v),v.appendChild(s),v.appendChild(d);var O=t.overlay?this._overlaysList:this._baseLayersList;return O.appendChild(i),this._checkDisabledLayers(),i},_onInputClick:function(){if(!this._preventClick){var t=this._layerControlInputs,i,o,s=[],d=[];this._handlingClick=!0;for(var v=t.length-1;v>=0;v--)i=t[v],o=this._getLayer(i.layerId).layer,i.checked?s.push(o):i.checked||d.push(o);for(v=0;v<d.length;v++)this._map.hasLayer(d[v])&&this._map.removeLayer(d[v]);for(v=0;v<s.length;v++)this._map.hasLayer(s[v])||this._map.addLayer(s[v]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var t=this._layerControlInputs,i,o,s=this._map.getZoom(),d=t.length-1;d>=0;d--)i=t[d],o=this._getLayer(i.layerId).layer,i.disabled=o.options.minZoom!==void 0&&s<o.options.minZoom||o.options.maxZoom!==void 0&&s>o.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;this._preventClick=!0,He(t,"click",ft),this.expand();var i=this;setTimeout(function(){ot(t,"click",ft),i._preventClick=!1})}}),Xr=function(t,i,o){return new Ho(t,i,o)},Ei=Ft.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var i="leaflet-control-zoom",o=Ke("div",i+" leaflet-bar"),s=this.options;return this._zoomInButton=this._createButton(s.zoomInText,s.zoomInTitle,i+"-in",o,this._zoomIn),this._zoomOutButton=this._createButton(s.zoomOutText,s.zoomOutTitle,i+"-out",o,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),o},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,i,o,s,d){var v=Ke("a",o,s);return v.innerHTML=t,v.href="#",v.title=i,v.setAttribute("role","button"),v.setAttribute("aria-label",i),pr(v),He(v,"click",rn),He(v,"click",d,this),He(v,"click",this._refocusOnMap,this),v},_updateDisabled:function(){var t=this._map,i="leaflet-disabled";lt(this._zoomInButton,i),lt(this._zoomOutButton,i),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(Ge(this._zoomOutButton,i),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(Ge(this._zoomInButton,i),this._zoomInButton.setAttribute("aria-disabled","true"))}});Je.mergeOptions({zoomControl:!0}),Je.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ei,this.addControl(this.zoomControl))});var Ka=function(t){return new Ei(t)},zt=Ft.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var i="leaflet-control-scale",o=Ke("div",i),s=this.options;return this._addScales(s,i+"-line",o),t.on(s.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),o},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,i,o){t.metric&&(this._mScale=Ke("div",i,o)),t.imperial&&(this._iScale=Ke("div",i,o))},_update:function(){var t=this._map,i=t.getSize().y/2,o=t.distance(t.containerPointToLatLng([0,i]),t.containerPointToLatLng([this.options.maxWidth,i]));this._updateScales(o)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var i=this._getRoundNum(t),o=i<1e3?i+" m":i/1e3+" km";this._updateScale(this._mScale,o,i/t)},_updateImperial:function(t){var i=t*3.2808399,o,s,d;i>5280?(o=i/5280,s=this._getRoundNum(o),this._updateScale(this._iScale,s+" mi",s/o)):(d=this._getRoundNum(i),this._updateScale(this._iScale,d+" ft",d/i))},_updateScale:function(t,i,o){t.style.width=Math.round(this.options.maxWidth*o)+"px",t.innerHTML=i},_getRoundNum:function(t){var i=Math.pow(10,(Math.floor(t)+"").length-1),o=t/i;return o=o>=10?10:o>=5?5:o>=3?3:o>=2?2:1,i*o}}),Li=function(t){return new zt(t)},Vo='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',ri=Ft.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ie.inlineSvg?Vo+" ":"")+"Leaflet</a>"},initialize:function(t){I(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=Ke("div","leaflet-control-attribution"),pr(this._container);for(var i in t._layers)t._layers[i].getAttribution&&this.addAttribution(t._layers[i].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",function(){this.removeAttribution(t.layer.getAttribution())},this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var i in this._attributions)this._attributions[i]&&t.push(i);var o=[];this.options.prefix&&o.push(this.options.prefix),t.length&&o.push(t.join(", ")),this._container.innerHTML=o.join(' <span aria-hidden="true">|</span> ')}}});Je.mergeOptions({attributionControl:!0}),Je.addInitHook(function(){this.options.attributionControl&&new ri().addTo(this)});var hs=function(t){return new ri(t)};Ft.Layers=Ho,Ft.Zoom=Ei,Ft.Scale=zt,Ft.Attribution=ri,jn.layers=Xr,jn.zoom=Ka,jn.scale=Li,jn.attribution=hs;var $t=re.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});$t.addTo=function(t,i){return t.addHandler(i,this),this};var $o={Events:X},Oi=Ie.touch?"touchstart mousedown":"mousedown",on=Oe.extend({options:{clickTolerance:3},initialize:function(t,i,o,s){I(this,s),this._element=t,this._dragStartTarget=i||t,this._preventOutline=o},enable:function(){this._enabled||(He(this._dragStartTarget,Oi,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(on._dragging===this&&this.finishDrag(!0),ot(this._dragStartTarget,Oi,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!ki(this._element,"leaflet-zoom-anim"))){if(t.touches&&t.touches.length!==1){on._dragging===this&&this.finishDrag();return}if(!(on._dragging||t.shiftKey||t.which!==1&&t.button!==1&&!t.touches)&&(on._dragging=this,this._preventOutline&&Ti(this._element),Gr(),Qe(),!this._moving)){this.fire("down");var i=t.touches?t.touches[0]:t,o=En(this._element);this._startPoint=new C(i.clientX,i.clientY),this._startPos=Tn(this._element),this._parentScale=hn(o);var s=t.type==="mousedown";He(document,s?"mousemove":"touchmove",this._onMove,this),He(document,s?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(t){if(this._enabled){if(t.touches&&t.touches.length>1){this._moved=!0;return}var i=t.touches&&t.touches.length===1?t.touches[0]:t,o=new C(i.clientX,i.clientY)._subtract(this._startPoint);!o.x&&!o.y||Math.abs(o.x)+Math.abs(o.y)<this.options.clickTolerance||(o.x/=this._parentScale.x,o.y/=this._parentScale.y,ft(t),this._moved||(this.fire("dragstart"),this._moved=!0,Ge(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ge(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(o),this._moving=!0,this._lastEvent=t,this._updatePosition())}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),gt(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){lt(document.body,"leaflet-dragging"),this._lastTarget&&(lt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ot(document,"mousemove touchmove",this._onMove,this),ot(document,"mouseup touchend touchcancel",this._onUp,this),Kr(),Pi();var i=this._moved&&this._moving;this._moving=!1,on._dragging=!1,i&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)})}});function Go(t,i,o){var s,d=[1,4,2,8],v,O,F,V,oe,xe,je,Ye;for(v=0,xe=t.length;v<xe;v++)t[v]._code=oi(t[v],i);for(F=0;F<4;F++){for(je=d[F],s=[],v=0,xe=t.length,O=xe-1;v<xe;O=v++)V=t[v],oe=t[O],V._code&je?oe._code&je||(Ye=to(oe,V,je,i,o),Ye._code=oi(Ye,i),s.push(Ye)):(oe._code&je&&(Ye=to(oe,V,je,i,o),Ye._code=oi(Ye,i),s.push(Ye)),s.push(V));t=s}return t}function Ya(t,i){var o,s,d,v,O,F,V,oe,xe;if(!t||t.length===0)throw new Error("latlngs not passed");Gt(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var je=we([0,0]),Ye=Te(t),St=Ye.getNorthWest().distanceTo(Ye.getSouthWest())*Ye.getNorthEast().distanceTo(Ye.getNorthWest());St<1700&&(je=Ko(t));var _t=t.length,Ut=[];for(o=0;o<_t;o++){var It=we(t[o]);Ut.push(i.project(we([It.lat-je.lat,It.lng-je.lng])))}for(F=V=oe=0,o=0,s=_t-1;o<_t;s=o++)d=Ut[o],v=Ut[s],O=d.y*v.x-v.y*d.x,V+=(d.x+v.x)*O,oe+=(d.y+v.y)*O,F+=O*3;F===0?xe=Ut[0]:xe=[V/F,oe/F];var ji=i.unproject(W(xe));return we([ji.lat+je.lat,ji.lng+je.lng])}function Ko(t){for(var i=0,o=0,s=0,d=0;d<t.length;d++){var v=we(t[d]);i+=v.lat,o+=v.lng,s++}return we([i/s,o/s])}var fs={__proto__:null,clipPolygon:Go,polygonCenter:Ya,centroid:Ko};function eo(t,i){if(!i||!t.length)return t.slice();var o=i*i;return t=gs(t,o),t=ms(t,o),t}function qa(t,i,o){return Math.sqrt(ai(t,i,o,!0))}function ps(t,i,o){return ai(t,i,o)}function ms(t,i){var o=t.length,s=typeof Uint8Array<"u"?Uint8Array:Array,d=new s(o);d[0]=d[o-1]=1,Yo(t,d,i,0,o-1);var v,O=[];for(v=0;v<o;v++)d[v]&&O.push(t[v]);return O}function Yo(t,i,o,s,d){var v=0,O,F,V;for(F=s+1;F<=d-1;F++)V=ai(t[F],t[s],t[d],!0),V>v&&(O=F,v=V);v>o&&(i[O]=1,Yo(t,i,o,s,O),Yo(t,i,o,O,d))}function gs(t,i){for(var o=[t[0]],s=1,d=0,v=t.length;s<v;s++)vs(t[s],t[d])>i&&(o.push(t[s]),d=s);return d<v-1&&o.push(t[v-1]),o}var qo;function Ja(t,i,o,s,d){var v=s?qo:oi(t,o),O=oi(i,o),F,V,oe;for(qo=O;;){if(!(v|O))return[t,i];if(v&O)return!1;F=v||O,V=to(t,i,F,o,d),oe=oi(V,o),F===v?(t=V,v=oe):(i=V,O=oe)}}function to(t,i,o,s,d){var v=i.x-t.x,O=i.y-t.y,F=s.min,V=s.max,oe,xe;return o&8?(oe=t.x+v*(V.y-t.y)/O,xe=V.y):o&4?(oe=t.x+v*(F.y-t.y)/O,xe=F.y):o&2?(oe=V.x,xe=t.y+O*(V.x-t.x)/v):o&1&&(oe=F.x,xe=t.y+O*(F.x-t.x)/v),new C(oe,xe,d)}function oi(t,i){var o=0;return t.x<i.min.x?o|=1:t.x>i.max.x&&(o|=2),t.y<i.min.y?o|=4:t.y>i.max.y&&(o|=8),o}function vs(t,i){var o=i.x-t.x,s=i.y-t.y;return o*o+s*s}function ai(t,i,o,s){var d=i.x,v=i.y,O=o.x-d,F=o.y-v,V=O*O+F*F,oe;return V>0&&(oe=((t.x-d)*O+(t.y-v)*F)/V,oe>1?(d=o.x,v=o.y):oe>0&&(d+=O*oe,v+=F*oe)),O=t.x-d,F=t.y-v,s?O*O+F*F:new C(d,v)}function Gt(t){return!K(t[0])||typeof t[0][0]!="object"&&typeof t[0][0]<"u"}function Qa(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Gt(t)}function Xa(t,i){var o,s,d,v,O,F,V,oe;if(!t||t.length===0)throw new Error("latlngs not passed");Gt(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var xe=we([0,0]),je=Te(t),Ye=je.getNorthWest().distanceTo(je.getSouthWest())*je.getNorthEast().distanceTo(je.getNorthWest());Ye<1700&&(xe=Ko(t));var St=t.length,_t=[];for(o=0;o<St;o++){var Ut=we(t[o]);_t.push(i.project(we([Ut.lat-xe.lat,Ut.lng-xe.lng])))}for(o=0,s=0;o<St-1;o++)s+=_t[o].distanceTo(_t[o+1])/2;if(s===0)oe=_t[0];else for(o=0,v=0;o<St-1;o++)if(O=_t[o],F=_t[o+1],d=O.distanceTo(F),v+=d,v>s){V=(v-s)/d,oe=[F.x-V*(F.x-O.x),F.y-V*(F.y-O.y)];break}var It=i.unproject(W(oe));return we([It.lat+xe.lat,It.lng+xe.lng])}var el={__proto__:null,simplify:eo,pointToSegmentDistance:qa,closestPointOnSegment:ps,clipSegment:Ja,_getEdgeIntersection:to,_getBitCode:oi,_sqClosestPointOnSegment:ai,isFlat:Gt,_flat:Qa,polylineCenter:Xa},Jo={project:function(t){return new C(t.lng,t.lat)},unproject:function(t){return new ke(t.y,t.x)},bounds:new T([-180,-90],[180,90])},Qo={R:6378137,R_MINOR:6356752314245179e-9,bounds:new T([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(t){var i=Math.PI/180,o=this.R,s=t.lat*i,d=this.R_MINOR/o,v=Math.sqrt(1-d*d),O=v*Math.sin(s),F=Math.tan(Math.PI/4-s/2)/Math.pow((1-O)/(1+O),v/2);return s=-o*Math.log(Math.max(F,1e-10)),new C(t.lng*i*o,s)},unproject:function(t){for(var i=180/Math.PI,o=this.R,s=this.R_MINOR/o,d=Math.sqrt(1-s*s),v=Math.exp(-t.y/o),O=Math.PI/2-2*Math.atan(v),F=0,V=.1,oe;F<15&&Math.abs(V)>1e-7;F++)oe=d*Math.sin(O),oe=Math.pow((1-oe)/(1+oe),d/2),V=Math.PI/2-2*Math.atan(v*oe)-O,O+=V;return new ke(O*i,t.x*i/o)}},ys={__proto__:null,LonLat:Jo,Mercator:Qo,SphericalMercator:Ce},_s=_({},$e,{code:"EPSG:3395",projection:Qo,transformation:function(){var t=.5/(Math.PI*Qo.R);return it(t,.5,-t,.5)}()}),tl=_({},$e,{code:"EPSG:4326",projection:Jo,transformation:it(1/180,1,-1/180,.5)}),ws=_({},fe,{projection:Jo,transformation:it(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,i){var o=i.lng-t.lng,s=i.lat-t.lat;return Math.sqrt(o*o+s*s)},infinite:!0});fe.Earth=$e,fe.EPSG3395=_s,fe.EPSG3857=ve,fe.EPSG900913=Vt,fe.EPSG4326=tl,fe.Simple=ws;var an=Oe.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[P(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[P(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var i=t.target;if(i.hasLayer(this)){if(this._map=i,this._zoomAnimated=i._zoomAnimated,this.getEvents){var o=this.getEvents();i.on(o,this),this.once("remove",function(){i.off(o,this)},this)}this.onAdd(i),this.fire("add"),i.fire("layeradd",{layer:this})}}});Je.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var i=P(t);return this._layers[i]?this:(this._layers[i]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var i=P(t);return this._layers[i]?(this._loaded&&t.onRemove(this),delete this._layers[i],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return P(t)in this._layers},eachLayer:function(t,i){for(var o in this._layers)t.call(i,this._layers[o]);return this},_addLayers:function(t){t=t?K(t)?t:[t]:[];for(var i=0,o=t.length;i<o;i++)this.addLayer(t[i])},_addZoomLimit:function(t){(!isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom))&&(this._zoomBoundLayers[P(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var i=P(t);this._zoomBoundLayers[i]&&(delete this._zoomBoundLayers[i],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,i=-1/0,o=this._getZoomSpan();for(var s in this._zoomBoundLayers){var d=this._zoomBoundLayers[s].options;t=d.minZoom===void 0?t:Math.min(t,d.minZoom),i=d.maxZoom===void 0?i:Math.max(i,d.maxZoom)}this._layersMaxZoom=i===-1/0?void 0:i,this._layersMinZoom=t===1/0?void 0:t,o!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Un=an.extend({initialize:function(t,i){I(this,i),this._layers={};var o,s;if(t)for(o=0,s=t.length;o<s;o++)this.addLayer(t[o])},addLayer:function(t){var i=this.getLayerId(t);return this._layers[i]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var i=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[i]&&this._map.removeLayer(this._layers[i]),delete this._layers[i],this},hasLayer:function(t){var i=typeof t=="number"?t:this.getLayerId(t);return i in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var i=Array.prototype.slice.call(arguments,1),o,s;for(o in this._layers)s=this._layers[o],s[t]&&s[t].apply(s,i);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,i){for(var o in this._layers)t.call(i,this._layers[o]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return P(t)}}),vr=function(t,i){return new Un(t,i)},Ln=Un.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),Un.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),Un.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new Ee;for(var i in this._layers){var o=this._layers[i];t.extend(o.getBounds?o.getBounds():o.getLatLng())}return t}}),nl=function(t,i){return new Ln(t,i)},li=re.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){I(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,i){var o=this._getIconUrl(t);if(!o){if(t==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var s=this._createImg(o,i&&i.tagName==="IMG"?i:null);return this._setIconStyles(s,t),(this.options.crossOrigin||this.options.crossOrigin==="")&&(s.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),s},_setIconStyles:function(t,i){var o=this.options,s=o[i+"Size"];typeof s=="number"&&(s=[s,s]);var d=W(s),v=W(i==="shadow"&&o.shadowAnchor||o.iconAnchor||d&&d.divideBy(2,!0));t.className="leaflet-marker-"+i+" "+(o.className||""),v&&(t.style.marginLeft=-v.x+"px",t.style.marginTop=-v.y+"px"),d&&(t.style.width=d.x+"px",t.style.height=d.y+"px")},_createImg:function(t,i){return i=i||document.createElement("img"),i.src=t,i},_getIconUrl:function(t){return Ie.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function il(t){return new li(t)}var Ni=li.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return typeof Ni.imagePath!="string"&&(Ni.imagePath=this._detectIconPath()),(this.options.imagePath||Ni.imagePath)+li.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var i=function(o,s,d){var v=s.exec(o);return v&&v[d]};return t=i(t,/^url\((['"])?(.+)\1\)$/,2),t&&i(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=Ke("div","leaflet-default-icon-path",document.body),i=cr(t,"background-image")||cr(t,"backgroundImage");if(document.body.removeChild(t),i=this._stripUrl(i),i)return i;var o=document.querySelector('link[href$="leaflet.css"]');return o?o.href.substring(0,o.href.length-11-1):""}}),Xo=$t.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new on(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ge(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&lt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var i=this._marker,o=i._map,s=this._marker.options.autoPanSpeed,d=this._marker.options.autoPanPadding,v=Tn(i._icon),O=o.getPixelBounds(),F=o.getPixelOrigin(),V=Y(O.min._subtract(F).add(d),O.max._subtract(F).subtract(d));if(!V.contains(v)){var oe=W((Math.max(V.max.x,v.x)-V.max.x)/(O.max.x-V.max.x)-(Math.min(V.min.x,v.x)-V.min.x)/(O.min.x-V.min.x),(Math.max(V.max.y,v.y)-V.max.y)/(O.max.y-V.max.y)-(Math.min(V.min.y,v.y)-V.min.y)/(O.min.y-V.min.y)).multiplyBy(s);o.panBy(oe,{animate:!1}),this._draggable._newPos._add(oe),this._draggable._startPos._add(oe),gt(i._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=B(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(Be(this._panRequest),this._panRequest=B(this._adjustPan.bind(this,t)))},_onDrag:function(t){var i=this._marker,o=i._shadow,s=Tn(i._icon),d=i._map.layerPointToLatLng(s);o&&gt(o,s),i._latlng=d,t.latlng=d,t.oldLatLng=this._oldLatLng,i.fire("move",t).fire("drag",t)},_onDragEnd:function(t){Be(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),On=an.extend({options:{icon:new Ni,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,i){I(this,i),this._latlng=we(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var i=this._latlng;return this._latlng=we(t),this.update(),this.fire("move",{oldLatLng:i,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,i="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),o=t.icon.createIcon(this._icon),s=!1;o!==this._icon&&(this._icon&&this._removeIcon(),s=!0,t.title&&(o.title=t.title),o.tagName==="IMG"&&(o.alt=t.alt||"")),Ge(o,i),t.keyboard&&(o.tabIndex="0",o.setAttribute("role","button")),this._icon=o,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&He(o,"focus",this._panOnFocus,this);var d=t.icon.createShadow(this._shadow),v=!1;d!==this._shadow&&(this._removeShadow(),v=!0),d&&(Ge(d,i),d.alt=""),this._shadow=d,t.opacity<1&&this._updateOpacity(),s&&this.getPane().appendChild(this._icon),this._initInteraction(),d&&v&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ot(this._icon,"focus",this._panOnFocus,this),ut(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ut(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&gt(this._icon,t),this._shadow&&gt(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var i=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(i)},_initInteraction:function(){if(this.options.interactive&&(Ge(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Xo)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Xo(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&Mt(this._icon,t),this._shadow&&Mt(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var i=this.options.icon.options,o=i.iconSize?W(i.iconSize):W(0,0),s=i.iconAnchor?W(i.iconAnchor):W(0,0);t.panInside(this._latlng,{paddingTopLeft:s,paddingBottomRight:o.subtract(s)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Cs(t,i){return new On(t,i)}var Zn=an.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return I(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),no=Zn.extend({options:{fill:!0,radius:10},initialize:function(t,i){I(this,i),this._latlng=we(t),this._radius=this.options.radius},setLatLng:function(t){var i=this._latlng;return this._latlng=we(t),this.redraw(),this.fire("move",{oldLatLng:i,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var i=t&&t.radius||this._radius;return Zn.prototype.setStyle.call(this,t),this.setRadius(i),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,i=this._radiusY||t,o=this._clickTolerance(),s=[t+o,i+o];this._pxBounds=new T(this._point.subtract(s),this._point.add(s))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function rl(t,i){return new no(t,i)}var io=no.extend({initialize:function(t,i,o){if(typeof i=="number"&&(i=_({},o,{radius:i})),I(this,i),this._latlng=we(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new Ee(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:Zn.prototype.setStyle,_project:function(){var t=this._latlng.lng,i=this._latlng.lat,o=this._map,s=o.options.crs;if(s.distance===$e.distance){var d=Math.PI/180,v=this._mRadius/$e.R/d,O=o.project([i+v,t]),F=o.project([i-v,t]),V=O.add(F).divideBy(2),oe=o.unproject(V).lat,xe=Math.acos((Math.cos(v*d)-Math.sin(i*d)*Math.sin(oe*d))/(Math.cos(i*d)*Math.cos(oe*d)))/d;(isNaN(xe)||xe===0)&&(xe=v/Math.cos(Math.PI/180*i)),this._point=V.subtract(o.getPixelOrigin()),this._radius=isNaN(xe)?0:V.x-o.project([oe,t-xe]).x,this._radiusY=V.y-O.y}else{var je=s.unproject(s.project(this._latlng).subtract([this._mRadius,0]));this._point=o.latLngToLayerPoint(this._latlng),this._radius=this._point.x-o.latLngToLayerPoint(je).x}this._updateBounds()}});function yr(t,i,o){return new io(t,i,o)}var jt=Zn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,i){I(this,i),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var i=1/0,o=null,s=ai,d,v,O=0,F=this._parts.length;O<F;O++)for(var V=this._parts[O],oe=1,xe=V.length;oe<xe;oe++){d=V[oe-1],v=V[oe];var je=s(t,d,v,!0);je<i&&(i=je,o=s(t,d,v))}return o&&(o.distance=Math.sqrt(i)),o},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Xa(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,i){return i=i||this._defaultShape(),t=we(t),i.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new Ee,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return Gt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var i=[],o=Gt(t),s=0,d=t.length;s<d;s++)o?(i[s]=we(t[s]),this._bounds.extend(i[s])):i[s]=this._convertLatLngs(t[s]);return i},_project:function(){var t=new T;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),i=new C(t,t);this._rawPxBounds&&(this._pxBounds=new T([this._rawPxBounds.min.subtract(i),this._rawPxBounds.max.add(i)]))},_projectLatlngs:function(t,i,o){var s=t[0]instanceof ke,d=t.length,v,O;if(s){for(O=[],v=0;v<d;v++)O[v]=this._map.latLngToLayerPoint(t[v]),o.extend(O[v]);i.push(O)}else for(v=0;v<d;v++)this._projectLatlngs(t[v],i,o)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}var i=this._parts,o,s,d,v,O,F,V;for(o=0,d=0,v=this._rings.length;o<v;o++)for(V=this._rings[o],s=0,O=V.length;s<O-1;s++)F=Ja(V[s],V[s+1],t,s,!0),F&&(i[d]=i[d]||[],i[d].push(F[0]),(F[1]!==V[s+1]||s===O-2)&&(i[d].push(F[1]),d++))}},_simplifyPoints:function(){for(var t=this._parts,i=this.options.smoothFactor,o=0,s=t.length;o<s;o++)t[o]=eo(t[o],i)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,i){var o,s,d,v,O,F,V=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(o=0,v=this._parts.length;o<v;o++)for(F=this._parts[o],s=0,O=F.length,d=O-1;s<O;d=s++)if(!(!i&&s===0)&&qa(t,F[d],F[s])<=V)return!0;return!1}});function xs(t,i){return new jt(t,i)}jt._flat=Qa;var Nn=jt.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ya(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var i=jt.prototype._convertLatLngs.call(this,t),o=i.length;return o>=2&&i[0]instanceof ke&&i[0].equals(i[o-1])&&i.pop(),i},_setLatLngs:function(t){jt.prototype._setLatLngs.call(this,t),Gt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Gt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,i=this.options.weight,o=new C(i,i);if(t=new T(t.min.subtract(o),t.max.add(o)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}for(var s=0,d=this._rings.length,v;s<d;s++)v=Go(this._rings[s],t,!0),v.length&&this._parts.push(v)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var i=!1,o,s,d,v,O,F,V,oe;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(v=0,V=this._parts.length;v<V;v++)for(o=this._parts[v],O=0,oe=o.length,F=oe-1;O<oe;F=O++)s=o[O],d=o[F],s.y>t.y!=d.y>t.y&&t.x<(d.x-s.x)*(t.y-s.y)/(d.y-s.y)+s.x&&(i=!i);return i||jt.prototype._containsPoint.call(this,t,!0)}});function Ss(t,i){return new Nn(t,i)}var pn=Ln.extend({initialize:function(t,i){I(this,i),this._layers={},t&&this.addData(t)},addData:function(t){var i=K(t)?t:t.features,o,s,d;if(i){for(o=0,s=i.length;o<s;o++)d=i[o],(d.geometries||d.geometry||d.features||d.coordinates)&&this.addData(d);return this}var v=this.options;if(v.filter&&!v.filter(t))return this;var O=Mi(t,v);return O?(O.feature=so(t),O.defaultOptions=O.options,this.resetStyle(O),v.onEachFeature&&v.onEachFeature(t,O),this.addLayer(O)):this},resetStyle:function(t){return t===void 0?this.eachLayer(this.resetStyle,this):(t.options=_({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer(function(i){this._setLayerStyle(i,t)},this)},_setLayerStyle:function(t,i){t.setStyle&&(typeof i=="function"&&(i=i(t.feature)),t.setStyle(i))}});function Mi(t,i){var o=t.type==="Feature"?t.geometry:t,s=o?o.coordinates:null,d=[],v=i&&i.pointToLayer,O=i&&i.coordsToLatLng||oo,F,V,oe,xe;if(!s&&!o)return null;switch(o.type){case"Point":return F=O(s),ro(v,t,F,i);case"MultiPoint":for(oe=0,xe=s.length;oe<xe;oe++)F=O(s[oe]),d.push(ro(v,t,F,i));return new Ln(d);case"LineString":case"MultiLineString":return V=_r(s,o.type==="LineString"?0:1,O),new jt(V,i);case"Polygon":case"MultiPolygon":return V=_r(s,o.type==="Polygon"?1:2,O),new Nn(V,i);case"GeometryCollection":for(oe=0,xe=o.geometries.length;oe<xe;oe++){var je=Mi({geometry:o.geometries[oe],type:"Feature",properties:t.properties},i);je&&d.push(je)}return new Ln(d);case"FeatureCollection":for(oe=0,xe=o.features.length;oe<xe;oe++){var Ye=Mi(o.features[oe],i);Ye&&d.push(Ye)}return new Ln(d);default:throw new Error("Invalid GeoJSON object.")}}function ro(t,i,o,s){return t?t(i,o):new On(o,s&&s.markersInheritOptions&&s)}function oo(t){return new ke(t[1],t[0],t[2])}function _r(t,i,o){for(var s=[],d=0,v=t.length,O;d<v;d++)O=i?_r(t[d],i-1,o):(o||oo)(t[d]),s.push(O);return s}function ao(t,i){return t=we(t),t.alt!==void 0?[G(t.lng,i),G(t.lat,i),G(t.alt,i)]:[G(t.lng,i),G(t.lat,i)]}function lo(t,i,o,s){for(var d=[],v=0,O=t.length;v<O;v++)d.push(i?lo(t[v],Gt(t[v])?0:i-1,o,s):ao(t[v],s));return!i&&o&&d.length>0&&d.push(d[0].slice()),d}function zi(t,i){return t.feature?_({},t.feature,{geometry:i}):so(i)}function so(t){return t.type==="Feature"||t.type==="FeatureCollection"?t:{type:"Feature",properties:{},geometry:t}}var ea={toGeoJSON:function(t){return zi(this,{type:"Point",coordinates:ao(this.getLatLng(),t)})}};On.include(ea),io.include(ea),no.include(ea),jt.include({toGeoJSON:function(t){var i=!Gt(this._latlngs),o=lo(this._latlngs,i?1:0,!1,t);return zi(this,{type:(i?"Multi":"")+"LineString",coordinates:o})}}),Nn.include({toGeoJSON:function(t){var i=!Gt(this._latlngs),o=i&&!Gt(this._latlngs[0]),s=lo(this._latlngs,o?2:i?1:0,!0,t);return i||(s=[s]),zi(this,{type:(o?"Multi":"")+"Polygon",coordinates:s})}}),Un.include({toMultiPoint:function(t){var i=[];return this.eachLayer(function(o){i.push(o.toGeoJSON(t).geometry.coordinates)}),zi(this,{type:"MultiPoint",coordinates:i})},toGeoJSON:function(t){var i=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(i==="MultiPoint")return this.toMultiPoint(t);var o=i==="GeometryCollection",s=[];return this.eachLayer(function(d){if(d.toGeoJSON){var v=d.toGeoJSON(t);if(o)s.push(v.geometry);else{var O=so(v);O.type==="FeatureCollection"?s.push.apply(s,O.features):s.push(O)}}}),o?zi(this,{geometries:s,type:"GeometryCollection"}):{type:"FeatureCollection",features:s}}});function ol(t,i){return new pn(t,i)}var ln=ol,Wn=an.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,i,o){this._url=t,this._bounds=Te(i),I(this,o)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ge(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ut(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&Si(this._image),this},bringToBack:function(){return this._map&&Pn(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=Te(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._url.tagName==="IMG",i=this._image=t?this._url:Ke("img");if(Ge(i,"leaflet-image-layer"),this._zoomAnimated&&Ge(i,"leaflet-zoom-animated"),this.options.className&&Ge(i,this.options.className),i.onselectstart=R,i.onmousemove=R,i.onload=b(this.fire,this,"load"),i.onerror=b(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(i.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t){this._url=i.src;return}i.src=this._url,i.alt=this.options.alt},_animateZoom:function(t){var i=this._map.getZoomScale(t.zoom),o=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;tn(this._image,o,i)},_reset:function(){var t=this._image,i=new T(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),o=i.getSize();gt(t,i.min),t.style.width=o.x+"px",t.style.height=o.y+"px"},_updateOpacity:function(){Mt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),al=function(t,i,o){return new Wn(t,i,o)},ta=Wn.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t=this._url.tagName==="VIDEO",i=this._image=t?this._url:Ke("video");if(Ge(i,"leaflet-image-layer"),this._zoomAnimated&&Ge(i,"leaflet-zoom-animated"),this.options.className&&Ge(i,this.options.className),i.onselectstart=R,i.onmousemove=R,i.onloadeddata=b(this.fire,this,"load"),t){for(var o=i.getElementsByTagName("source"),s=[],d=0;d<o.length;d++)s.push(o[d].src);this._url=o.length>0?s:[i.src];return}K(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(i.style,"objectFit")&&(i.style.objectFit="fill"),i.autoplay=!!this.options.autoplay,i.loop=!!this.options.loop,i.muted=!!this.options.muted,i.playsInline=!!this.options.playsInline;for(var v=0;v<this._url.length;v++){var O=Ke("source");O.src=this._url[v],i.appendChild(O)}}});function ll(t,i,o){return new ta(t,i,o)}var na=Wn.extend({_initImage:function(){var t=this._image=this._url;Ge(t,"leaflet-image-layer"),this._zoomAnimated&&Ge(t,"leaflet-zoom-animated"),this.options.className&&Ge(t,this.options.className),t.onselectstart=R,t.onmousemove=R}});function ia(t,i,o){return new na(t,i,o)}var mn=an.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,i){t&&(t instanceof ke||K(t))?(this._latlng=we(t),I(this,i)):(I(this,t),this._source=i),this.options.content&&(this._content=this.options.content)},openOn:function(t){return t=arguments.length?t:this._source._map,t.hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&Mt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&Mt(this._container,1),this.bringToFront(),this.options.interactive&&(Ge(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(Mt(this._container,0),this._removeTimeout=setTimeout(b(ut,void 0,this._container),200)):ut(this._container),this.options.interactive&&(lt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=we(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Si(this._container),this},bringToBack:function(){return this._map&&Pn(this._container),this},_prepareOpen:function(t){var i=this._source;if(!i._map)return!1;if(i instanceof Ln){i=null;var o=this._source._layers;for(var s in o)if(o[s]._map){i=o[s];break}if(!i)return!1;this._source=i}if(!t)if(i.getCenter)t=i.getCenter();else if(i.getLatLng)t=i.getLatLng();else if(i.getBounds)t=i.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,i=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof i=="string")t.innerHTML=i;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(i)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),i=W(this.options.offset),o=this._getAnchor();this._zoomAnimated?gt(this._container,t.add(o)):i=i.add(t).add(o);var s=this._containerBottom=-i.y,d=this._containerLeft=-Math.round(this._containerWidth/2)+i.x;this._container.style.bottom=s+"px",this._container.style.left=d+"px"}},_getAnchor:function(){return[0,0]}});Je.include({_initOverlay:function(t,i,o,s){var d=i;return d instanceof t||(d=new t(s).setContent(i)),o&&d.setLatLng(o),d}}),an.include({_initOverlay:function(t,i,o,s){var d=o;return d instanceof t?(I(d,s),d._source=this):(d=i&&!s?i:new t(s,this),d.setContent(o)),d}});var uo=mn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t=arguments.length?t:this._source._map,!t.hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,mn.prototype.openOn.call(this,t)},onAdd:function(t){mn.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Zn||this._source.on("preclick",fn))},onRemove:function(t){mn.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Zn||this._source.off("preclick",fn))},getEvents:function(){var t=mn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",i=this._container=Ke("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),o=this._wrapper=Ke("div",t+"-content-wrapper",i);if(this._contentNode=Ke("div",t+"-content",o),pr(i),qr(this._contentNode),He(i,"contextmenu",fn),this._tipContainer=Ke("div",t+"-tip-container",i),this._tip=Ke("div",t+"-tip",this._tipContainer),this.options.closeButton){var s=this._closeButton=Ke("a",t+"-close-button",i);s.setAttribute("role","button"),s.setAttribute("aria-label","Close popup"),s.href="#close",s.innerHTML='<span aria-hidden="true">&#215;</span>',He(s,"click",function(d){ft(d),this.close()},this)}},_updateLayout:function(){var t=this._contentNode,i=t.style;i.width="",i.whiteSpace="nowrap";var o=t.offsetWidth;o=Math.min(o,this.options.maxWidth),o=Math.max(o,this.options.minWidth),i.width=o+1+"px",i.whiteSpace="",i.height="";var s=t.offsetHeight,d=this.options.maxHeight,v="leaflet-popup-scrolled";d&&s>d?(i.height=d+"px",Ge(t,v)):lt(t,v),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var i=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),o=this._getAnchor();gt(this._container,i.add(o))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var t=this._map,i=parseInt(cr(this._container,"marginBottom"),10)||0,o=this._container.offsetHeight+i,s=this._containerWidth,d=new C(this._containerLeft,-o-this._containerBottom);d._add(Tn(this._container));var v=t.layerPointToContainerPoint(d),O=W(this.options.autoPanPadding),F=W(this.options.autoPanPaddingTopLeft||O),V=W(this.options.autoPanPaddingBottomRight||O),oe=t.getSize(),xe=0,je=0;v.x+s+V.x>oe.x&&(xe=v.x+s-oe.x+V.x),v.x-xe-F.x<0&&(xe=v.x-F.x),v.y+o+V.y>oe.y&&(je=v.y+o-oe.y+V.y),v.y-je-F.y<0&&(je=v.y-F.y),(xe||je)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([xe,je]))}},_getAnchor:function(){return W(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Ii=function(t,i){return new uo(t,i)};Je.mergeOptions({closePopupOnClick:!0}),Je.include({openPopup:function(t,i,o){return this._initOverlay(uo,t,i,o).openOn(this),this},closePopup:function(t){return t=arguments.length?t:this._popup,t&&t.close(),this}}),an.include({bindPopup:function(t,i){return this._popup=this._initOverlay(uo,this._popup,t,i),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof Ln||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(!(!this._popup||!this._map)){rn(t);var i=t.layer||t.target;if(this._popup._source===i&&!(i instanceof Zn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng);return}this._popup._source=i,this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){t.originalEvent.keyCode===13&&this._openPopup(t)}});var Ai=mn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){mn.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){mn.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=mn.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip",i=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Ke("div",i),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+P(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var i,o,s=this._map,d=this._container,v=s.latLngToContainerPoint(s.getCenter()),O=s.layerPointToContainerPoint(t),F=this.options.direction,V=d.offsetWidth,oe=d.offsetHeight,xe=W(this.options.offset),je=this._getAnchor();F==="top"?(i=V/2,o=oe):F==="bottom"?(i=V/2,o=0):F==="center"?(i=V/2,o=oe/2):F==="right"?(i=0,o=oe/2):F==="left"?(i=V,o=oe/2):O.x<v.x?(F="right",i=0,o=oe/2):(F="left",i=V+(xe.x+je.x)*2,o=oe/2),t=t.subtract(W(i,o,!0)).add(xe).add(je),lt(d,"leaflet-tooltip-right"),lt(d,"leaflet-tooltip-left"),lt(d,"leaflet-tooltip-top"),lt(d,"leaflet-tooltip-bottom"),Ge(d,"leaflet-tooltip-"+F),gt(d,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&Mt(this._container,t)},_animateZoom:function(t){var i=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(i)},_getAnchor:function(){return W(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),wr=function(t,i){return new Ai(t,i)};Je.include({openTooltip:function(t,i,o){return this._initOverlay(Ai,t,i,o).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),an.include({bindTooltip:function(t,i){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ai,this._tooltip,t,i),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(!(!t&&this._tooltipHandlersAdded)){var i=t?"off":"on",o={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?o.add=this._openTooltip:(o.mouseover=this._openTooltip,o.mouseout=this.closeTooltip,o.click=this._openTooltip,this._map?this._addFocusListeners():o.add=this._addFocusListeners),this._tooltip.options.sticky&&(o.mousemove=this._moveTooltip),this[i](o),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof Ln||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var i=typeof t.getElement=="function"&&t.getElement();i&&(He(i,"focus",function(){this._tooltip._source=t,this.openTooltip()},this),He(i,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var i=typeof t.getElement=="function"&&t.getElement();i&&i.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var i=this;this._map.once("moveend",function(){i._openOnceFlag=!1,i._openTooltip(t)});return}this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0)}},_moveTooltip:function(t){var i=t.latlng,o,s;this._tooltip.options.sticky&&t.originalEvent&&(o=this._map.mouseEventToContainerPoint(t.originalEvent),s=this._map.containerPointToLayerPoint(o),i=this._map.layerPointToLatLng(s)),this._tooltip.setLatLng(i)}});var co=li.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var i=t&&t.tagName==="DIV"?t:document.createElement("div"),o=this.options;if(o.html instanceof Element?(Hr(i),i.appendChild(o.html)):i.innerHTML=o.html!==!1?o.html:"",o.bgPos){var s=W(o.bgPos);i.style.backgroundPosition=-s.x+"px "+-s.y+"px"}return this._setIconStyles(i,"icon"),i},createShadow:function(){return null}});function sl(t){return new co(t)}li.Default=Ni;var Hn=an.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ie.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){I(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),ut(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Si(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Pn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=w(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof C?t:new C(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var i=this.getPane().children,o=-t(-1/0,1/0),s=0,d=i.length,v;s<d;s++)v=i[s].style.zIndex,i[s]!==this._container&&v&&(o=t(o,+v));isFinite(o)&&(this.options.zIndex=o+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ie.ielt9){Mt(this._container,this.options.opacity);var t=+new Date,i=!1,o=!1;for(var s in this._tiles){var d=this._tiles[s];if(!(!d.current||!d.loaded)){var v=Math.min(1,(t-d.loaded)/200);Mt(d.el,v),v<1?i=!0:(d.active?o=!0:this._onOpaqueTile(d),d.active=!0)}}o&&!this._noPrune&&this._pruneTiles(),i&&(Be(this._fadeFrame),this._fadeFrame=B(this._updateOpacity,this))}},_onOpaqueTile:R,_initContainer:function(){this._container||(this._container=Ke("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,i=this.options.maxZoom;if(t!==void 0){for(var o in this._levels)o=Number(o),this._levels[o].el.children.length||o===t?(this._levels[o].el.style.zIndex=i-Math.abs(t-o),this._onUpdateLevel(o)):(ut(this._levels[o].el),this._removeTilesAtZoom(o),this._onRemoveLevel(o),delete this._levels[o]);var s=this._levels[t],d=this._map;return s||(s=this._levels[t]={},s.el=Ke("div","leaflet-tile-container leaflet-zoom-animated",this._container),s.el.style.zIndex=i,s.origin=d.project(d.unproject(d.getPixelOrigin()),t).round(),s.zoom=t,this._setZoomTransform(s,d.getCenter(),d.getZoom()),R(s.el.offsetWidth),this._onCreateLevel(s)),this._level=s,s}},_onUpdateLevel:R,_onRemoveLevel:R,_onCreateLevel:R,_pruneTiles:function(){if(this._map){var t,i,o=this._map.getZoom();if(o>this.options.maxZoom||o<this.options.minZoom){this._removeAllTiles();return}for(t in this._tiles)i=this._tiles[t],i.retain=i.current;for(t in this._tiles)if(i=this._tiles[t],i.current&&!i.active){var s=i.coords;this._retainParent(s.x,s.y,s.z,s.z-5)||this._retainChildren(s.x,s.y,s.z,s.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var i in this._tiles)this._tiles[i].coords.z===t&&this._removeTile(i)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)ut(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,i,o,s){var d=Math.floor(t/2),v=Math.floor(i/2),O=o-1,F=new C(+d,+v);F.z=+O;var V=this._tileCoordsToKey(F),oe=this._tiles[V];return oe&&oe.active?(oe.retain=!0,!0):(oe&&oe.loaded&&(oe.retain=!0),O>s?this._retainParent(d,v,O,s):!1)},_retainChildren:function(t,i,o,s){for(var d=2*t;d<2*t+2;d++)for(var v=2*i;v<2*i+2;v++){var O=new C(d,v);O.z=o+1;var F=this._tileCoordsToKey(O),V=this._tiles[F];if(V&&V.active){V.retain=!0;continue}else V&&V.loaded&&(V.retain=!0);o+1<s&&this._retainChildren(d,v,o+1,s)}},_resetView:function(t){var i=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),i,i)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var i=this.options;return i.minNativeZoom!==void 0&&t<i.minNativeZoom?i.minNativeZoom:i.maxNativeZoom!==void 0&&i.maxNativeZoom<t?i.maxNativeZoom:t},_setView:function(t,i,o,s){var d=Math.round(i);this.options.maxZoom!==void 0&&d>this.options.maxZoom||this.options.minZoom!==void 0&&d<this.options.minZoom?d=void 0:d=this._clampZoom(d);var v=this.options.updateWhenZooming&&d!==this._tileZoom;(!s||v)&&(this._tileZoom=d,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),d!==void 0&&this._update(t),o||this._pruneTiles(),this._noPrune=!!o),this._setZoomTransforms(t,i)},_setZoomTransforms:function(t,i){for(var o in this._levels)this._setZoomTransform(this._levels[o],t,i)},_setZoomTransform:function(t,i,o){var s=this._map.getZoomScale(o,t.zoom),d=t.origin.multiplyBy(s).subtract(this._map._getNewPixelOrigin(i,o)).round();Ie.any3d?tn(t.el,d,s):gt(t.el,d)},_resetGrid:function(){var t=this._map,i=t.options.crs,o=this._tileSize=this.getTileSize(),s=this._tileZoom,d=this._map.getPixelWorldBounds(this._tileZoom);d&&(this._globalTileRange=this._pxBoundsToTileRange(d)),this._wrapX=i.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,i.wrapLng[0]],s).x/o.x),Math.ceil(t.project([0,i.wrapLng[1]],s).x/o.y)],this._wrapY=i.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([i.wrapLat[0],0],s).y/o.x),Math.ceil(t.project([i.wrapLat[1],0],s).y/o.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(t){var i=this._map,o=i._animatingZoom?Math.max(i._animateToZoom,i.getZoom()):i.getZoom(),s=i.getZoomScale(o,this._tileZoom),d=i.project(t,this._tileZoom).floor(),v=i.getSize().divideBy(s*2);return new T(d.subtract(v),d.add(v))},_update:function(t){var i=this._map;if(i){var o=this._clampZoom(i.getZoom());if(t===void 0&&(t=i.getCenter()),this._tileZoom!==void 0){var s=this._getTiledPixelBounds(t),d=this._pxBoundsToTileRange(s),v=d.getCenter(),O=[],F=this.options.keepBuffer,V=new T(d.getBottomLeft().subtract([F,-F]),d.getTopRight().add([F,-F]));if(!(isFinite(d.min.x)&&isFinite(d.min.y)&&isFinite(d.max.x)&&isFinite(d.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var oe in this._tiles){var xe=this._tiles[oe].coords;(xe.z!==this._tileZoom||!V.contains(new C(xe.x,xe.y)))&&(this._tiles[oe].current=!1)}if(Math.abs(o-this._tileZoom)>1){this._setView(t,o);return}for(var je=d.min.y;je<=d.max.y;je++)for(var Ye=d.min.x;Ye<=d.max.x;Ye++){var St=new C(Ye,je);if(St.z=this._tileZoom,!!this._isValidTile(St)){var _t=this._tiles[this._tileCoordsToKey(St)];_t?_t.current=!0:O.push(St)}}if(O.sort(function(It,ji){return It.distanceTo(v)-ji.distanceTo(v)}),O.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ut=document.createDocumentFragment();for(Ye=0;Ye<O.length;Ye++)this._addTile(O[Ye],Ut);this._level.el.appendChild(Ut)}}}},_isValidTile:function(t){var i=this._map.options.crs;if(!i.infinite){var o=this._globalTileRange;if(!i.wrapLng&&(t.x<o.min.x||t.x>o.max.x)||!i.wrapLat&&(t.y<o.min.y||t.y>o.max.y))return!1}if(!this.options.bounds)return!0;var s=this._tileCoordsToBounds(t);return Te(this.options.bounds).overlaps(s)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var i=this._map,o=this.getTileSize(),s=t.scaleBy(o),d=s.add(o),v=i.unproject(s,t.z),O=i.unproject(d,t.z);return[v,O]},_tileCoordsToBounds:function(t){var i=this._tileCoordsToNwSe(t),o=new Ee(i[0],i[1]);return this.options.noWrap||(o=this._map.wrapLatLngBounds(o)),o},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var i=t.split(":"),o=new C(+i[0],+i[1]);return o.z=+i[2],o},_removeTile:function(t){var i=this._tiles[t];i&&(ut(i.el),delete this._tiles[t],this.fire("tileunload",{tile:i.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){Ge(t,"leaflet-tile");var i=this.getTileSize();t.style.width=i.x+"px",t.style.height=i.y+"px",t.onselectstart=R,t.onmousemove=R,Ie.ielt9&&this.options.opacity<1&&Mt(t,this.options.opacity)},_addTile:function(t,i){var o=this._getTilePos(t),s=this._tileCoordsToKey(t),d=this.createTile(this._wrapCoords(t),b(this._tileReady,this,t));this._initTile(d),this.createTile.length<2&&B(b(this._tileReady,this,t,null,d)),gt(d,o),this._tiles[s]={el:d,coords:t,current:!0},i.appendChild(d),this.fire("tileloadstart",{tile:d,coords:t})},_tileReady:function(t,i,o){i&&this.fire("tileerror",{error:i,tile:o,coords:t});var s=this._tileCoordsToKey(t);o=this._tiles[s],o&&(o.loaded=+new Date,this._map._fadeAnimated?(Mt(o.el,0),Be(this._fadeFrame),this._fadeFrame=B(this._updateOpacity,this)):(o.active=!0,this._pruneTiles()),i||(Ge(o.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:o.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ie.ielt9||!this._map._fadeAnimated?B(this._pruneTiles,this):setTimeout(b(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var i=new C(this._wrapX?E(t.x,this._wrapX):t.x,this._wrapY?E(t.y,this._wrapY):t.y);return i.z=t.z,i},_pxBoundsToTileRange:function(t){var i=this.getTileSize();return new T(t.min.unscaleBy(i).floor(),t.max.unscaleBy(i).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function Bi(t){return new Hn(t)}var Vn=Hn.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,i){this._url=t,i=I(this,i),i.detectRetina&&Ie.retina&&i.maxZoom>0?(i.tileSize=Math.floor(i.tileSize/2),i.zoomReverse?(i.zoomOffset--,i.minZoom=Math.min(i.maxZoom,i.minZoom+1)):(i.zoomOffset++,i.maxZoom=Math.max(i.minZoom,i.maxZoom-1)),i.minZoom=Math.max(0,i.minZoom)):i.zoomReverse?i.minZoom=Math.min(i.maxZoom,i.minZoom):i.maxZoom=Math.max(i.minZoom,i.maxZoom),typeof i.subdomains=="string"&&(i.subdomains=i.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,i){return this._url===t&&i===void 0&&(i=!0),this._url=t,i||this.redraw(),this},createTile:function(t,i){var o=document.createElement("img");return He(o,"load",b(this._tileOnLoad,this,i,o)),He(o,"error",b(this._tileOnError,this,i,o)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(o.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(o.referrerPolicy=this.options.referrerPolicy),o.alt="",o.src=this.getTileUrl(t),o},getTileUrl:function(t){var i={r:Ie.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var o=this._globalTileRange.max.y-t.y;this.options.tms&&(i.y=o),i["-y"]=o}return ie(this._url,_(i,this.options))},_tileOnLoad:function(t,i){Ie.ielt9?setTimeout(b(t,this,null,i),0):t(null,i)},_tileOnError:function(t,i,o){var s=this.options.errorTileUrl;s&&i.getAttribute("src")!==s&&(i.src=s),t(o,i)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,i=this.options.maxZoom,o=this.options.zoomReverse,s=this.options.zoomOffset;return o&&(t=i-t),t+s},_getSubdomain:function(t){var i=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[i]},_abortLoading:function(){var t,i;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&(i=this._tiles[t].el,i.onload=R,i.onerror=R,!i.complete)){i.src=Se;var o=this._tiles[t].coords;ut(i),delete this._tiles[t],this.fire("tileabort",{tile:i,coords:o})}},_removeTile:function(t){var i=this._tiles[t];if(i)return i.el.setAttribute("src",Se),Hn.prototype._removeTile.call(this,t)},_tileReady:function(t,i,o){if(!(!this._map||o&&o.getAttribute("src")===Se))return Hn.prototype._tileReady.call(this,t,i,o)}});function ra(t,i){return new Vn(t,i)}var Cr=Vn.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,i){this._url=t;var o=_({},this.defaultWmsParams);for(var s in i)s in this.options||(o[s]=i[s]);i=I(this,i);var d=i.detectRetina&&Ie.retina?2:1,v=this.getTileSize();o.width=v.x*d,o.height=v.y*d,this.wmsParams=o},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var i=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[i]=this._crs.code,Vn.prototype.onAdd.call(this,t)},getTileUrl:function(t){var i=this._tileCoordsToNwSe(t),o=this._crs,s=Y(o.project(i[0]),o.project(i[1])),d=s.min,v=s.max,O=(this._wmsVersion>=1.3&&this._crs===tl?[d.y,d.x,v.y,v.x]:[d.x,d.y,v.x,v.y]).join(","),F=Vn.prototype.getTileUrl.call(this,t);return F+Z(this.wmsParams,F,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+O},setParams:function(t,i){return _(this.wmsParams,t),i||this.redraw(),this}});function ul(t,i){return new Cr(t,i)}Vn.WMS=Cr,ra.wms=ul;var gn=an.extend({options:{padding:.1},initialize:function(t){I(this,t),P(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ge(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,i){var o=this._map.getZoomScale(i,this._zoom),s=this._map.getSize().multiplyBy(.5+this.options.padding),d=this._map.project(this._center,i),v=s.multiplyBy(-o).add(d).subtract(this._map._getNewPixelOrigin(t,i));Ie.any3d?tn(this._container,v,o):gt(this._container,v)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,i=this._map.getSize(),o=this._map.containerPointToLayerPoint(i.multiplyBy(-t)).round();this._bounds=new T(o,o.add(i.multiplyBy(1+t*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),oa=gn.extend({options:{tolerance:0},getEvents:function(){var t=gn.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){gn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");He(t,"mousemove",this._onMouseMove,this),He(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),He(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){Be(this._redrawRequest),delete this._ctx,ut(this._container),ot(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var i in this._layers)t=this._layers[i],t._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){gn.prototype._update.call(this);var t=this._bounds,i=this._container,o=t.getSize(),s=Ie.retina?2:1;gt(i,t.min),i.width=s*o.x,i.height=s*o.y,i.style.width=o.x+"px",i.style.height=o.y+"px",Ie.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){gn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[P(t)]=t;var i=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=i),this._drawLast=i,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var i=t._order,o=i.next,s=i.prev;o?o.prev=s:this._drawLast=s,s?s.next=o:this._drawFirst=o,delete t._order,delete this._layers[P(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(typeof t.options.dashArray=="string"){var i=t.options.dashArray.split(/[, ]+/),o=[],s,d;for(d=0;d<i.length;d++){if(s=Number(i[d]),isNaN(s))return;o.push(s)}t.options._dashArray=o}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||B(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var i=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new T,this._redrawBounds.extend(t._pxBounds.min.subtract([i,i])),this._redrawBounds.extend(t._pxBounds.max.add([i,i]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var i=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,i.x,i.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,i=this._redrawBounds;if(this._ctx.save(),i){var o=i.getSize();this._ctx.beginPath(),this._ctx.rect(i.min.x,i.min.y,o.x,o.y),this._ctx.clip()}this._drawing=!0;for(var s=this._drawFirst;s;s=s.next)t=s.layer,(!i||t._pxBounds&&t._pxBounds.intersects(i))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,i){if(this._drawing){var o,s,d,v,O=t._parts,F=O.length,V=this._ctx;if(F){for(V.beginPath(),o=0;o<F;o++){for(s=0,d=O[o].length;s<d;s++)v=O[o][s],V[s?"lineTo":"moveTo"](v.x,v.y);i&&V.closePath()}this._fillStroke(V,t)}}},_updateCircle:function(t){if(!(!this._drawing||t._empty())){var i=t._point,o=this._ctx,s=Math.max(Math.round(t._radius),1),d=(Math.max(Math.round(t._radiusY),1)||s)/s;d!==1&&(o.save(),o.scale(1,d)),o.beginPath(),o.arc(i.x,i.y/d,s,0,Math.PI*2,!1),d!==1&&o.restore(),this._fillStroke(o,t)}},_fillStroke:function(t,i){var o=i.options;o.fill&&(t.globalAlpha=o.fillOpacity,t.fillStyle=o.fillColor||o.color,t.fill(o.fillRule||"evenodd")),o.stroke&&o.weight!==0&&(t.setLineDash&&t.setLineDash(i.options&&i.options._dashArray||[]),t.globalAlpha=o.opacity,t.lineWidth=o.weight,t.strokeStyle=o.color,t.lineCap=o.lineCap,t.lineJoin=o.lineJoin,t.stroke())},_onClick:function(t){for(var i=this._map.mouseEventToLayerPoint(t),o,s,d=this._drawFirst;d;d=d.next)o=d.layer,o.options.interactive&&o._containsPoint(i)&&(!(t.type==="click"||t.type==="preclick")||!this._map._draggableMoved(o))&&(s=o);this._fireEvent(s?[s]:!1,t)},_onMouseMove:function(t){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var i=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,i)}},_handleMouseOut:function(t){var i=this._hoveredLayer;i&&(lt(this._container,"leaflet-interactive"),this._fireEvent([i],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,i){if(!this._mouseHoverThrottled){for(var o,s,d=this._drawFirst;d;d=d.next)o=d.layer,o.options.interactive&&o._containsPoint(i)&&(s=o);s!==this._hoveredLayer&&(this._handleMouseOut(t),s&&(Ge(this._container,"leaflet-interactive"),this._fireEvent([s],t,"mouseover"),this._hoveredLayer=s)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,t),this._mouseHoverThrottled=!0,setTimeout(b(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,i,o){this._map._fireDOMEvent(i,o||i.type,t)},_bringToFront:function(t){var i=t._order;if(i){var o=i.next,s=i.prev;if(o)o.prev=s;else return;s?s.next=o:o&&(this._drawFirst=o),i.prev=this._drawLast,this._drawLast.next=i,i.next=null,this._drawLast=i,this._requestRedraw(t)}},_bringToBack:function(t){var i=t._order;if(i){var o=i.next,s=i.prev;if(s)s.next=o;else return;o?o.prev=s:s&&(this._drawLast=s),i.prev=null,i.next=this._drawFirst,this._drawFirst.prev=i,this._drawFirst=i,this._requestRedraw(t)}}});function aa(t){return Ie.canvas?new oa(t):null}var Ri=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch{}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),cl={_initContainer:function(){this._container=Ke("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(gn.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var i=t._container=Ri("shape");Ge(i,"leaflet-vml-shape "+(this.options.className||"")),i.coordsize="1 1",t._path=Ri("path"),i.appendChild(t._path),this._updateStyle(t),this._layers[P(t)]=t},_addPath:function(t){var i=t._container;this._container.appendChild(i),t.options.interactive&&t.addInteractiveTarget(i)},_removePath:function(t){var i=t._container;ut(i),t.removeInteractiveTarget(i),delete this._layers[P(t)]},_updateStyle:function(t){var i=t._stroke,o=t._fill,s=t.options,d=t._container;d.stroked=!!s.stroke,d.filled=!!s.fill,s.stroke?(i||(i=t._stroke=Ri("stroke")),d.appendChild(i),i.weight=s.weight+"px",i.color=s.color,i.opacity=s.opacity,s.dashArray?i.dashStyle=K(s.dashArray)?s.dashArray.join(" "):s.dashArray.replace(/( *, *)/g," "):i.dashStyle="",i.endcap=s.lineCap.replace("butt","flat"),i.joinstyle=s.lineJoin):i&&(d.removeChild(i),t._stroke=null),s.fill?(o||(o=t._fill=Ri("fill")),d.appendChild(o),o.color=s.fillColor||s.color,o.opacity=s.fillOpacity):o&&(d.removeChild(o),t._fill=null)},_updateCircle:function(t){var i=t._point.round(),o=Math.round(t._radius),s=Math.round(t._radiusY||o);this._setPath(t,t._empty()?"M0 0":"AL "+i.x+","+i.y+" "+o+","+s+" 0,"+65535*360)},_setPath:function(t,i){t._path.v=i},_bringToFront:function(t){Si(t._container)},_bringToBack:function(t){Pn(t._container)}},sn=Ie.vml?Ri:ge,si=gn.extend({_initContainer:function(){this._container=sn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=sn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ut(this._container),ot(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){gn.prototype._update.call(this);var t=this._bounds,i=t.getSize(),o=this._container;(!this._svgSize||!this._svgSize.equals(i))&&(this._svgSize=i,o.setAttribute("width",i.x),o.setAttribute("height",i.y)),gt(o,t.min),o.setAttribute("viewBox",[t.min.x,t.min.y,i.x,i.y].join(" ")),this.fire("update")}},_initPath:function(t){var i=t._path=sn("path");t.options.className&&Ge(i,t.options.className),t.options.interactive&&Ge(i,"leaflet-interactive"),this._updateStyle(t),this._layers[P(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){ut(t._path),t.removeInteractiveTarget(t._path),delete this._layers[P(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var i=t._path,o=t.options;i&&(o.stroke?(i.setAttribute("stroke",o.color),i.setAttribute("stroke-opacity",o.opacity),i.setAttribute("stroke-width",o.weight),i.setAttribute("stroke-linecap",o.lineCap),i.setAttribute("stroke-linejoin",o.lineJoin),o.dashArray?i.setAttribute("stroke-dasharray",o.dashArray):i.removeAttribute("stroke-dasharray"),o.dashOffset?i.setAttribute("stroke-dashoffset",o.dashOffset):i.removeAttribute("stroke-dashoffset")):i.setAttribute("stroke","none"),o.fill?(i.setAttribute("fill",o.fillColor||o.color),i.setAttribute("fill-opacity",o.fillOpacity),i.setAttribute("fill-rule",o.fillRule||"evenodd")):i.setAttribute("fill","none"))},_updatePoly:function(t,i){this._setPath(t,q(t._parts,i))},_updateCircle:function(t){var i=t._point,o=Math.max(Math.round(t._radius),1),s=Math.max(Math.round(t._radiusY),1)||o,d="a"+o+","+s+" 0 1,0 ",v=t._empty()?"M0 0":"M"+(i.x-o)+","+i.y+d+o*2+",0 "+d+-o*2+",0 ";this._setPath(t,v)},_setPath:function(t,i){t._path.setAttribute("d",i)},_bringToFront:function(t){Si(t._path)},_bringToBack:function(t){Pn(t._path)}});Ie.vml&&si.include(cl);function ho(t){return Ie.svg||Ie.vml?new si(t):null}Je.include({getRenderer:function(t){var i=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return i||(i=this._renderer=this._createRenderer()),this.hasLayer(i)||this.addLayer(i),i},_getPaneRenderer:function(t){if(t==="overlayPane"||t===void 0)return!1;var i=this._paneRenderers[t];return i===void 0&&(i=this._createRenderer({pane:t}),this._paneRenderers[t]=i),i},_createRenderer:function(t){return this.options.preferCanvas&&aa(t)||ho(t)}});var dl=Nn.extend({initialize:function(t,i){Nn.prototype.initialize.call(this,this._boundsToLatLngs(t),i)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=Te(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function ks(t,i){return new dl(t,i)}si.create=sn,si.pointsToPath=q,pn.geometryToLayer=Mi,pn.coordsToLatLng=oo,pn.coordsToLatLngs=_r,pn.latLngToCoords=ao,pn.latLngsToCoords=lo,pn.getFeature=zi,pn.asFeature=so,Je.mergeOptions({boxZoom:!0});var Di=$t.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){He(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ot(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ut(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||t.which!==1&&t.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Qe(),Gr(),this._startPoint=this._map.mouseEventToContainerPoint(t),He(document,{contextmenu:rn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=Ke("div","leaflet-zoom-box",this._container),Ge(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var i=new T(this._point,this._startPoint),o=i.getSize();gt(this._box,i.min),this._box.style.width=o.x+"px",this._box.style.height=o.y+"px"},_finish:function(){this._moved&&(ut(this._box),lt(this._container,"leaflet-crosshair")),Pi(),Kr(),ot(document,{contextmenu:rn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if(!(t.which!==1&&t.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(b(this._resetState,this),0);var i=new Ee(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(i).fire("boxzoomend",{boxZoomBounds:i})}},_onKeyDown:function(t){t.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Je.addInitHook("addHandler","boxZoom",Di),Je.mergeOptions({doubleClickZoom:!0});var hl=$t.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var i=this._map,o=i.getZoom(),s=i.options.zoomDelta,d=t.originalEvent.shiftKey?o-s:o+s;i.options.doubleClickZoom==="center"?i.setZoom(d):i.setZoomAround(t.containerPoint,d)}});Je.addInitHook("addHandler","doubleClickZoom",hl),Je.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var la=$t.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new on(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}Ge(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){lt(this._map._container,"leaflet-grab"),lt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var i=Te(this._map.options.maxBounds);this._offsetLimit=Y(this._map.latLngToContainerPoint(i.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(i.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var i=this._lastTime=+new Date,o=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(o),this._times.push(i),this._prunePositions(i)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),i=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=i.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,i){return t-(t-i)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var t=this._draggable._newPos.subtract(this._draggable._startPos),i=this._offsetLimit;t.x<i.min.x&&(t.x=this._viscousLimit(t.x,i.min.x)),t.y<i.min.y&&(t.y=this._viscousLimit(t.y,i.min.y)),t.x>i.max.x&&(t.x=this._viscousLimit(t.x,i.max.x)),t.y>i.max.y&&(t.y=this._viscousLimit(t.y,i.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,i=Math.round(t/2),o=this._initialWorldOffset,s=this._draggable._newPos.x,d=(s-i+o)%t+i-o,v=(s+i+o)%t-i-o,O=Math.abs(d+o)<Math.abs(v+o)?d:v;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=O},_onDragEnd:function(t){var i=this._map,o=i.options,s=!o.inertia||t.noInertia||this._times.length<2;if(i.fire("dragend",t),s)i.fire("moveend");else{this._prunePositions(+new Date);var d=this._lastPos.subtract(this._positions[0]),v=(this._lastTime-this._times[0])/1e3,O=o.easeLinearity,F=d.multiplyBy(O/v),V=F.distanceTo([0,0]),oe=Math.min(o.inertiaMaxSpeed,V),xe=F.multiplyBy(oe/V),je=oe/(o.inertiaDeceleration*O),Ye=xe.multiplyBy(-je/2).round();!Ye.x&&!Ye.y?i.fire("moveend"):(Ye=i._limitOffset(Ye,i.options.maxBounds),B(function(){i.panBy(Ye,{duration:je,easeLinearity:O,noMoveStart:!0,animate:!0})}))}}});Je.addInitHook("addHandler","dragging",la),Je.mergeOptions({keyboard:!0,keyboardPanDelta:80});var sa=$t.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),He(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ot(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,i=document.documentElement,o=t.scrollTop||i.scrollTop,s=t.scrollLeft||i.scrollLeft;this._map._container.focus(),window.scrollTo(s,o)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var i=this._panKeys={},o=this.keyCodes,s,d;for(s=0,d=o.left.length;s<d;s++)i[o.left[s]]=[-1*t,0];for(s=0,d=o.right.length;s<d;s++)i[o.right[s]]=[t,0];for(s=0,d=o.down.length;s<d;s++)i[o.down[s]]=[0,t];for(s=0,d=o.up.length;s<d;s++)i[o.up[s]]=[0,-1*t]},_setZoomDelta:function(t){var i=this._zoomKeys={},o=this.keyCodes,s,d;for(s=0,d=o.zoomIn.length;s<d;s++)i[o.zoomIn[s]]=t;for(s=0,d=o.zoomOut.length;s<d;s++)i[o.zoomOut[s]]=-t},_addHooks:function(){He(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ot(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var i=t.keyCode,o=this._map,s;if(i in this._panKeys){if(!o._panAnim||!o._panAnim._inProgress)if(s=this._panKeys[i],t.shiftKey&&(s=W(s).multiplyBy(3)),o.options.maxBounds&&(s=o._limitOffset(W(s),o.options.maxBounds)),o.options.worldCopyJump){var d=o.wrapLatLng(o.unproject(o.project(o.getCenter()).add(s)));o.panTo(d)}else o.panBy(s)}else if(i in this._zoomKeys)o.setZoom(o.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[i]);else if(i===27&&o._popup&&o._popup.options.closeOnEscapeKey)o.closePopup();else return;rn(t)}}});Je.addInitHook("addHandler","keyboard",sa),Je.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var at=$t.extend({addHooks:function(){He(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ot(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var i=Ga(t),o=this._map.options.wheelDebounceTime;this._delta+=i,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var s=Math.max(o-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(b(this._performZoom,this),s),rn(t)},_performZoom:function(){var t=this._map,i=t.getZoom(),o=this._map.options.zoomSnap||0;t._stop();var s=this._delta/(this._map.options.wheelPxPerZoomLevel*4),d=4*Math.log(2/(1+Math.exp(-Math.abs(s))))/Math.LN2,v=o?Math.ceil(d/o)*o:d,O=t._limitZoom(i+(this._delta>0?v:-v))-i;this._delta=0,this._startTime=null,O&&(t.options.scrollWheelZoom==="center"?t.setZoom(i+O):t.setZoomAround(this._lastMousePos,i+O))}});Je.addInitHook("addHandler","scrollWheelZoom",at);var ua=600;Je.mergeOptions({tapHold:Ie.touchNative&&Ie.safari&&Ie.mobile,tapTolerance:15});var xr=$t.extend({addHooks:function(){He(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ot(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),t.touches.length===1){var i=t.touches[0];this._startPos=this._newPos=new C(i.clientX,i.clientY),this._holdTimeout=setTimeout(b(function(){this._cancel(),this._isTapValid()&&(He(document,"touchend",ft),He(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",i))},this),ua),He(document,"touchend touchcancel contextmenu",this._cancel,this),He(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){ot(document,"touchend",ft),ot(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),ot(document,"touchend touchcancel contextmenu",this._cancel,this),ot(document,"touchmove",this._onMove,this)},_onMove:function(t){var i=t.touches[0];this._newPos=new C(i.clientX,i.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,i){var o=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:i.screenX,screenY:i.screenY,clientX:i.clientX,clientY:i.clientY});o._simulated=!0,i.target.dispatchEvent(o)}});Je.addInitHook("addHandler","tapHold",xr),Je.mergeOptions({touchZoom:Ie.touch,bounceAtZoomLimits:!0});var Fi=$t.extend({addHooks:function(){Ge(this._map._container,"leaflet-touch-zoom"),He(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){lt(this._map._container,"leaflet-touch-zoom"),ot(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var i=this._map;if(!(!t.touches||t.touches.length!==2||i._animatingZoom||this._zooming)){var o=i.mouseEventToContainerPoint(t.touches[0]),s=i.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=i.getSize()._divideBy(2),this._startLatLng=i.containerPointToLatLng(this._centerPoint),i.options.touchZoom!=="center"&&(this._pinchStartLatLng=i.containerPointToLatLng(o.add(s)._divideBy(2))),this._startDist=o.distanceTo(s),this._startZoom=i.getZoom(),this._moved=!1,this._zooming=!0,i._stop(),He(document,"touchmove",this._onTouchMove,this),He(document,"touchend touchcancel",this._onTouchEnd,this),ft(t)}},_onTouchMove:function(t){if(!(!t.touches||t.touches.length!==2||!this._zooming)){var i=this._map,o=i.mouseEventToContainerPoint(t.touches[0]),s=i.mouseEventToContainerPoint(t.touches[1]),d=o.distanceTo(s)/this._startDist;if(this._zoom=i.getScaleZoom(d,this._startZoom),!i.options.bounceAtZoomLimits&&(this._zoom<i.getMinZoom()&&d<1||this._zoom>i.getMaxZoom()&&d>1)&&(this._zoom=i._limitZoom(this._zoom)),i.options.touchZoom==="center"){if(this._center=this._startLatLng,d===1)return}else{var v=o._add(s)._divideBy(2)._subtract(this._centerPoint);if(d===1&&v.x===0&&v.y===0)return;this._center=i.unproject(i.project(this._pinchStartLatLng,this._zoom).subtract(v),this._zoom)}this._moved||(i._moveStart(!0,!1),this._moved=!0),Be(this._animRequest);var O=b(i._move,i,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=B(O,this,!0),ft(t)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Be(this._animRequest),ot(document,"touchmove",this._onTouchMove,this),ot(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Je.addInitHook("addHandler","touchZoom",Fi),Je.BoxZoom=Di,Je.DoubleClickZoom=hl,Je.Drag=la,Je.Keyboard=sa,Je.ScrollWheelZoom=at,Je.TapHold=xr,Je.TouchZoom=Fi,h.Bounds=T,h.Browser=Ie,h.CRS=fe,h.Canvas=oa,h.Circle=io,h.CircleMarker=no,h.Class=re,h.Control=Ft,h.DivIcon=co,h.DivOverlay=mn,h.DomEvent=Jr,h.DomUtil=fr,h.Draggable=on,h.Evented=Oe,h.FeatureGroup=Ln,h.GeoJSON=pn,h.GridLayer=Hn,h.Handler=$t,h.Icon=li,h.ImageOverlay=Wn,h.LatLng=ke,h.LatLngBounds=Ee,h.Layer=an,h.LayerGroup=Un,h.LineUtil=el,h.Map=Je,h.Marker=On,h.Mixin=$o,h.Path=Zn,h.Point=C,h.PolyUtil=fs,h.Polygon=Nn,h.Polyline=jt,h.Popup=uo,h.PosAnimation=Qr,h.Projection=ys,h.Rectangle=dl,h.Renderer=gn,h.SVG=si,h.SVGOverlay=na,h.TileLayer=Vn,h.Tooltip=Ai,h.Transformation=We,h.Util=ye,h.VideoOverlay=ta,h.bind=b,h.bounds=Y,h.canvas=aa,h.circle=yr,h.circleMarker=rl,h.control=jn,h.divIcon=sl,h.extend=_,h.featureGroup=nl,h.geoJSON=ol,h.geoJson=ln,h.gridLayer=Bi,h.icon=il,h.imageOverlay=al,h.latLng=we,h.latLngBounds=Te,h.layerGroup=vr,h.map=Fn,h.marker=Cs,h.point=W,h.polygon=Ss,h.polyline=xs,h.popup=Ii,h.rectangle=ks,h.setOptions=I,h.stamp=P,h.svg=ho,h.svgOverlay=ia,h.tileLayer=ra,h.tooltip=wr,h.transformation=it,h.version=y,h.videoOverlay=ll;var fl=window.L;h.noConflict=function(){return window.L=fl,this},window.L=h})}(Pa,Pa.exports)),Pa.exports}var Ma=jp();const Up=ju(Ma);function Vu(p,m,h){return Object.freeze({instance:p,context:m,container:h})}function $u(p,m){return m==null?function(y,_){const k=N.useRef();return k.current||(k.current=p(y,_)),k}:function(y,_){const k=N.useRef();k.current||(k.current=p(y,_));const b=N.useRef(y),{instance:S}=k.current;return N.useEffect(function(){b.current!==y&&(m(S,y,b.current),b.current=y)},[S,y,_]),k}}function Zp(p,m){N.useEffect(function(){return(m.layerContainer??m.map).addLayer(p.instance),function(){var k;(k=m.layerContainer)==null||k.removeLayer(p.instance),m.map.removeLayer(p.instance)}},[m,p])}function ph(p){return function(h){const y=hh(),_=p(Hu(h,y),y);return uh(y.map,h.attribution),fh(_.current,h.eventHandlers),Zp(_.current,y),_}}function Wp(p,m){const h=$u(p,m),y=ph(h);return Ap(y)}function Hp(p,m){const h=$u(p),y=Dp(h,m);return Bp(y)}function Vp(p,m){const h=$u(p,m),y=ph(h);return Rp(y)}function $p(p,m,h){const{opacity:y,zIndex:_}=m;y!=null&&y!==h.opacity&&p.setOpacity(y),_!=null&&_!==h.zIndex&&p.setZIndex(_)}function Gp({bounds:p,boundsOptions:m,center:h,children:y,className:_,id:k,placeholder:b,style:S,whenReady:P,zoom:w,...E},R){const[G]=N.useState({className:_,id:k,style:S}),[ne,M]=N.useState(null);N.useImperativeHandle(R,()=>(ne==null?void 0:ne.map)??null,[ne]);const I=N.useCallback(j=>{if(j!==null&&ne===null){const ie=new Ma.Map(j,E);h!=null&&w!=null?ie.setView(h,w):p!=null&&ie.fitBounds(p,m),P!=null&&ie.whenReady(P),M(zp(ie))}},[]);return N.useEffect(()=>()=>{ne==null||ne.map.remove()},[ne]),l("div",{...G,ref:I,children:ne?l(dh,{value:ne,children:y}):b??null})}const Kp=N.forwardRef(Gp),Yp=Wp(function({position:m,...h},y){const _=new Ma.Marker(m,h);return Vu(_,Ip(y,{overlayContainer:_}))},function(m,h,y){h.position!==y.position&&m.setLatLng(h.position),h.icon!=null&&h.icon!==y.icon&&m.setIcon(h.icon),h.zIndexOffset!=null&&h.zIndexOffset!==y.zIndexOffset&&m.setZIndexOffset(h.zIndexOffset),h.opacity!=null&&h.opacity!==y.opacity&&m.setOpacity(h.opacity),m.dragging!=null&&h.draggable!==y.draggable&&(h.draggable===!0?m.dragging.enable():m.dragging.disable())}),qp=Hp(function(m,h){const y=new Ma.Popup(m,h.overlayContainer);return Vu(y,h)},function(m,h,{position:y},_){N.useEffect(function(){const{instance:b}=m;function S(w){w.popup===b&&(b.update(),_(!0))}function P(w){w.popup===b&&_(!1)}return h.map.on({popupopen:S,popupclose:P}),h.overlayContainer==null?(y!=null&&b.setLatLng(y),b.openOn(h.map)):h.overlayContainer.bindPopup(b),function(){var E;h.map.off({popupopen:S,popupclose:P}),(E=h.overlayContainer)==null||E.unbindPopup(),h.map.removeLayer(b)}},[m,h,_,y])}),Jp=Vp(function({url:m,...h},y){const _=new Ma.TileLayer(m,Hu(h,y));return Vu(_,y)},function(m,h,y){$p(m,h,y);const{url:_}=h;_!=null&&_!==y.url&&m.setUrl(_)}),Qp=new Up.Icon({iconUrl:"https://cdn-icons-png.flaticon.com/256/2894/2894975.png",iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-30]}),Xp=[{call_sign:"AMB-001",company:"Red Cross Ambulance",status:"Available",lat:9.06434,lng:7.48487,speed:0},{call_sign:"AMB-002",company:"Red Cross Ambulance",status:"On Duty",lat:9.0646,lng:7.4846,speed:45},{call_sign:"AMB-003",company:"Red Cross Ambulance",status:"Unavailable",lat:9.0642,lng:7.4878,speed:0},{call_sign:"AMB-004",company:"St John Ambulance",status:"Available",lat:9.0646,lng:7.48492,speed:30},{call_sign:"AMB-005",company:"Red Cross Ambulance",status:"On Duty",lat:9.0641,lng:7.48475,speed:25}],Xe={page:{width:"98%",height:"80vh",overflowY:"auto"},header:{height:"5%"},body:{width:"100%",height:"80%"},footer:{width:"95%",height:"15%"},title:{fontSize:"1.5em",marginBottom:"20px",color:"#333",textAlign:"center"},label:{display:"block",fontSize:"0.9em",color:"#555",marginBottom:"8px"},input:{width:"100%",padding:"10px",marginBottom:"15px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"1em",backgroundColor:"white",color:"black"},buttonContainer:{display:"flex",justifyContent:"space-between",gap:"10px",marginTop:"20px"},submitButton:{backgroundColor:"#4CAF50",color:"white",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"1em",flex:1},cancelButton:{backgroundColor:"#f44336",color:"white",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"1em",flex:1}};function em(){const[p,m]=N.useState("triage"),[h,y]=N.useState("eligible"),[_,k]=N.useState({}),[b,S]=N.useState(0);N.useEffect(()=>{const w=async E=>{const R=`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(_.address)}`;try{const G=await fetch(R);if(!G.ok)throw new Error(`HTTP error! Status: ${G.status}`);const M=(await G.json())[0];return k({..._,location:M}),console.log(`Latitude: ${M.lat}, Longitude: ${M.lon}`),M}catch(G){console.error("Error geocoding the address:",G)}};_.address&&w(_.address)},[_.address]),N.useEffect(()=>{(()=>{let E=0;_.isRegisteredClient==="no"&&y("ineligible"),_.isBreathing==="no"&&(E+=10),_.hasPulse==="no"&&(E+=10),_.isConscious==="no"&&(E+=10),S(E)})()},[_]);const P=()=>{k({}),m("triage"),y("eligible")};return f("div",{children:[p==="triage"&&f("div",{style:Xe.page,children:[h=="eligible"&&f("div",{children:[l("h3",{style:Xe.title,children:"Ambulance Triage"}),f("p",{children:[l("strong",{children:"TRIAGE SCORE:"})," ",b]}),f("label",{style:Xe.label,children:["Is Patient Registered on PrescribeNg Platform?:",f("select",{value:_.isRegisteredClient,style:Xe.input,onChange:w=>k({..._,isRegisteredClient:w.target.value}),required:!0,children:[l("option",{value:"",children:"Select"}),l("option",{value:"yes",children:"Yes"}),l("option",{value:"no",children:"No"})]})]}),f("label",{style:Xe.label,children:["Is Patient Breathing?:",f("select",{value:_.isBreathing,style:Xe.input,onChange:w=>k({..._,isBreathing:w.target.value}),required:!0,children:[l("option",{value:"",children:"Select"}),l("option",{value:"yes",children:"Yes"}),l("option",{value:"no",children:"No"})]})]}),f("label",{style:Xe.label,children:["Does patient have a pulse?:",f("select",{value:_.hasPulse,style:Xe.input,onChange:w=>k({..._,hasPulse:w.target.value}),required:!0,children:[l("option",{value:"",children:"Select"}),l("option",{value:"yes",children:"Yes"}),l("option",{value:"no",children:"No"})]})]}),f("label",{style:Xe.label,children:["Is patient conscious?:",f("select",{value:_.isConscious,style:Xe.input,onChange:w=>k({..._,isConscious:w.target.value}),required:!0,children:[l("option",{value:"",children:"Select"}),l("option",{value:"yes",children:"Yes"}),l("option",{value:"no",children:"No"})]})]}),f("label",{style:Xe.label,children:["Incident:",f("select",{value:_.situation,style:Xe.input,onChange:w=>k({..._,situation:w.target.value}),required:!0,children:[l("option",{value:"",children:"Select"}),l("option",{value:"Found unresponsive",children:"Found unresponsive"}),l("option",{value:"Road Traffic Accident",children:"Road Traffic Accident"}),l("option",{value:"other reasons",children:"other"})]}),l("input",{value:_.location,style:Xe.input,onChange:w=>k({..._,address:w.target.value}),required:!0})]}),l("h3",{children:"Security Questions"}),f("label",{style:Xe.label,children:["Patient's last name:",l("input",{value:_.patientLastName,style:Xe.input,onChange:w=>k({..._,patientLastName:w.target.value}),required:!0})]}),f("label",{style:Xe.label,children:["Patient's first name:",l("input",{value:_.patientFirstName,style:Xe.input,onChange:w=>k({..._,patientFirstName:w.target.value}),required:!0})]}),f("label",{style:Xe.label,children:["Patient's PPN:",l("input",{value:_.patientPPN,style:Xe.input,onChange:w=>k({..._,patientPPN:w.target.value}),required:!0})]}),f("label",{style:Xe.label,children:["Caller's Details (First name/Last name/Phone number):",l("input",{value:_.callerDetails,style:Xe.input,onChange:w=>k({..._,callerDetails:w.target.value}),required:!0})]}),f("label",{style:Xe.label,children:["Patient Address/Location:",l("input",{value:_.location,style:Xe.input,onChange:w=>k({..._,address:w.target.value}),required:!0})]}),f("label",{style:Xe.label,children:["Coordinates:",l("input",{value:_.gps,style:Xe.input,readOnly:!0})]}),f("div",{style:Xe.buttonContainer,children:[l("button",{style:Xe.submitButton,children:"Submit"}),l("button",{type:"button",style:Xe.cancelButton,onClick:()=>m("fleet"),children:"Cancel"})]})]}),h=="ineligible"&&f("div",{children:[l("h3",{style:Xe.title,children:"Ineligible Client!!!"}),l("div",{style:Xe.buttonContainer,children:l("button",{type:"button",style:Xe.cancelButton,onClick:P,children:"Close"})})]})]}),p==="fleet"&&f("div",{style:Xe.page,children:[l("h3",{style:Xe.header,children:"Service Locations"}),l("div",{style:Xe.body,children:f(Kp,{center:[9.0643401849788,7.4848690457152],zoom:13,style:{height:"500px",width:"100%"},children:[l(Jp,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),Xp.map((w,E)=>l(Yp,{position:[w.lat,w.lng],icon:Qp,children:f(qp,{children:[l("strong",{children:"Call Sign:"})," ",w.call_sign," ",l("br",{}),l("strong",{children:"Company:"})," ",w.company," ",l("br",{}),l("strong",{children:"Status:"})," ",w.status," ",l("br",{}),l("strong",{children:"Speed:"})," ",w.speed," km/h"]})},E))]})}),l("div",{style:Xe.footer,children:"footer"})]})]})}function tm(){const{state:p}=N.useContext(bn),{spineUrl:m,token:h,accessLevel:y,allStates:_}=p,[k,b]=N.useState([]),[S,P]=N.useState("page1"),[w,E]=N.useState({}),[R,G]=N.useState({organisationEmailOTP:"",kp1EmailOTP:"",kp1MobileOTP:"",kp2EmailOTP:"",kp2MobileOTP:""}),[ne,M]=N.useState("");kn();const[I,Z]=N.useState(!1);N.useEffect(()=>{(async()=>{Z(!0);try{const Fe=await fetch(`${m}/organisations/fetch_approved_localities?state=${encodeURIComponent(w.state)}`,{method:"GET",headers:{Authorization:`Bearer ${h}`,"Content-Type":"application/json"}});if(Fe.ok){const B=await Fe.json();b(B.localities)}else{const B=await Fe.json();alert(B.message)}}catch(Fe){console.error("Error fetching approved localities:",Fe),alert("An error occurred while fetching approved localities")}finally{Z(!1)}})()},[w.state]);const j=async()=>{Z(!0);try{const Q=await fetch(`${m}/organisations/generate_organisation_email_otp?organisationEmail=${encodeURIComponent(w.organisationEmail)}`,{method:"GET",headers:{Authorization:`Bearer ${h}`,"Content-Type":"application/json"}});if(Q.ok){const Fe=await Q.json();G({...R,organisationEmailOTP:Fe.organisationEmailOTP}),P("page3")}else{const Fe=await Q.json();alert(Fe.message)}}catch(Q){console.error("Submission error:",Q),alert("An error occurred while generating otp")}finally{Z(!1)}},ie=async()=>{if(w.organisationEmailOTP!==R.organisationEmailOTP){alert("Invalid OTP!");return}else alert("Organisation Email verified!"),P("page4")},K=async()=>{Z(!0);try{const Q=await fetch(`${m}/organisations/generate_email_and_mobile_otp?email=${encodeURIComponent(w.kp1Email)}&mobile=${w.kp1Mobile}`,{method:"GET",headers:{Authorization:`Bearer ${h}`,"Content-Type":"application/json"}});if(Q.ok){const Fe=await Q.json();G({...R,kp1EmailOTP:Fe.emailOTP,kp1MobileOTP:Fe.mobileOTP}),P("page5")}else{const Fe=await Q.json();alert(Fe.message)}}catch(Q){console.error("Submission error:",Q),alert("An error occurred while generating otp")}finally{Z(!1)}},de=async()=>{if(w.kp1EmailOTP!==R.kp1EmailOTP){alert("Invalid Email OTP!");return}else if(w.kp1MobileOTP!==R.kp1MobileOTP){alert("Invalid Mobile OTP!");return}else alert("Keyperson Email and Mobile number verified!"),P("page6")},Se=async()=>{Z(!0);try{const Q=await fetch(`${m}/organisations/generate_email_and_mobile_otp?email=${encodeURIComponent(w.kp2Email)}&mobile=${w.kp2Mobile}`,{method:"GET",headers:{Authorization:`Bearer ${h}`,"Content-Type":"application/json"}});if(Q.ok){const Fe=await Q.json();G({...R,kp2EmailOTP:Fe.emailOTP,kp2MobileOTP:Fe.mobileOTP}),P("page7")}else{const Fe=await Q.json();alert(Fe.message)}}catch(Q){console.error("Submission error:",Q),alert("An error occurred while generating otp")}finally{Z(!1)}},Re=async()=>{if(w.kp2EmailOTP!==R.kp2EmailOTP){alert("Invalid Email OTP!");return}else if(w.kp2MobileOTP!==R.kp2MobileOTP){alert("Invalid Mobile OTP!");return}else alert("Keyperson Email and Mobile number verified!"),P("page8")},Me=async()=>{if(confirm("Confirm submission")){const Fe={};Object.entries(w).forEach(([B,Be])=>{Fe[B]=Be});try{const B=await fetch(`${m}/organisations/organisation_signup`,{method:"POST",headers:{Authorization:`Bearer ${h}`,"Content-Type":"application/json"},body:JSON.stringify(Fe)});if(B.ok){const Be=await B.json();M(Be.successMessage),P("page9")}else{const Be=await B.json();alert(Be.message)}}catch(B){console.error("Submission error:",B),alert("An error occurred creating new organisation")}finally{Z(!1)}}else alert("New Organisation creation cancelled!")},J={container:{width:"90%",height:"65vh",margin:"0 auto",padding:"20px",backgroundColor:"#ffffff",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",overflowY:"auto"},label:{display:"block",fontSize:"0.9em",color:"#555",marginBottom:"8px"},input:{width:"100%",padding:"10px",marginBottom:"15px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"1em",backgroundColor:"white",color:"black"},TCBody:{height:"60vh",width:"100%",overflowY:"auto",margin:"20px",textAlign:"left"},TCButton:{padding:"10px 20px",backgroundColor:"#007bff",color:"white",cursor:"pointer",borderRadius:"4px",textAlign:"center"},buttonContainer:{display:"flex",justifyContent:"space-between",gap:"10px",marginTop:"20px"},submitButton:{backgroundColor:"#4CAF50",color:"white",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"1em",flex:1},cancelButton:{backgroundColor:"#f44336",color:"white",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"1em",flex:1}};return f("div",{style:{cursor:I?"wait":"default"},children:[S==="page1"&&f("div",{children:[l("h2",{children:"Terms And Conditions"}),f("div",{style:J.TCBody,children:[l("h3",{children:"GENERAL"}),f("p",{children:[l("strong",{children:"Hospitals/Clinic:"})," Yada yadas"]}),l("br",{}),l("h3",{children:"PHARMACY"}),l("h3",{children:"HOSPITAL"}),f("p",{children:[l("strong",{children:"Hospitals/Clinic:"})," Yada yadas"]}),l("br",{}),l("h3",{children:"SPONSOR ORGANISATIONS"}),f("p",{children:[l("strong",{children:"Hospitals/Clinic:"})," Yada yadas"]}),l("br",{})]}),l("span",{style:J.TCButton,onClick:()=>P("page2"),children:"Agree"})]}),S==="page2"&&f("div",{children:[l("h2",{children:"Organisation Data"}),f("div",{style:J.container,children:[f("label",{style:J.label,children:["Category:",f("select",{type:"text",name:"category",value:w.category,onChange:Q=>E({...w,category:Q.target.value}),style:J.input,children:[l("option",{value:"",children:"Select Category"}),l("option",{value:"ambulance",children:"Ambulance Company"}),l("option",{value:"clinic",children:"Clinic"}),l("option",{value:"dental",children:"Dental Centre"}),l("option",{value:"hospital",children:"Hospital"}),l("option",{value:"pharmacy",children:"Pharmacy"}),l("option",{value:"physiotherapy",children:"Physiotherapy Centre"}),l("option",{value:"sponsor",children:"Sponsor Organisation"}),l("option",{value:"donor",children:"Donor Agency"}),l("option",{value:"scheme",children:"Scheme"})]})]}),f("label",{style:J.label,children:["Name of Organisation:",l("input",{type:"text",name:"organisation",value:w.organisation,onChange:Q=>E({...w,organisation:Q.target.value}),style:J.input})]}),f("label",{style:J.label,children:["CAC Registration Number:",l("input",{type:"text",name:"registrationNumber",value:w.registrationNumber,onChange:Q=>E({...w,registrationNumber:Q.target.value}),style:J.input})]}),f("label",{style:J.label,children:["State:",f("select",{type:"text",name:"state",value:w.state,onChange:Q=>E({...w,state:Q.target.value}),style:J.input,children:[l("option",{value:"",children:"Select"}),_.map(Q=>l("option",{children:Q},Q))]})]}),f("label",{style:J.label,children:["City/Town:",f("select",{type:"text",name:"locality",value:w.locality,onChange:Q=>E({...w,locality:Q.target.value}),style:J.input,children:[l("option",{value:"",children:"Select"}),k.map(Q=>l("option",{children:Q},Q))]})]}),f("label",{style:J.label,children:["Address:",l("input",{type:"text",name:"address",value:w.address,onChange:Q=>E({...w,address:Q.target.value}),style:J.input})]}),f("label",{style:J.label,children:["Postal Code:",l("input",{type:"text",name:"postcode",value:w.postcode,onChange:Q=>E({...w,postcode:Q.target.value}),style:J.input})]}),f("label",{style:J.label,children:["GPS Coordinates:",l("input",{type:"text",name:"gps",value:w.gps,onChange:Q=>E({...w,gps:Q.target.value}),style:J.input})]}),f("label",{style:J.label,children:["Telephone Number(s):",l("input",{type:"text",name:"organisationTelephone",value:w.organisationTelephone,onChange:Q=>E({...w,organisationTelephone:Q.target.value}),style:J.input})]}),f("label",{style:J.label,children:["Organisation Email:",l("input",{type:"text",name:"organisationEmail",value:w.organisationEmail,onChange:Q=>E({...w,organisationEmail:Q.target.value}),style:J.input})]}),f("label",{style:J.label,children:["Organisation's IPV4 Address... This is the only address where your account can be signed into:",l("input",{type:"text",name:"ipAddress",value:w.ipAddress,onChange:Q=>E({...w,ipAddress:Q.target.value}),style:J.input})]}),l("span",{style:J.TCButton,onClick:j,children:"Next Page"})]})]}),S==="page3"&&f("div",{children:[l("h2",{children:"Organisation Email Verification"}),f("div",{style:J.container,children:[l("input",{type:"text",name:"organisationEmailOTP",value:w.organisationEmailOTP,onChange:Q=>E({...w,organisationEmailOTP:Q.target.value}),style:J.input,placeholder:"Verification code..."}),l("span",{style:J.TCButton,onClick:ie,children:"Verify"}),l("span",{style:J.TCButton,onClick:()=>P("page2"),children:"Back"})]})]}),S==="page4"&&f("div",{children:[l("h2",{children:"Keyperson 1: "}),f("div",{style:J.container,children:[f("label",{style:J.label,children:["KeyPerson1 Title:",f("select",{type:"text",value:w.kp1Title,onChange:Q=>E({...w,kp1Title:Q.target.value}),style:J.input,children:[l("option",{value:"",children:"Select Title"}),l("option",{value:"Dr.",children:"Dr."}),l("option",{value:"Mr.",children:"Mr."}),l("option",{value:"Mrs.",children:"Mrs."}),l("option",{value:"Ms.",children:"Ms."}),l("option",{value:"Prof.",children:"Prof."})]})]}),f("label",{style:J.label,children:["Keyperson1 Last Name:",l("input",{type:"text",value:w.kp1LastName,onChange:Q=>E({...w,kp1LastName:Q.target.value}),style:J.input})]}),f("label",{style:J.label,children:["Keyperson1 First Name:",l("input",{type:"text",value:w.kp1FirstName,onChange:Q=>E({...w,kp1FirstName:Q.target.value}),style:J.input})]}),f("label",{style:J.label,children:["Keyperson1 Department:",l("input",{type:"text",value:w.kp1Department,onChange:Q=>E({...w,kp1Department:Q.target.value}),style:J.input})]}),f("label",{style:J.label,children:["Keyperson1 Role:",l("input",{type:"text",value:w.kp1Role,onChange:Q=>E({...w,kp1Role:Q.target.value}),style:J.input})]}),f("label",{style:J.label,children:["Keyperson1 Employee ID:",l("input",{type:"text",value:w.kp1UserID,onChange:Q=>E({...w,kp1UserID:Q.target.value}),style:J.input})]}),f("label",{style:J.label,children:["Keyperson1 Work Email:",l("input",{type:"text",value:w.kp1Email,onChange:Q=>E({...w,kp1Email:Q.target.value}),style:J.input})]}),f("label",{style:J.label,children:["Keyperson1 Mobile:",l("input",{type:"number",value:w.kp1Mobile,onChange:Q=>E({...w,kp1Mobile:Q.target.value}),style:J.input})]}),l("span",{style:J.TCButton,onClick:K,children:"Next Page"}),l("span",{style:J.TCButton,onClick:()=>P("page3"),children:"Back"})]})]}),S==="page5"&&f("div",{children:[l("h2",{children:"Keyperson 1 Email/Mobile Number Verification"}),f("div",{style:J.container,children:[l("label",{style:J.label,children:l("input",{type:"text",name:"kp1EmailOTP",value:w.kp1EmailOTP,onChange:Q=>E({...w,kp1EmailOTP:Q.target.value}),style:J.input,placeholder:"Keyperson1 Email Verification code..."})}),l("label",{style:J.label,children:l("input",{type:"text",name:"kp1MobileOTP",value:w.kp1MobileOTP,onChange:Q=>E({...w,kp1MobileOTP:Q.target.value}),style:J.input,placeholder:"Keyperson1 Mobile Verification code..."})}),l("span",{style:J.TCButton,onClick:de,children:"Verify"}),l("span",{style:J.TCButton,onClick:()=>P("page4"),children:"Back"})]})]}),S==="page6"&&f("div",{children:[l("h2",{children:"Keyperson 2: "}),f("div",{style:J.container,children:[f("label",{style:J.label,children:["KeyPerson2 Name:",f("select",{type:"text",value:w.kp2Title,onChange:Q=>E({...w,kp2Title:Q.target.value}),style:J.input,children:[l("option",{value:"",children:"Select Title"}),l("option",{value:"Dr.",children:"Dr."}),l("option",{value:"Mr.",children:"Mr."}),l("option",{value:"Mrs.",children:"Mrs."}),l("option",{value:"Ms.",children:"Ms."}),l("option",{value:"Prof.",children:"Prof."})]})]}),f("label",{style:J.label,children:["Keyperson2 Last Name:",l("input",{type:"text",value:w.kp2LastName,onChange:Q=>E({...w,kp2LastName:Q.target.value}),style:J.input})]}),f("label",{style:J.label,children:["Keyperson2 First Name:",l("input",{type:"text",value:w.kp2FirstName,onChange:Q=>E({...w,kp2FirstName:Q.target.value}),style:J.input})]}),f("label",{style:J.label,children:["Keyperson2 Department:",l("input",{type:"text",value:w.kp2Department,onChange:Q=>E({...w,kp2Department:Q.target.value}),style:J.input})]}),f("label",{style:J.label,children:["Keyperson2 Role:",l("input",{type:"text",value:w.kp2Role,onChange:Q=>E({...w,kp2Role:Q.target.value}),style:J.input})]}),f("label",{style:J.label,children:["Keyperson2 Employee ID:",l("input",{type:"text",value:w.kp2UserID,onChange:Q=>E({...w,kp2UserID:Q.target.value}),style:J.input})]}),f("label",{style:J.label,children:["Keyperson2 Work Email:",l("input",{type:"text",value:w.kp2Email,onChange:Q=>E({...w,kp2Email:Q.target.value}),style:J.input})]}),f("label",{style:J.label,children:["Keyperson2 Mobile:",l("input",{type:"number",value:w.kp2Mobile,onChange:Q=>E({...w,kp2Mobile:Q.target.value}),style:J.input})]}),l("span",{style:J.TCButton,onClick:Se,children:"Next Page"}),l("span",{style:J.TCButton,onClick:()=>P("page5"),children:"Back"})]})]}),S==="page7"&&f("div",{children:[l("h2",{children:"Keyperson 2 Email/Mobile Number Verification"}),f("div",{style:J.container,children:[l("label",{style:J.label,children:l("input",{type:"text",name:"kp2EmailOTP",value:w.kp2EmailOTP,onChange:Q=>E({...w,kp2EmailOTP:Q.target.value}),style:J.input,placeholder:"Keyperson2 Email Verification code..."})}),l("label",{style:J.label,children:l("input",{type:"text",name:"kp2MobileOTP",value:w.kp2MobileOTP,onChange:Q=>E({...w,kp2MobileOTP:Q.target.value}),style:J.input,placeholder:"Keyperson2 Mobile Verification code..."})}),l("span",{style:J.TCButton,onClick:Re,children:"Verify"}),l("span",{style:J.TCButton,onClick:()=>P("page6"),children:"Back"})]})]}),S==="page8"&&f("div",{children:[l("h2",{children:"Final Submission Page"}),f("div",{style:J.buttonContainer,children:[l("button",{style:J.submitButton,onClick:Me,children:"Submit"}),l("button",{type:"button",style:J.cancelButton,onClick:()=>P("page1"),children:"Cancel"})]})]}),S==="page9"&&f("div",{children:[l("h2",{children:"Signup Success Page"}),ne]})]})}function nm(){const{state:p}=N.useContext(bn),{spineUrl:m,token:h,accessLevel:y,allStates:_}=p,[k,b]=N.useState("page1"),[S,P]=N.useState({}),[w,E]=N.useState({photo:null,rightFinger:null,leftFinger:null}),[R,G]=N.useState({verifiedWatcher:"",emailOTP:"",mobileOTP:"",kp2EmailOTP:""}),[ne,M]=N.useState(""),[I,Z]=N.useState({});kn();const[j,ie]=N.useState(!1),[K,de]=N.useState(""),Se=N.useRef(null);N.useEffect(()=>{(()=>{if(S.dob){const re=new Date(S.dob),ae=new Date;let X=ae.getFullYear()-re.getFullYear();const Oe=ae.getMonth()-re.getMonth(),C=ae.getDate()-re.getDate();(Oe<0||Oe===0&&C<0)&&X--,P({...S,age:X})}else P({...S,age:null})})()},[S.dob]),N.useEffect(()=>{(async()=>{ie(!0);try{const re=await fetch(`${m}/patients/verify_watcher?watcherPPN=${encodeURIComponent(S.watcherPPN)}`,{method:"GET",headers:{Authorization:`Bearer ${h}`,"Content-Type":"application/json"}});if(re.ok){const ae=await re.json();G({...R,verifiedWatcher:ae.verifiedWatcher})}else{const ae=await re.json();alert(ae.message)}}catch(re){console.error("Error verifying watcher:",re)}finally{ie(!1)}})()},[S.watcherPPN]);const Re=async()=>{if(R.verifiedWatcher&&!S.relationship){alert("State relationship between watcher and patient!");return}if(ie(!0),!S.title||!S.lastName||!S.firstName||!S.dob||!S.gender||!S.nin||!S.address||!S.locality||!S.state||!S.mobile||!S.email){alert("Complete all fields!"),ie(!1);return}try{const ye=await fetch(`${m}/patients/generate_email_and_mobile_otp?email=${encodeURIComponent(S.email)}&mobile=${S.mobile}`,{method:"GET",headers:{Authorization:`Bearer ${h}`,"Content-Type":"application/json"}});if(ye.ok){const re=await ye.json();G({...R,emailOTP:re.emailOTP,mobileOTP:re.mobileOTP}),b("page3")}else{const re=await ye.json();alert(re.message)}}catch(ye){console.error("Submission error:",ye),alert("An error occurred while generating otp")}finally{ie(!1)}},Me=async()=>{if(S.emailOTP!==R.emailOTP){alert("Invalid Email OTP!");return}else if(S.mobileOTP!==R.mobileOTP){alert("Invalid Mobile OTP!");return}else alert("Keyperson Email and Mobile number verified!"),b("page4")},J=()=>{const ye=Se.current.getScreenshot();E({...w,photo:ye})},Q=async()=>{if(ie(!0),confirm("Confirm submission")){const re={};Object.entries(S).forEach(([ae,X])=>{re[ae]=X}),Object.entries(w).forEach(([ae,X])=>{re[ae]=X});try{const ae=await fetch(`${m}/patients/patient_signup`,{method:"POST",headers:{Authorization:`Bearer ${h}`,"Content-Type":"application/json"},body:JSON.stringify(re)});if(ae.ok){const X=await ae.json();M(X.successMessage),Z(X.certificate),b("page6")}else{const X=await ae.json();alert(X.message)}}catch(ae){console.error("Submission error:",ae),alert("An error occurred creating new patient")}finally{ie(!1)}}else alert("New Patient creation cancelled!"),ie(!1)},Fe=()=>{P({}),E({}),b("page1")},B={container:{cursor:j?"wait":"default",width:"90%",height:"65vh",margin:"0 auto",padding:"20px",backgroundColor:"#ffffff",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",overflowY:"auto"},label:{display:"block",fontSize:"0.9em",color:"#555",marginBottom:"8px",width:"98%",cursor:j?"wait":"default"},input:{width:"100%",padding:"10px",marginBottom:"15px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"1em",backgroundColor:"white",color:"black",cursor:j?"wait":"default"},TCBody:{height:"60vh",width:"100%",overflowY:"auto",margin:"20px",textAlign:"left"},TCButton:{padding:"10px 20px",backgroundColor:"#007bff",color:"white",cursor:j?"wait":"pointer",borderRadius:"4px",textAlign:"center"},photo:{margin:"20px",backgroundColor:"#fff",height:"150px",width:"200px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"10px",border:"1px solid #ddd",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)",overflow:"hidden",cursor:j?"wait":"default"},image:{height:"100%",width:"100%",objectFit:"cover",cursor:j?"wait":"default"},placeholderText:{color:"#666",fontSize:"16px",fontStyle:"italic",textAlign:"center",cursor:j?"wait":"default"}},Be={button:{padding:"10px",backgroundColor:"#007BFF",color:"#FFF",border:"none",cursor:"pointer"}};return f("div",{children:[k==="page1"&&f("div",{children:[l("h2",{children:"Patients Terms And Conditions"}),f("div",{style:B.TCBody,children:[l("h3",{children:"GENERAL"}),f("p",{children:[l("strong",{children:"Minor:"})," All minors are required to be registered under an adult who would be responsible for them at all times"]}),l("br",{})]}),l("span",{style:B.TCButton,onClick:()=>b("page2"),children:"Agree"})]}),k==="page2"&&f("div",{children:[l("h2",{children:"Patient Biodata: "}),f("div",{style:B.container,children:[f("label",{style:B.label,children:[l("input",{type:"hidden",value:w.phone,style:B.input}),l("input",{type:"hidden",value:w.rightFinger,style:B.input}),l("input",{type:"hidden",value:w.leftFinger,style:B.input})]}),f("label",{style:B.label,children:["Name:",f("select",{type:"text",value:S.title,onChange:ye=>P({...S,title:ye.target.value}),style:B.input,children:[l("option",{value:"",children:"Select Title"}),l("option",{value:"Dr.",children:"Dr."}),l("option",{value:"Mr.",children:"Mr."}),l("option",{value:"Mrs.",children:"Mrs."}),l("option",{value:"Ms.",children:"Ms."}),l("option",{value:"Prof.",children:"Prof."})]})]}),f("label",{style:B.label,children:["Last Name:",l("input",{type:"text",value:S.lastName,onChange:ye=>P({...S,lastName:ye.target.value}),style:B.input})]}),f("label",{style:B.label,children:["First Name:",l("input",{type:"text",value:S.firstName,onChange:ye=>P({...S,firstName:ye.target.value}),style:B.input})]}),f("label",{style:B.label,children:["Date of Birth:",l("input",{type:"date",value:S.dob,onChange:ye=>P({...S,dob:ye.target.value}),style:B.input}),f("p",{style:{display:S.age?"inline-block":"none"},children:[S.age,"years"]})]}),f("label",{style:B.label,children:["Watcher (All minors require a watcher. Clients who are not computer literate may also require a watcher):",l("input",{type:"text",value:S.watcherPPN,onChange:ye=>P({...S,watcherPPN:ye.target.value}),style:B.input}),f("p",{style:{display:S.watcherPPN?"inline-block":"none"},children:[l("strong",{children:"Verified Watcher: "}),R.verifiedWatcher?R.verifiedWatcher:"Watcher could not be verified",l("input",{style:{backgroundColor:"white",color:"black",width:"30%"},value:S.relationship,onChange:ye=>P({...S,relationship:ye.target.value}),placeholder:"Relationship..."})]})]}),f("label",{style:B.label,children:["National Identification Number(NIN):",l("input",{type:"text",value:S.nin,onChange:ye=>P({...S,nin:ye.target.value}),style:B.input})]}),f("label",{style:B.label,children:["Gender:",f("select",{type:"text",value:S.gender,onChange:ye=>P({...S,gender:ye.target.value}),style:B.input,children:[l("option",{value:"",children:"Select Gender"}),l("option",{value:"male",children:"Male"}),l("option",{value:"female",children:"Female"})]})]}),f("label",{style:B.label,children:["Correspondence Address:",l("input",{type:"text",value:S.address,onChange:ye=>P({...S,address:ye.target.value}),style:B.input})]}),f("label",{style:B.label,children:["City/Town:",l("input",{type:"text",value:S.locality,onChange:ye=>P({...S,locality:ye.target.value}),style:B.input})]}),f("label",{style:B.label,children:["State of Residence:",f("select",{type:"text",value:S.state,onChange:ye=>P({...S,state:ye.target.value}),style:B.input,children:[l("option",{value:"",children:"Select"}),_.map(ye=>l("option",{children:ye},ye))]})]}),f("label",{style:B.label,children:["Email (Every client must be linked to an email or mobile number for correspondence purposes):",l("input",{type:"email",value:S.email,onChange:ye=>P({...S,email:ye.target.value}),style:B.input})]}),f("label",{style:B.label,children:["Mobile:",l("input",{type:"number",value:S.mobile,onChange:ye=>P({...S,mobile:ye.target.value}),style:B.input})]}),f("label",{style:B.label,children:["Emergency Contact 1 (First Name/Mobile/Relationship):",l("input",{type:"text",value:S.emergencyContact1,onChange:ye=>P({...S,emergencyContact1:ye.target.value}),style:B.input})]}),f("label",{style:B.label,children:["Emergency Contact 2 (First Name/Mobile/Relationship):",l("input",{type:"text",value:S.emergencyContact2,onChange:ye=>P({...S,emergencyContact2:ye.target.value}),style:B.input})]}),l("span",{style:B.TCButton,onClick:Re,children:"Next Page"}),l("span",{style:B.TCButton,onClick:()=>{b("page1"),P({})},children:"Back"})]})]}),k==="page3"&&f("div",{children:[l("h2",{children:"Email/Mobile Number Verification"}),f("div",{style:B.container,children:[l("label",{style:B.label,children:l("input",{type:"text",name:"emailOTP",value:S.emailOTP,onChange:ye=>P({...S,emailOTP:ye.target.value}),style:B.input,placeholder:"Email Verification code..."})}),l("label",{style:B.label,children:l("input",{type:"text",name:"mobileOTP",value:S.mobileOTP,onChange:ye=>P({...S,mobileOTP:ye.target.value}),style:B.input,placeholder:"Mobile Verification code..."})}),l("span",{style:B.TCButton,onClick:Me,children:"Verify"}),l("span",{style:B.TCButton,onClick:()=>b("page2"),children:"Back"})]})]}),k==="page4"&&f("div",{children:[l("h2",{children:"NHIS Number"}),f("div",{style:B.container,children:[f("label",{style:B.label,children:["NHIS number (Proof must be provided)",l("input",{type:"text",value:S.nhisNumber,onChange:ye=>P({...S,nhisNumber:ye.target.value}),style:B.input,placeholder:"NHIS number..."})]}),l("span",{style:B.TCButton,onClick:()=>b("page5"),children:"Next page"}),l("span",{style:B.TCButton,onClick:()=>b("page3"),children:"Back"})]})]}),k==="page5"&&l("div",{style:B.container,children:f("div",{style:{display:"flex",flexDirection:"row"},children:[f("div",{style:{width:"50%"},children:[l("h2",{children:"Webcam"}),l(Na,{audio:!1,ref:Se,screenshotFormat:"image/png",width:400}),l("div",{style:{margin:"20px 0"},children:l("button",{onClick:J,children:"Capture Photo"})})]}),f("div",{style:{display:w.photo?"inline-block":"none"},children:[w.photo&&f("div",{children:[l("h3",{children:"Photo Preview"}),l("img",{src:w.photo,alt:"Captured",width:400})]}),f("div",{style:{marginTop:"20px"},children:[l("button",{onClick:Q,children:"Submit"}),l("span",{style:B.TCButton,onClick:()=>{b("page4"),E({...w,photo:null})},children:"Back"})]})]}),K&&l("p",{children:K})]})}),k==="page6"&&f("div",{children:[l("h2",{children:"Signup Success Page"}),ne,l("div",{style:{margin:"10px 0"},children:l("button",{style:Be.button,onClick:()=>b("page7"),children:"Print(Show) Certificate"})})]}),k==="page7"&&f("div",{children:[l("h2",{children:"PrescribeNg Certificate"}),l("div",{style:B.photo,children:I.photoUrl?l("img",{src:I.photoUrl,style:B.image,alt:"User's photo"}):l("div",{style:B.placeholderText,children:"Photo Not Found"})}),f("div",{style:{alignContent:"left",textAlign:"left",margin:"20px"},children:[f("p",{children:[l("strong",{children:"Private Prescription Number: "}),I.ppn]}),f("p",{children:[l("strong",{children:"Patient Name: "}),I.name]}),f("p",{children:[l("strong",{children:"Date of Birth: "}),I.dob]}),f("p",{children:[l("strong",{children:"Age at Signup: "}),I.age,"yrs"]}),f("p",{children:[l("strong",{children:"Correspondence Address: "}),I.address]})]}),l("div",{style:{margin:"10px 0"},children:l("button",{style:Be.button,onClick:Fe,children:"Close"})})]})]})}function im(){const{state:p,logout:m,updatePatient:h}=N.useContext(bn),{token:y,spineUrl:_,category:k,accessLevel:b,configurations:S,serviceBranches:P,userID:w,organisation:E}=p,[R,G]=N.useState("Home"),[ne,M]=N.useState("new-watcher"),[I,Z]=N.useState({}),[j,ie]=N.useState({}),[K,de]=N.useState(""),[Se,Re]=N.useState(0),[Me,J]=N.useState(""),[Q,Fe]=N.useState([]),[B,Be]=N.useState({}),[ye,re]=N.useState(!1),[ae,X]=N.useState(!1),[Oe,C]=N.useState("table"),[ee,W]=N.useState({}),[T,Y]=N.useState([]),Ee=N.useRef(null);kn();const Te=async te=>{te.preventDefault();try{const ce=await fetch(`${_}/patients/search_patients?ppn=${encodeURIComponent(Me.ppn)}&lastName=${encodeURIComponent(Me.lastName)}&dob=${encodeURIComponent(Me.dob)}`,{method:"GET",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"}});if(ce.ok){const _e=await ce.json();Fe(_e.searchResults)}else{const _e=await ce.json();Fe([]),alert(_e.message),console.error("Failed to fetch:",_e.message)}}catch(ce){console.error("Error fetching referrals:",ce)}},ke=te=>{const{name:ce,value:_e}=te.target;J(rt=>({...rt,[ce]:_e}))},we=te=>{Be(te),G("Editing Pad")};N.useEffect(()=>{(async()=>{try{const ce=await fetch(`${_}/patients/find_new_watcher?ppn=${encodeURIComponent(K)}`,{method:"GET",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"}});if(console.log(_),ce.ok){const _e=await ce.json();_e.newWatcher?ie(_e.newWatcher):ie({})}else{const _e=await ce.json();alert(_e.message),console.error("Failed to fetch keypersons:",ce.statusText)}}catch(ce){console.error("Error fetching keypersons:",ce)}})()},[_,y,K,ye]);const fe=async()=>{if(!j.watcherID){alert("No new watcher exists!");return}try{if(!confirm("You are about to add a new watcher to patient's profile and this will give unrestricted access to patient's profile. By clicking ok, you assume responsibility for this change and have ensured that all due diligence has been done according to PrescribeNg LTD policies. Do you want to procede?")){alert("Action cancelled!");return}let ce=prompt("What is the watcher's relationship with patient?");if(!ce){alert("You must state the relationship between watcher and patient!");return}const _e=await fetch(`${_}/patients/add_new_watcher`,{method:"POST",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"},body:JSON.stringify({ppn:B.ppn,watcherID:j.watcherID,relationship:ce})});if(_e.ok){const rt=await _e.json();alert(rt.message),Be({...B,watchers:rt.updatedWatchers})}else{const rt=await _e.json();alert(rt.message),console.error("Failed to fetch localities:",_e.statusText)}}catch(te){console.error("Error fetching localities:",te)}},$e=async()=>{if(!I.watcherID){alert("No watcher selected!");return}try{if(!confirm("You are about to remove a watcher from patient's profile and this will remove all access to patient's profile. By clicking ok, you assume responsibility for this change and have ensured that all due diligence has been done according to PrescribeNg LTD policies. Do you want to procede?")){alert("Action cancelled!");return}const ce=await fetch(`${_}/patients/remove_watcher`,{method:"POST",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"},body:JSON.stringify({ppn:B.ppn,watcherID:I.watcherID})});if(ce.ok){const _e=await ce.json();alert(_e.message),Be({...B,watchers:_e.updatedWatchers})}else{const _e=await ce.json();alert(_e.message),console.error("Failed to fetch localities:",ce.statusText)}}catch(te){console.error("Error fetching localities:",te)}},pe=async()=>{try{if(!confirm("You are about to modify a patient's profile. By clicking ok, you assume responsibility for this change. Do you want to procede?")){alert("Action cancelled!");return}const ce=await fetch(`${_}/patients/modify_patient`,{method:"POST",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"},body:JSON.stringify(B)});if(ce.ok){const _e=await ce.json();alert(_e.message),re(rt=>!rt)}else{const _e=await ce.json();alert(_e.message),console.error("Failed to fetch localities:",ce.statusText)}}catch(te){console.error("Error fetching localities:",te)}},Ce=async()=>{if(!B.shareCodeReason){alert("Please provide a compelling reason for generating share code");return}try{if(!confirm(`You are about to generate a share code for ${B.firstName.toUpperCase()}. You must ensure a proof exists in form of email, that this request was made by ${B.firstName.toUpperCase()} or by an authorized person acting onbehalf of ${B.firstName.toUpperCase()}, with a compelling reason.`)){alert("Action cancelled!");return}const ce=await fetch(`${_}/patients/generate_share_code`,{method:"POST",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"},body:JSON.stringify(B)});if(ce.ok){const _e=await ce.json();alert(_e.message),re(rt=>!rt)}else{const _e=await ce.json();alert(_e.message),console.error("Failed to fetch localities:",ce.statusText)}}catch(te){console.error("Error fetching localities:",te)}},We=()=>{const te=Ee.current.getScreenshot();Be({...B,newPhoto:te})},it=async()=>{if(!confirm("Confirm Image Upload")){alert("New Patient creation cancelled!"),Be({...B,newPhoto:null});return}try{const ce=await fetch(`${_}/patients/photo_upload`,{method:"POST",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"},body:JSON.stringify({ppn:B.ppn,newPhoto:B.newPhoto})});if(ce.ok){const _e=await ce.json();_e.newPhotoUrl&&Be({...B,photoUrl:_e.newPhotoUrl}),G("Editing Pad"),Be({...B,newPhoto:null})}else{const _e=await ce.json();alert(_e.message)}}catch(ce){console.error("Submission error:",ce),alert("An error occurred creating new patient")}},ve=te=>{const{name:ce,type:_e,files:rt}=te.target;if(_e==="file"){const Br=Array.from(rt);Y(qn=>({...qn,[ce]:[...qn[ce]||[],...Br]}))}},Vt=te=>{Y(ce=>{const _e=[...ce.uploads];return _e.splice(te,1),{uploads:_e}})},ge=te=>new Promise((ce,_e)=>{const rt=new FileReader;rt.onloadend=()=>ce(rt.result.split(",")[1]),rt.onerror=_e,rt.readAsDataURL(te)}),q=async()=>{if(confirm("Confirm submission")){const ce=await Promise.all(T.uploads.map(async _e=>{const rt=await ge(_e);return{name:_e.name,content:rt}}));try{const _e=await fetch(`${_}/patients/file_upload`,{method:"POST",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"},body:JSON.stringify({ppn:B.ppn,uploads:ce})});if(_e.ok){const rt=await _e.json();Be({...B,documents:rt.documents}),C("table")}else{const rt=await _e.json();alert(rt.message)}}catch(_e){console.error("File upload error:",_e),alert("An error occurred uploading files")}}else alert("File upload cancelled!")},De=async()=>{if(!ee.validity){alert("Document validity missing!");return}confirm("Ensure due diligence has been done on file before modifying file verification status.")||alert("File verification cancelled!");try{const ce=await fetch(`${_}/patients/file_verification`,{method:"POST",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"},body:JSON.stringify({ppn:B.ppn,fileKey:ee.fileKey,validity:ee.validity,verification:"verified"})});if(ce.ok){const _e=await ce.json();Be({...B,documents:_e.documents}),C("table"),X(!1)}else{const _e=await ce.json();alert(_e.message)}}catch(ce){console.error("File verification error:",ce),alert("An error occurred uploading files")}},ue=async()=>{if(!ee.validity){alert("Document validity missing!");return}confirm("Ensure due diligence has been done on file before modifying file verification status.")||alert("File verification cancelled!");try{const ce=await fetch(`${_}/patients/file_verification`,{method:"POST",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"},body:JSON.stringify({ppn:B.ppn,fileKey:ee.fileKey,validity:ee.validity,verification:"unverified"})});if(ce.ok){const _e=await ce.json();Be({...B,documents:_e.documents}),C("table"),X(!1)}else{const _e=await ce.json();alert(_e.message)}}catch(ce){console.error("File verification error:",ce),alert("An error occurred uploading files")}},be=async()=>{if(!confirm("Confirm credit award.")){alert("Action cancelled!");return}try{const ce=await fetch(`${_}/patients/patient_credit_award`,{method:"POST",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"},body:JSON.stringify({ppn:B.ppn,amount:Se})});if(ce.ok){const _e=await ce.json();alert(_e.message),G("Editing Pad"),Be({...B,credit:parseFloat(B.credit)+parseFloat(Se)})}else{const _e=await ce.json();alert(_e.message)}}catch(ce){console.error("Credit award error:",ce),alert("An error occurred awarding credit to patient")}},D={page:{color:"black",height:"100%",width:"100%",overflowY:"hidden",overflowX:"hidden",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center"},tableContainer:{height:"79vh",backgroundColor:"white",width:"100%"},table:{width:"95%",borderCollapse:"collapse",marginTop:"20px"},thead:{backgroundColor:"#2c3e50",color:"white",position:"sticky",top:"0px",zIndex:2e3},profileContainer:{display:"flex",flexDirection:"row",color:"black",backgroundColor:"#f9f9f9",padding:"20px",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",width:"80%",height:"65vh",margin:"20px auto",textAlign:"center"},photoContainer:{position:"sticky",top:"10px",left:"80px",backgroundColor:"#fff",height:"200px",width:"200px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"10px",border:"1px solid #ddd",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)",overflow:"hidden"},photoContainer2:{position:"sticky",top:"10px",left:"80px",backgroundColor:"#fff",height:"380px",width:"380px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"10px",border:"1px solid #ddd",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)",overflow:"hidden"},image:{height:"100%",width:"100%",objectFit:"cover"},placeholderText:{color:"#666",fontSize:"16px",fontStyle:"italic",textAlign:"center"},section:{display:"block",width:"45%",marginBottom:"20px",textAlign:"left",lineHeight:"0.8"},input:{padding:"10px",marginRight:"10px",borderRadius:"5px",border:"1px solid #ccc",width:"200px",backgroundColor:"white",color:"black"},shareCodeInput:{padding:"10px",marginRight:"10px",borderRadius:"5px",border:"1px solid #ccc",width:"95%",height:"40vh",backgroundColor:"white",color:"black"},button:{backgroundColor:"#3498db",margin:"5px",cursor:"pointer"},topCloseButton:{height:"30px",width:"100px",backgroundColor:"red",cursor:"pointer"},docVerificationOverlay:{display:ae?"block":"none",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:2e3,pointerEvents:"auto",width:"40%",height:"40%",backgroundColor:"grey",textAlign:"center"},uploadfield:{padding:"20px",border:"1px solid #ccc",borderRadius:"8px"},uploadInput:{marginBottom:"10px"},uploadedFiles:{marginTop:"10px",listStyleType:"none",padding:"0",minHeight:"4vh"},uploadItem:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},removeFileButton:{color:"red",cursor:"pointer"}};return f("div",{style:D.page,children:[R==="Home"&&f("div",{style:D.tableContainer,children:[l("h2",{children:"Search Patients"}),l("form",{style:D.form,onSubmit:Te,children:l("table",{style:D.table,children:l("thead",{children:f("tr",{children:[l("th",{style:D.th,children:l("input",{type:"text",name:"lastName",value:Me.lastName||"",onChange:ke,placeholder:"Last Name",style:D.input})}),l("th",{style:D.th,children:l("input",{type:"date",name:"dob",value:Me.dob||"",onChange:ke,placeholder:"NHS Number",style:D.input})}),l("th",{style:D.th,children:l("input",{type:"text",name:"ppn",value:Me.ppn||"",onChange:ke,placeholder:"Private Prescription Number(PPN)",style:D.input})}),l("th",{style:D.th,children:l("button",{style:D.button,type:"submit",children:"Search"})})]})})})}),f("table",{style:D.table,children:[l("thead",{style:D.thead,children:f("tr",{children:[l("th",{style:D.th,children:"Name"}),l("th",{style:D.th,children:"Gender"}),l("th",{style:D.th,children:"DOB"}),l("th",{style:D.th,children:"PPN"}),l("th",{style:D.th})]})}),l("tbody",{children:Q.length>0?Q.map(te=>f("tr",{children:[f("td",{style:D.td,children:[te.title," ",te.lastName," ",te.firstName]}),l("td",{style:D.td,children:te.gender}),l("td",{style:D.td,children:te.dob}),l("td",{style:D.td,children:te.ppn}),l("td",{style:D.td,children:l("button",{style:D.button,onClick:()=>we(te),children:"Select"})})]},te.ppn)):l("tr",{children:l("td",{colSpan:"5",style:D.td,children:"No patients found"})})})]})]}),R==="Editing Pad"&&f("div",{style:{width:"100%"},children:[f("div",{style:D.profileContainer,children:[f("div",{style:D.section,children:[l("div",{style:D.photoContainer,children:B.photoUrl?l("img",{src:B.photoUrl,style:D.image,alt:"User's photo"}):l("div",{style:D.placeholderText,children:"Photo Not Found"})}),l("span",{style:{textDecoration:"underline",color:"green",cursor:"pointer"},onClick:()=>G("Photo Upload"),children:"Change Photo"}),f("p",{children:[l("strong",{children:"Name:"})," ",B.title," ",B.lastName," ",B.firstName]}),f("p",{children:[l("strong",{children:"PPN:"})," ",B.ppn]}),f("p",{children:[l("strong",{children:"NHIS Number:"})," ",B!=null&&B.nhis?`${B.nhis}`:"Not linked"]}),f("p",{children:[l("strong",{children:"Share Code/Expiry:"})," ",B!=null&&B.shareCode?`${B.shareCode} (${B.shareCodeExpiry})`:"Patient has no share code"]}),f("p",{children:[l("strong",{children:"DOB:"})," ",B.dob,"(",B.age,"yrs)"]}),f("p",{children:[l("strong",{children:"CREDIT:"})," ₦",B.credit]}),f("p",{children:[l("strong",{children:"Admission Status:"})," ",B.admissionStatus]}),f("p",{children:[l("strong",{children:"Mobile Access:"})," ",(B==null?void 0:B.access)==="open"?"Activated":"Not activated"]}),f("div",{style:{marginBottom:"20px"},children:["Patient Status:",f("select",{style:D.input,value:B.clientStatus||"",onChange:te=>Be({...B,clientStatus:te.target.value}),children:[l("option",{value:"",children:"Select Access Level"}),l("option",{value:"enrolled",children:"Enrolled"}),l("option",{value:"flagged",children:"Flagged"}),l("option",{value:"wanted",children:"Wanted"}),l("option",{value:"missing",children:"Missing Person"})]}),l("textarea",{style:{...D.input,display:B.clientStatus==="enrolled"?"none":"inline-block"},placeholder:"Brief detail...",value:B.flagReason,onChange:te=>Be({...B,flagReason:te.target.value})}),l("button",{style:D.button,onClick:pe,children:"Save Changes"})]})]}),f("div",{style:D.section,children:[l("div",{style:{height:"40%"},children:f("table",{style:D.table,children:[l("thead",{style:D.thead,children:f("tr",{children:[l("th",{children:"Watcher"}),l("th",{children:"Relationship"}),l("th",{children:"Watcher ID"})]})}),l("tbody",{children:B.watchers&&B.watchers.length>0?B.watchers.map((te,ce)=>f("tr",{children:[l("td",{children:te.watcher}),l("td",{children:te.relationship||"unknown"}),l("td",{children:te.watcherID})]},ce)):l("tr",{colSpan:"3",style:{textAlign:"right"},children:"Patient has no watcher"})})]})}),l("div",{style:{height:"40%"},children:f("table",{style:D.table,children:[l("thead",{style:D.thead,children:f("tr",{children:[l("th",{children:"HMO"}),l("th",{children:"Plan"}),l("th",{children:"Contact"})]})}),l("tbody",{children:B.policies&&B.policies.length>0?B.policies.map((te,ce)=>f("tr",{children:[l("td",{children:te.sponsor}),l("td",{children:te.plan}),l("td",{children:te.contact})]},ce)):l("tr",{colSpan:"3",style:{textAlign:"right"},children:"Patient has no active policy"})})]})})]})]}),f("div",{style:{display:"flex"},children:[l("button",{style:D.button,onClick:()=>G("Share Code"),children:"Generate Sharecode"}),l("button",{style:D.button,onClick:()=>G("Watchers"),children:"Add/Remove watcher"}),l("button",{style:D.button,onClick:()=>G("Documents"),children:"Documents"}),l("button",{style:D.button,onClick:()=>{Re(0),G("Award Credit")},children:"Award Credit"}),l("button",{style:D.button,onClick:()=>{G("Home"),Be({})},children:"Close"})]})]}),R==="Share Code"&&l("div",{style:{width:"100%"},children:f("div",{style:D.profileContainer,children:[f("div",{style:D.section,children:[f("h2",{children:["Share code Reason(",B.title," ",B.lastName," ",B.firstName,")"]}),l("div",{style:{marginBottom:"20px"},children:l("textarea",{style:{...D.shareCodeInput},placeholder:"(Paste email content from patient)",value:B.shareCodeReason,onChange:te=>Be({...B,shareCodeReason:te.target.value})})}),l("button",{style:D.button,onClick:Ce,children:"Generate Sharecode"}),l("button",{style:D.button,onClick:()=>G("Editing Pad"),children:"Back"})]}),l("div",{style:{...D.section,width:"55%",marginLeft:"20px"},children:f("div",{style:{height:"40%"},children:[l("h3",{children:"Audit Trail"}),f("table",{style:D.table,children:[l("thead",{style:D.thead,children:f("tr",{children:[l("th",{children:"Event"}),l("th",{children:"Detail"}),l("th",{children:"Date"})]})}),l("tbody",{children:B.auditTrail&&B.auditTrail.length>0?B.auditTrail.map((te,ce)=>f("tr",{style:{marginBottom:"20px"},children:[l("td",{children:te.event}),l("td",{children:te.event}),l("td",{children:te.date})]},ce)):l("tr",{colSpan:"3",style:{textAlign:"right"},children:"Patient has no audit trail"})})]})]})})]})}),R==="Watchers"&&l("div",{style:{width:"100%"},children:f("div",{style:D.profileContainer,children:[l("div",{style:{...D.section,width:"55%",marginLeft:"20px"},children:f("div",{style:{height:"60%",overflowY:"auto"},children:[l("h3",{children:"Audit Trail"}),f("table",{style:D.table,children:[l("thead",{style:D.thead,children:f("tr",{children:[l("th",{children:"Watcher"}),l("th",{children:"Relationship"}),l("th",{children:"Watcher ID"}),l("th",{})]})}),l("tbody",{children:B.watchers&&B.watchers.length>0?B.watchers.map((te,ce)=>f("tr",{children:[l("td",{children:te.watcher}),l("td",{children:te.relationship||"unknown"}),l("td",{children:te.watcherID}),l("td",{onClick:()=>{Z(te),M("existing-watcher")},children:l("span",{style:D.button,children:"View"})})]},ce)):l("tr",{colSpan:"3",style:{textAlign:"right"},children:"Patient has no watcher"})})]})]})}),f("div",{style:D.section,children:[ne==="existing-watcher"&&f("div",{children:[l("h2",{children:I.watcher}),l("div",{style:{...D.photoContainer2},children:I!=null&&I.photoUrl?l("img",{src:I==null?void 0:I.photoUrl,style:D.image,alt:"User's photo"}):l("div",{style:D.placeholderText,children:"Photo Not Found"})}),l("div",{style:{marginTop:"10px"},children:f("div",{children:[l("button",{style:{...D.button,display:I.watcherID?"inline-block":"none"},onClick:$e,children:"Remove"}),l("button",{style:D.button,onClick:()=>M("new-watcher"),children:"Add New Watcher"}),l("button",{style:D.button,onClick:()=>{G("Editing Pad"),M("new-watcher"),ie({}),Z({}),de("")},children:"Back"})]})})]}),ne==="new-watcher"&&f("div",{children:[l("h2",{children:j.watcher}),l("div",{style:{...D.photoContainer2},children:j!=null&&j.photoUrl?l("img",{src:j==null?void 0:j.photoUrl,style:D.image,alt:"User's photo"}):l("div",{style:D.placeholderText,children:"Photo Not Found"})}),f("div",{style:{marginTop:"10px"},children:[l("input",{style:{backgroundColor:"white",color:"black",width:"300px",height:"30px"},value:K,onChange:te=>de(te.target.value),placeholder:"Enter PPN of new watcher.."}),f("div",{children:[l("button",{style:D.button,onClick:fe,children:"Add"}),l("button",{style:D.button,onClick:()=>{G("Editing Pad"),ie({}),Z({}),de("")},children:"Back"})]})]})]})]})]})}),R==="Photo Upload"&&l("div",{style:{width:"100%"},children:f("div",{style:D.profileContainer,children:[f("div",{style:{...D.section,width:"50%"},children:[l("h2",{children:"Web Cam"}),l("div",{style:D.photoContainer2,children:l(Na,{audio:!1,ref:Ee,screenshotFormat:"image/png",width:400})}),l("button",{style:D.button,onClick:We,children:"Capture"}),l("button",{style:D.button,onClick:()=>{G("Editing Pad"),Be({...B,newPhoto:null})},children:"Back"})]}),f("div",{style:{...D.section,width:"50%",display:B.newPhoto?"inline-block":"none"},children:[f("h2",{children:["Preview (",B.title," ",B.lastName," ",B.firstName,")"]}),l("div",{style:D.photoContainer2,children:B.newPhoto?l("img",{src:B.newPhoto,alt:"Captured",width:400}):l("div",{style:D.placeholderText,children:"No image captured"})}),l("button",{style:D.button,onClick:it,children:"Upload"})]})]})}),R==="Documents"&&l("div",{style:{width:"100%"},children:f("div",{style:D.profileContainer,children:[Oe==="table"&&f("div",{style:{...D.section,width:"100%"},children:[l("div",{style:{height:"40%",width:"100%"},children:f("table",{style:D.table,children:[l("thead",{style:D.thead,children:f("tr",{children:[l("th",{children:"Document"}),l("th",{children:"Validity"}),l("th",{children:"Verification"}),l("th",{children:"Action"})]})}),l("tbody",{children:B.documents&&B.documents.length>0?B.documents.map((te,ce)=>f("tr",{children:[l("td",{children:te.fileName}),l("td",{children:te.validity||"not set"}),l("td",{children:te.verification||"unverified"}),l("td",{children:l("button",{onClick:()=>{C("iframe"),W(te)},children:"View"})})]},ce)):l("tr",{colSpan:"4",style:{textAlign:"right"},children:"No documents uploaded"})})]})}),l("button",{onClick:()=>{G("Editing Pad")},children:"Close"}),l("button",{onClick:()=>{C("upload")},children:"Upload Document"})]}),Oe==="iframe"&&l("div",{style:{...D.section,width:"100%",position:"relative",zIndex:1e3,pointerEvents:ae?"none":"auto"},children:f("div",{children:[l("span",{style:D.topCloseButton,onClick:()=>{C("table"),ee({}),X(!1)},children:"Close"}),l("iframe",{style:{height:"60vh",width:"100%"},src:ee.fileUrl}),f("div",{style:D.docVerificationOverlay,children:[f("div",{children:[l("h3",{children:"When does this document expire?"}),l("input",{style:D.input,type:"date",value:ee.validity||"",onChange:te=>W({...ee,validity:te.target.value})}),l("button",{style:{...D.button,display:ee.verification==="unverified"?"inline-block":"none"},onClick:De,children:"Verify"}),l("button",{style:{...D.button,display:ee.verification==="verified"?"inline-block":"none"},onClick:ue,children:"De-Verify"})]}),l("span",{style:D.topCloseButton,onClick:()=>X(!1),children:"Close"})]}),l("button",{style:{...D.button,display:ee.verification==="verified"?"none":"inline-block"},onClick:()=>X(!0),children:"Verify"}),l("button",{style:{...D.button,display:ee.verification==="verified"&&b<=3?"inline-block":"none"},onClick:()=>X(!0),children:"De-Verify"})]})}),Oe==="upload"&&f("div",{style:{...D.section,width:"100%"},children:[f("div",{style:D.uploadfield,children:[f("div",{style:D.uploadInput,children:[l("label",{children:"Upload File"}),l("input",{name:"uploads",type:"file",onChange:ve,multiple:!0})]}),l("div",{style:D.uploadedFiles,children:T.uploads&&T.uploads.length>0?T.uploads.map((te,ce)=>f("div",{style:D.uploadItem,children:[f("span",{children:[ce+1,". ",te.name]}),l("span",{style:D.removeFileButton,onClick:()=>Vt(ce),children:"X"})]},ce)):l("p",{children:"No files uploaded yet."})})]}),l("button",{onClick:()=>{C("table"),Y([])},children:"Back"}),l("button",{style:{display:T.uploads?"inline-block":"none"},onClick:q,children:"Upload"})]})]})}),R==="Award Credit"&&l("div",{style:{width:"100%"},children:l("div",{style:D.profileContainer,children:f("div",{style:{textAlign:"center",width:"100%"},children:[f("h2",{children:["Credit Award for ",B.title," ",B.lastName," ",B.firstName]}),f("h2",{children:["Credit: ₦",B.credit]}),l("input",{style:D.input,type:"number",min:"0",step:"500",placeholder:"Amount to award",value:Se,onInput:te=>{let ce=parseFloat(te.target.value);isNaN(ce)||(te.target.value=ce.toFixed(2))},onChange:te=>Re(te.target.value)}),l("button",{style:D.button,onClick:()=>{G("Editing Pad")},children:"Back"}),l("button",{style:{...D.button,display:b===1?"inline-block":"none"},onClick:be,children:"Award Credit"})]})})})]})}function rm(){const{state:p}=N.useContext(bn),{spineUrl:m,token:h,accessLevel:y,allStates:_,clinicianGrades:k,clinicianSpecialties:b}=p,[S,P]=N.useState("page1"),[w,E]=N.useState({}),[R,G]=N.useState([]),[ne,M]=N.useState({photo:null,rightFinger:null,leftFinger:null}),[I,Z]=N.useState({verifiedWatcher:"",emailOTP:"",mobileOTP:"",kp2EmailOTP:""}),[j,ie]=N.useState("");kn();const[K,de]=N.useState(!1),[Se,Re]=N.useState(""),Me=N.useRef(null);N.useEffect(()=>{(()=>{if(w.dob){const Oe=new Date(w.dob),C=new Date;let ee=C.getFullYear()-Oe.getFullYear();const W=C.getMonth()-Oe.getMonth(),T=C.getDate()-Oe.getDate();(W<0||W===0&&T<0)&&ee--,E({...w,age:ee})}else E({...w,age:null})})()},[w.dob]);const J=async()=>{if(de(!0),!w.title||!w.lastName||!w.firstName||!w.dob||!w.gender||!w.address||!w.state||!w.mobile||!w.email){alert("Complete all fields!");return}try{const X=await fetch(`${m}/clinicians/generate_email_and_mobile_otp?email=${encodeURIComponent(w.email)}&mobile=${w.mobile}`,{method:"GET",headers:{Authorization:`Bearer ${h}`,"Content-Type":"application/json"}});if(X.ok){const Oe=await X.json();Z({...I,emailOTP:Oe.emailOTP,mobileOTP:Oe.mobileOTP}),P("page3")}else{const Oe=await X.json();alert(Oe.message)}}catch(X){console.error("Submission error:",X),alert("An error occurred while generating otp")}finally{de(!1)}},Q=async()=>{if(w.emailOTP!==I.emailOTP){alert("Invalid Email OTP!");return}else if(w.mobileOTP!==I.mobileOTP){alert("Invalid Mobile OTP!");return}else alert("Keyperson Email and Mobile number verified!"),P("page4")},Fe=async()=>{if(!w.domain||!w.grade||!w.specialty||!w.registrationNumber||!w.folioNumber||!w.licenseExpiry){alert("Complete all fields");return}P("page5")},B=()=>{const X=Me.current.getScreenshot();M({...ne,photo:X})},Be=async()=>{if(de(!0),confirm("Confirm submission")){const Oe={};Object.entries(w).forEach(([C,ee])=>{Oe[C]=ee}),Object.entries(ne).forEach(([C,ee])=>{Oe[C]=ee});try{const C=await fetch(`${m}/clinicians/clinician_signup`,{method:"POST",headers:{Authorization:`Bearer ${h}`,"Content-Type":"application/json"},body:JSON.stringify(Oe)});if(C.ok){const ee=await C.json();ie(ee.message),P("page6")}else{const ee=await C.json();alert(ee.message)}}catch(C){console.error("Submission error:",C),alert("An error occurred signing up new clinician")}finally{de(!1)}}else alert("New clinician signup cancelled!"),de(!1)},ye=()=>{E({}),M({}),P("page1")},re={container:{width:"90%",height:"65vh",margin:"0 auto",padding:"20px",backgroundColor:"#ffffff",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",overflowY:"auto",cursor:K?"wait":"default"},label:{display:"block",fontSize:"0.9em",color:"#555",marginBottom:"8px",width:"98%",cursor:K?"wait":"default"},input:{width:"100%",padding:"10px",marginBottom:"15px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"1em",backgroundColor:"white",color:"black",cursor:K?"wait":"default"},TCBody:{height:"60vh",width:"100%",overflowY:"auto",margin:"20px",textAlign:"left",cursor:K?"wait":"default"},TCButton:{padding:"10px 20px",backgroundColor:"#007bff",color:"white",cursor:K?"wait":"pointer",borderRadius:"4px",textAlign:"center"}},ae={button:{padding:"10px",backgroundColor:"#007BFF",color:"#FFF",border:"none",cursor:K?"wait":"pointer"}};return f("div",{style:{cursor:K?"wait":"default"},children:[S==="page1"&&f("div",{children:[l("h2",{children:"Clinicians Terms And Conditions"}),f("div",{style:re.TCBody,children:[l("h3",{children:"GENERAL"}),f("p",{children:[l("strong",{children:"Minor:"})," All minors are required to be registered under an adult who would be responsible for them at all times"]}),l("br",{})]}),l("span",{style:re.TCButton,onClick:()=>P("page2"),children:"Agree"})]}),S==="page2"&&f("div",{children:[l("h2",{children:"Clinician's Biodata: "}),f("div",{style:re.container,children:[f("label",{style:re.label,children:[l("input",{type:"hidden",value:ne.photo,style:re.input}),l("input",{type:"hidden",value:ne.rightFinger,style:re.input}),l("input",{type:"hidden",value:ne.leftFinger,style:re.input})]}),f("label",{style:re.label,children:["Title:",f("select",{type:"text",value:w.title,onChange:X=>E({...w,title:X.target.value}),style:re.input,children:[l("option",{value:"",children:"Select Title"}),l("option",{value:"Dr.",children:"Dr."}),l("option",{value:"Prof.",children:"Prof."})]})]}),f("label",{style:re.label,children:["Last Name:",l("input",{type:"text",value:w.lastName,onChange:X=>E({...w,lastName:X.target.value}),style:re.input})]}),f("label",{style:re.label,children:["First Name:",l("input",{type:"text",value:w.firstName,onChange:X=>E({...w,firstName:X.target.value}),style:re.input})]}),f("label",{style:re.label,children:["Date of Birth:",l("input",{type:"date",value:w.dob,onChange:X=>E({...w,dob:X.target.value}),style:re.input}),f("p",{style:{display:w.age?"inline-block":"none"},children:[w.age,"years"]})]}),f("label",{style:re.label,children:["Gender:",f("select",{type:"text",value:w.gender,onChange:X=>E({...w,gender:X.target.value}),style:re.input,children:[l("option",{value:"",children:"Select Gender"}),l("option",{value:"male",children:"Male"}),l("option",{value:"female",children:"Female"})]})]}),f("label",{style:re.label,children:["NIN(You would be held liable if you do not thorough verified the accuracy of NIN provided by signee.):",l("input",{type:"text",value:w.nin,onChange:X=>E({...w,nin:X.target.value}),style:re.input})]}),f("label",{style:re.label,children:["Correspondence Address:",l("input",{type:"text",value:w.address,onChange:X=>E({...w,address:X.target.value}),style:re.input})]}),f("label",{style:re.label,children:["State of Residence:",f("select",{type:"text",value:w.state,onChange:X=>E({...w,state:X.target.value}),style:re.input,children:[l("option",{value:"",children:"Select"}),_.map(X=>l("option",{children:X},X))]})]}),f("label",{style:re.label,children:["Telephone:",l("input",{type:"number",value:w.telephone,onChange:X=>E({...w,telephone:X.target.value}),style:re.input})]}),f("label",{style:re.label,children:["Mobile:",l("input",{type:"number",value:w.mobile,onChange:X=>E({...w,mobile:X.target.value}),style:re.input})]}),f("label",{style:re.label,children:["Email (Every client must be linked to an email or mobile number for correspondence purposes):",l("input",{type:"email",value:w.email,onChange:X=>E({...w,email:X.target.value}),style:re.input})]}),l("span",{style:re.TCButton,onClick:J,children:"Next Page"}),l("span",{style:re.TCButton,onClick:()=>P("page1"),children:"Back"})]})]}),S==="page3"&&f("div",{children:[l("h2",{children:"Email/Mobile Number Verification"}),f("div",{style:re.container,children:[l("label",{style:re.label,children:l("input",{type:"text",name:"emailOTP",value:w.emailOTP,onChange:X=>E({...w,emailOTP:X.target.value}),style:re.input,placeholder:"Email Verification code..."})}),l("label",{style:re.label,children:l("input",{type:"text",name:"mobileOTP",value:w.mobileOTP,onChange:X=>E({...w,mobileOTP:X.target.value}),style:re.input,placeholder:"Mobile Verification code..."})}),l("span",{style:re.TCButton,onClick:Q,children:"Verify"}),l("span",{style:re.TCButton,onClick:()=>P("page2"),children:"Back"})]})]}),S==="page4"&&f("div",{children:[l("h2",{children:"Professional Data"}),f("div",{style:re.container,children:[f("label",{style:re.label,children:["Domain:",f("select",{type:"text",value:w.domain,onChange:X=>E({...w,domain:X.target.value}),style:re.input,children:[l("option",{value:"",children:"Select Domain"}),l("option",{value:"medical",children:"medical"}),l("option",{value:"dental",children:"dental"})]})]}),f("label",{style:re.label,children:["Grade:",f("select",{type:"text",value:w.grade,onChange:X=>E({...w,grade:X.target.value}),style:re.input,children:[l("option",{value:"",children:"Select Grade"}),k.map(X=>l("option",{children:X},X))]})]}),f("label",{style:re.label,children:["Specialty:",f("select",{type:"text",value:w.specialty,onChange:X=>E({...w,specialty:X.target.value}),style:re.input,children:[l("option",{value:"",children:"Select Specialty"}),b.map(X=>l("option",{children:X},X))]})]}),f("label",{style:re.label,children:["Registration Number:",l("input",{type:"text",value:w.registrationNumber,onChange:X=>E({...w,registrationNumber:X.target.value}),style:re.input,placeholder:"Doctor's MDCN Registration number..."})]}),f("label",{style:re.label,children:["Folio Number:",l("input",{type:"text",value:w.folioNumber,onChange:X=>E({...w,folioNumber:X.target.value}),style:re.input,placeholder:"Doctors MDCN Folio Number..."})]}),f("label",{style:re.label,children:["License Expiry:",l("input",{type:"date",name:"licenseExpiry",value:w.licenseExpiry,onChange:X=>E({...w,licenseExpiry:X.target.value}),style:re.input})]}),l("span",{style:re.TCButton,onClick:Fe,children:"Next Page"}),l("span",{style:re.TCButton,onClick:()=>P("page3"),children:"Back"})]})]}),S==="page5"&&l("div",{style:re.container,children:f("div",{style:{display:"flex",flexDirection:"row"},children:[f("div",{style:{width:"50%"},children:[l("h2",{children:"Webcam"}),l(Na,{audio:!1,ref:Me,screenshotFormat:"image/png",width:400}),l("div",{style:{margin:"20px 0"},children:l("button",{onClick:B,children:"Capture Photo"})})]}),f("div",{style:{display:ne.photo?"inline-block":"none"},children:[ne.photo&&f("div",{children:[l("h3",{children:"Photo Preview"}),l("img",{src:ne.photo,alt:"Captured",width:400})]}),f("div",{style:{marginTop:"20px"},children:[l("button",{onClick:Be,children:"Submit"}),l("span",{style:re.TCButton,onClick:()=>{P("page4"),M({...ne,photo:null})},children:"Back"})]})]}),Se&&l("p",{children:Se})]})}),S==="page6"&&f("div",{children:[j,l("div",{style:{margin:"10px 0"},children:l("button",{style:ae.button,onClick:ye,children:"Close"})})]})]})}function om(){const{state:p,logout:m,updatePatient:h}=N.useContext(bn),{token:y,spineUrl:_,category:k,accessLevel:b,configurations:S,serviceBranches:P,userID:w,organisation:E}=p,[R,G]=N.useState("Home"),[ne,M]=N.useState("table"),[I,Z]=N.useState({}),[j,ie]=N.useState([]),[K,de]=N.useState({}),[Se,Re]=N.useState([]),[Me,J]=N.useState(""),[Q,Fe]=N.useState(""),[B,Be]=N.useState(""),[ye,re]=N.useState(!1),[ae,X]=N.useState(!1);kn(),N.useEffect(()=>{(async()=>{try{const Ce=await fetch(`${_}/clinicians/fetch_clinicians?q=${encodeURIComponent(B)}`,{method:"GET",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"}});if(console.log(_),Ce.ok){const We=await Ce.json();ie(We.clinicians)}else{const We=await Ce.json();alert(We.message),console.error("Failed to fetch keypersons:",Ce.statusText)}}catch(Ce){console.error("Error fetching keypersons:",Ce)}})()},[_,y,B,ye]);const Oe=async()=>{try{if(!confirm("You are about to modify a clinician. Do you assume responsibility for this change?")){alert("Action cancelled!");return}const Ce=await fetch(`${_}/clinicians/modify_clinician`,{method:"POST",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"},body:JSON.stringify(K)});if(Ce.ok){const We=await Ce.json();alert(We.message),re(it=>!it)}else{const We=await Ce.json();alert(We.message),console.error("Failed to fetch localities:",Ce.statusText)}}catch(pe){console.error("Error fetching localities:",pe)}},C=N.useRef(null),ee=()=>{const pe=C.current.getScreenshot();de(Ce=>({...Ce,newPhoto:pe}))},W=async()=>{if(!confirm("Confirm Image Upload")){alert("Image Upload cancelled!"),de({...K,newPhoto:null});return}try{const Ce=await fetch(`${_}/clinicians/photo_upload`,{method:"POST",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"},body:JSON.stringify({registrationNumber:K.registrationNumber,newPhoto:K.newPhoto})});if(Ce.ok){const We=await Ce.json();We.newPhotoUrl&&de({...K,photoUrl:We.newPhotoUrl}),G("Editing Pad"),de({...K,newPhoto:null}),Re([])}else{const We=await Ce.json();alert(We.message)}}catch(Ce){console.error("Submission error:",Ce),alert("An error occurred uploading clinician photo")}},T=pe=>{const{name:Ce,type:We,files:it}=pe.target;if(We==="file"){const ve=Array.from(it);Re(Vt=>({...Vt,[Ce]:[...Vt[Ce]||[],...ve]}))}},Y=pe=>{Re(Ce=>{const We=[...Ce.uploads];return We.splice(pe,1),{uploads:We}})},Ee=pe=>new Promise((Ce,We)=>{const it=new FileReader;it.onloadend=()=>Ce(it.result.split(",")[1]),it.onerror=We,it.readAsDataURL(pe)}),Te=async()=>{if(confirm("Confirm submission")){const Ce=await Promise.all(Se.uploads.map(async We=>{const it=await Ee(We);return{name:We.name,content:it}}));try{const We=await fetch(`${_}/clinicians/file_upload`,{method:"POST",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"},body:JSON.stringify({registrationNumber:K.registrationNumber,uploads:Ce})});if(We.ok){const it=await We.json();de({...K,documents:it.documents}),M("table")}else{const it=await We.json();alert(it.message)}}catch(We){console.error("File upload error:",We),alert("An error occurred uploading files")}}else alert("File upload cancelled!")},ke=async()=>{if(!I.validity){alert("Document validity missing!");return}confirm("Ensure due diligence has been done on file before modifying file verification status.")||alert("File verification cancelled!");try{const Ce=await fetch(`${_}/clinicians/file_verification`,{method:"POST",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"},body:JSON.stringify({registrationNumber:K.registrationNumber,fileKey:I.fileKey,validity:I.validity,verification:"verified"})});if(Ce.ok){const We=await Ce.json();de({...K,documents:We.documents}),M("table"),X(!1)}else{const We=await Ce.json();alert(We.message)}}catch(Ce){console.error("File verification error:",Ce),alert("An error occurred uploading files")}},we=async()=>{if(!I.validity){alert("Document validity missing!");return}confirm("Ensure due diligence has been done on file before modifying file verification status.")||alert("File verification cancelled!");try{const Ce=await fetch(`${_}/clinicians/file_verification`,{method:"POST",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"},body:JSON.stringify({registrationNumber:K.registrationNumber,fileKey:I.fileKey,validity:I.validity,verification:"unverified"})});if(Ce.ok){const We=await Ce.json();de({...K,documents:We.documents}),M("table"),X(!1)}else{const We=await Ce.json();alert(We.message)}}catch(Ce){console.error("File verification error:",Ce),alert("An error occurred uploading files")}},fe={page:{color:"black",height:"100%",width:"100%",overflowY:"hidden",overflowX:"hidden",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center"},searchFieldContainer:{display:"flex",flexDirection:"row",backgroundColor:"grey",alignItems:"left",justifyContent:"left"},searchField:{backgroundColor:"white",color:"black",right:"20px",width:"35%",height:"25px",top:"120px"},stateSelector2:{backgroundColor:"#2c3e50",color:"white",right:"20px",width:"15%",height:"25px",top:"120px"},tableContainer:{height:"79vh",backgroundColor:"white",width:"100%"},table:{width:"95%",borderCollapse:"collapse",marginTop:"20px"},thead:{backgroundColor:"#2c3e50",color:"white",position:"sticky",top:"0px",zIndex:2e3},profileContainer:{display:"flex",flexDirection:"row",color:"black",backgroundColor:"#f9f9f9",padding:"20px",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",width:"80%",height:"70vh",margin:"20px auto",textAlign:"center"},photoContainer:{position:"sticky",top:"10px",left:"80px",backgroundColor:"#fff",height:"200px",width:"200px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"10px",border:"1px solid #ddd",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)",overflow:"hidden"},photoContainer2:{position:"sticky",top:"10px",left:"80px",backgroundColor:"#fff",height:"380px",width:"380px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"10px",border:"1px solid #ddd",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)",overflow:"hidden"},image:{height:"100%",width:"100%",objectFit:"cover"},placeholderText:{color:"#666",fontSize:"16px",fontStyle:"italic",textAlign:"center"},section:{display:"block",width:"45%",marginBottom:"20px",textAlign:"left",lineHeight:"0.8"},input:{padding:"10px",marginRight:"10px",borderRadius:"5px",border:"1px solid #ccc",width:"200px",backgroundColor:"white",color:"black"},button:{backgroundColor:"#3498db",margin:"5px"},topCloseButton:{height:"30px",width:"100px",backgroundColor:"red",cursor:"pointer"},docVerificationOverlay:{display:ae?"block":"none",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:2e3,pointerEvents:"auto",width:"40%",height:"40%",backgroundColor:"grey",textAlign:"center"},uploadfield:{padding:"20px",border:"1px solid #ccc",borderRadius:"8px"},uploadInput:{marginBottom:"10px"},uploadedFiles:{marginTop:"10px",listStyleType:"none",padding:"0",minHeight:"4vh"},uploadItem:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},removeFileButton:{color:"red",cursor:"pointer"}},$e=pe=>({backgroundColor:pe%2===0?"#f9f9f9":"#e0e0e0",cursor:"pointer"});return f("div",{style:fe.page,children:[R==="Home"&&f("div",{style:fe.tableContainer,children:[f("div",{style:fe.searchFieldContainer,children:[f("select",{style:fe.stateSelector2,value:Me,onChange:pe=>J(pe.target.value),children:[l("option",{value:"",children:"Select Branch"}),P.map(pe=>l("option",{value:pe.branchID,children:pe.branchName},pe.branchID))]}),l("input",{style:fe.searchField,value:B,onChange:pe=>Be(pe.target.value),placeholder:"Search here for client"})]}),f("table",{style:{width:"100%"},children:[l("thead",{style:fe.thead,children:f("tr",{children:[l("th",{}),l("th",{children:"Clinician"}),l("th",{children:"Reg Number"}),l("th",{children:"Folio Number"}),l("th",{children:"Specialty"}),l("th",{children:"Grade"}),l("th",{children:"Email"}),l("th",{children:"License Status"}),l("th",{children:"License Expiry"}),l("th",{children:"Account Status"}),l("th",{children:"Action"})]})}),l("tbody",{children:j.map((pe,Ce)=>f("tr",{style:$e(Ce),children:[l("td",{children:Ce+1}),l("td",{children:pe.clinician}),l("td",{children:pe.registrationNumber}),l("td",{children:pe.folioNumber}),l("td",{children:pe.specialty}),l("td",{children:pe.grade}),l("td",{children:pe.email}),l("td",{children:pe.licenseStatus}),l("td",{children:pe.licenseExpiry}),l("td",{children:pe.accountStatus}),l("td",{children:l("button",{onClick:()=>{de(pe),G("Editing Pad")},children:"Open Profile"})})]},pe))})]})]}),R==="Editing Pad"&&f("div",{style:{width:"100%"},children:[f("div",{style:fe.profileContainer,children:[f("div",{style:fe.section,children:[l("div",{style:fe.photoContainer,children:K.photoUrl?l("img",{src:K.photoUrl,style:fe.image,alt:"User's photo"}):l("div",{style:fe.placeholderText,children:"Photo Not Found"})}),l("span",{style:{textDecoration:"underline",color:"green",cursor:"pointer"},onClick:()=>G("Photo Upload"),children:"Change Photo"}),f("p",{children:[l("strong",{children:"Clinician:"})," ",K.clinician]}),f("p",{children:[l("strong",{children:"MDCN Registration:"})," ",K.registrationNumber]}),f("p",{children:[l("strong",{children:"Folio Number:"})," ",K.folioNumber]}),f("p",{children:[l("strong",{children:"License Status:"})," ",K.licenseStatus]}),f("p",{children:[l("strong",{children:"License Expiry:"})," ",K.licenseExpiry]}),f("div",{style:{marginBottom:"20px",display:b>=5?"inline-block":"none"},children:["Vetting:",K.vettingStatus]}),f("div",{style:{marginBottom:"20px",display:b>=5?"inline-block":"none"},children:["Account Status:",K.accountStatus]}),f("div",{style:{marginBottom:"20px",display:b<=4?"inline-block":"none"},children:["Vetting:",f("select",{style:fe.input,value:K.vettingStatus||"",onChange:pe=>de({...K,vettingStatus:pe.target.value}),children:[l("option",{value:"pending",children:"Pending"}),l("option",{value:"completed",children:"Completed"})]})]}),f("div",{style:{marginBottom:"20px",display:b<=4?"inline-block":"none"},children:["Account Status:",f("select",{style:fe.input,value:K.accountStatus||"",onChange:pe=>de({...K,accountStatus:pe.target.value}),children:[l("option",{value:"pending",children:"Pending"}),l("option",{value:"approved",children:"Approved"}),l("option",{value:"reported",children:"Reported"}),l("option",{value:"banned",children:"Banned"}),l("option",{value:"license withdrawn",children:"License Withdrawn"})]})]}),l("button",{style:{...fe.button,display:b<=4?"inline-block":"none"},onClick:Oe,children:"Save Changes"}),l("button",{style:fe.button,onClick:()=>G("Documents"),children:"Documents"})]}),l("div",{style:{...fe.section,width:"60%"},children:l("div",{style:{height:"40%",width:"100%"},children:f("table",{style:fe.table,children:[l("thead",{style:fe.thead,children:f("tr",{children:[l("th",{children:"Role"}),l("th",{children:"Employer"}),l("th",{children:"Category"}),l("th",{children:"Contact"})]})}),l("tbody",{children:K.employers&&K.employers.length>0?K.employers.map((pe,Ce)=>f("tr",{children:[l("td",{children:pe.role}),l("td",{children:pe.organisation}),l("td",{children:pe.category}),l("td",{children:pe.telephone})]},Ce)):l("tr",{colSpan:"4",style:{textAlign:"right"},children:"No active employment"})})]})})})]}),l("button",{onClick:()=>{G("Home"),de({})},children:"Close"})]}),R==="Photo Upload"&&l("div",{style:{width:"100%"},children:f("div",{style:fe.profileContainer,children:[f("div",{style:{...fe.section,width:"50%"},children:[l("h2",{children:"Web Cam"}),l("div",{style:fe.photoContainer2,children:l(Na,{audio:!1,ref:C,screenshotFormat:"image/png",width:400})}),l("button",{style:fe.button,onClick:ee,children:"Capture"}),l("button",{style:fe.button,onClick:()=>{G("Editing Pad"),de({...K,newPhoto:null})},children:"Back"})]}),f("div",{style:{...fe.section,width:"50%",display:K.newPhoto?"inline-block":"none"},children:[f("h2",{children:["Preview (",K.clinician,")"]}),l("div",{style:fe.photoContainer2,children:K.newPhoto?l("img",{src:K.newPhoto,alt:"Captured",width:400}):l("div",{style:fe.placeholderText,children:"No image captured"})}),l("button",{style:fe.button,onClick:W,children:"Upload"})]})]})}),R==="Documents"&&l("div",{style:{width:"100%"},children:f("div",{style:fe.profileContainer,children:[ne==="table"&&f("div",{style:{...fe.section,width:"100%"},children:[l("div",{style:{height:"40%",width:"100%"},children:f("table",{style:fe.table,children:[l("thead",{style:fe.thead,children:f("tr",{children:[l("th",{children:"Document"}),l("th",{children:"Validity"}),l("th",{children:"Verification"}),l("th",{children:"Action"})]})}),l("tbody",{children:K.documents&&K.documents.length>0?K.documents.map((pe,Ce)=>f("tr",{children:[l("td",{children:pe.fileName}),l("td",{children:pe.validity||"not set"}),l("td",{children:pe.verification||"unverified"}),l("td",{children:l("button",{onClick:()=>{M("iframe"),Z(pe)},children:"View"})})]},Ce)):l("tr",{colSpan:"4",style:{textAlign:"right"},children:"No documents uploaded"})})]})}),l("button",{onClick:()=>{G("Editing Pad")},children:"Close"}),l("button",{onClick:()=>{M("upload")},children:"Upload Document"})]}),ne==="iframe"&&l("div",{style:{...fe.section,width:"100%",position:"relative",zIndex:1e3,pointerEvents:ae?"none":"auto"},children:f("div",{children:[l("span",{style:fe.topCloseButton,onClick:()=>{M("table"),I({}),X(!1)},children:"Close"}),l("iframe",{style:{height:"60vh",width:"100%"},src:I.fileUrl}),f("div",{style:fe.docVerificationOverlay,children:[f("div",{children:[l("h3",{children:"When does this document expire?"}),l("input",{style:fe.input,type:"date",value:I.validity||"",onChange:pe=>Z({...I,validity:pe.target.value})}),l("button",{style:{...fe.button,display:I.verification==="unverified"?"inline-block":"none"},onClick:ke,children:"Verify"}),l("button",{style:{...fe.button,display:I.verification==="verified"?"inline-block":"none"},onClick:we,children:"De-Verify"})]}),l("span",{style:fe.topCloseButton,onClick:()=>X(!1),children:"Close"})]}),l("button",{style:{...fe.button,display:I.verification==="verified"?"none":"inline-block"},onClick:()=>X(!0),children:"Verify"}),l("button",{style:{...fe.button,display:I.verification==="verified"&&b<=3?"inline-block":"none"},onClick:()=>X(!0),children:"De-Verify"})]})}),ne==="upload"&&f("div",{style:{...fe.section,width:"100%"},children:[f("div",{style:fe.uploadfield,children:[f("div",{style:fe.uploadInput,children:[l("label",{children:"Upload File"}),l("input",{name:"uploads",type:"file",onChange:T,multiple:!0})]}),l("div",{style:fe.uploadedFiles,children:Se.uploads&&Se.uploads.length>0?Se.uploads.map((pe,Ce)=>f("div",{style:fe.uploadItem,children:[f("span",{children:[Ce+1,". ",pe.name]}),l("span",{style:fe.removeFileButton,onClick:()=>Y(Ce),children:"X"})]},Ce)):l("p",{children:"No files uploaded yet."})})]}),l("button",{onClick:()=>{M("table"),Re([])},children:"Back"}),l("button",{style:{display:Se.uploads?"inline-block":"none"},onClick:Te,children:"Upload"})]})]})})]})}function am(){const{state:p}=N.useContext(bn),{spineUrl:m,token:h,accessLevel:y,allStates:_,referenceLibrary:k}=p,[b,S]=N.useState("page1"),[P,w]=N.useState("home"),[E,R]=N.useState({}),[G,ne]=N.useState([]),[M,I]=N.useState({}),[Z,j]=N.useState(""),[ie,K]=N.useState(""),[de,Se]=N.useState("");kn();const[Re,Me]=N.useState(!1),J=["clinic","dental","diagnostics","hospital","pharmacy","physiotherapy"];N.useEffect(()=>{(async()=>{try{const ee=await fetch(`${m}/services/fetch_public_reference_inventory?serviceType=${encodeURIComponent(ie)}&q=${encodeURIComponent(Z)}`,{method:"GET",headers:{Authorization:`Bearer ${h}`,"Content-Type":"application/json"}});if(ee.ok){const W=await ee.json();ne(W.prescribeNgServices)}else{const W=await ee.json();alert(W.message)}}catch(ee){console.error("Error checking duplicate service:",ee),alert("could not check for duplicate service")}finally{Me(!1)}})()},[m,ie,Z]);const Q=C=>{I(C),S("productPage")};N.useEffect(()=>{(async()=>{try{const ee=await fetch(`${m}/services/check_for_duplicate_service?serviceType=${encodeURIComponent(E.serviceType)}&nonproprietaryName=${encodeURIComponent(E.nonproprietaryName)}`,{method:"GET",headers:{Authorization:`Bearer ${h}`,"Content-Type":"application/json"}});if(ee.ok){const W=await ee.json();Se(W.duplicateService)}else{const W=await ee.json();alert(W.message)}}catch(ee){console.error("Error checking duplicate service:",ee),alert("could not check for duplicate service")}finally{Me(!1)}})()},[E.nonproprietaryName]);const Fe=async()=>{if(de){alert("Duplicated service!");return}if(!E.serviceType||!E.itemClass||!E.itemSubclass||!E.legalClass||!E.nonproprietaryName||!E.description){alert("All fields are required!");return}if(confirm("Confirm submission")){const ee={};Object.entries(E).forEach(([W,T])=>{ee[W]=T});try{const W=await fetch(`${m}/services/create_new_reference_inventory_item`,{method:"POST",headers:{Authorization:`Bearer ${h}`,"Content-Type":"application/json"},body:JSON.stringify(ee)});if(W.ok){const T=await W.json();alert(T.message)}else{const T=await W.json();alert(T.message)}}catch(W){console.error("Submission error:",W),alert("An error occurred creating new service")}}else alert("New service creation cancelled!")},B=async C=>{let ee=C;if(!confirm(`You are about to set service authorization status to ${C}. Do you want to procede?`)){alert("Action cancelled!");return}try{const T=await fetch(`${m}/services/service_authorization`,{method:"POST",headers:{Authorization:`Bearer ${h}`,"Content-Type":"application/json"},body:JSON.stringify({sku:M.sku,authorizationStatus:ee})});if(T.ok){const Y=await T.json();alert(Y.message)}else{const Y=await T.json();alert(Y.message)}}catch(T){console.error("Authorization error:",T),alert("An error occurred authorizing service")}},Be=async()=>{if(!confirm("Confirm submission")){alert("Action cancelled!");return}try{const ee=await fetch(`${m}/services/update_allowed_categories`,{method:"POST",headers:{Authorization:`Bearer ${h}`,"Content-Type":"application/json"},body:JSON.stringify({sku:M.sku,allowedCategories:M.allowedCategories})});if(ee.ok){const W=await ee.json();alert(W.message)}else{const W=await ee.json();alert(W.message)}}catch(ee){console.error("Submission error:",ee),alert("An error occurred updating allowed categories")}},ye=C=>{const ee=[...M.allowedCategories,C];I({...M,allowedCategories:ee})},re=C=>{const ee=M.allowedCategories.filter(W=>W!==C);I({...M,allowedCategories:ee})},ae={container:{width:"90%",height:"65vh",margin:"0 auto",padding:"20px",backgroundColor:"#ffffff",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",overflowY:"auto"},productContainer:{width:"90%",height:"60vh",textAlign:"left",margin:"0 auto",padding:"20px",backgroundColor:"#ffffff",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",overflowY:"auto"},label:{display:"block",fontSize:"0.9em",color:"#555",marginBottom:"8px",width:"98%"},input:{width:"100%",padding:"10px",marginBottom:"15px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"1em",backgroundColor:"white",color:"black"},textarea:{width:"100%",padding:"10px",marginBottom:"15px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"1em",resize:"vertical",minHeight:"80px",backgroundColor:"white",color:"black"},TCBody:{height:"60vh",width:"100%",overflowY:"auto",margin:"20px",textAlign:"left"},TCButton:{padding:"10px 20px",backgroundColor:"#007bff",margin:"5px",color:"white",cursor:"pointer",borderRadius:"4px",textAlign:"center"},tableContainer:{height:"79vh",backgroundColor:"white",width:"100%"},thead:{backgroundColor:"grey",position:"sticky",top:"0px",zIndex:2e3},serviceTypeSelector:{backgroundColor:"orange",color:"white",right:"20px",width:"25%",height:"25px",top:"120px"},searchContainer:{backgroundColor:"grey",alignItems:"left",justifyContent:"left"},searchField:{backgroundColor:"white",color:"black",right:"20px",width:"25%",height:"25px",top:"120px"},categoryContainer:{padding:"20px",display:"grid",gap:"20px",gridTemplateRows:"auto auto",gridTemplateColumns:"repeat(auto-fit, minmax(100px, 1fr))",height:"80%",width:"100%",overflowY:"auto"}},X=C=>({backgroundColor:C%2===0?"#f9f9f9":"#e0e0e0",cursor:"pointer"}),Oe=C=>{const ee=M.allowedCategories.some(W=>W===C);return{display:"flex",justifyContent:"center",alignItems:"center",border:"0.5px solid",width:"120px",height:"60px",aspectRatio:"1",textAlign:"center",cursor:Re?"wait":"pointer",backgroundColor:ee?"#3498db":"white",transition:"background-color 0.3s ease"}};return f("div",{children:[b==="page1"&&f("div",{children:[l("h2",{children:"PRESCRIBENG SERVICES SECTION"}),f("div",{style:ae.TCBody,children:[l("h3",{children:"WARNING"}),l("p",{children:"This page is strictly for personnels of the medical department and includes the following roles: doctor, nurse, pharmacies, radiographers, laboratory scientist"}),l("p",{children:"If you do not belong to the medical department and one of the mentioned roles, exit the page immediately and report to the technical team."})]}),l("span",{style:ae.TCButton,onClick:()=>S("page2"),children:"View Existing Services "}),l("span",{style:ae.TCButton,onClick:()=>S("newServiceForm1"),children:"Create New Services"}),l("span",{style:{...ae.TCButton,display:y<3?"inline-block":"none"},onClick:()=>S("newServiceForm2"),children:"Create New Scheme"})]}),b==="page2"&&l("div",{children:l("div",{style:ae.container,children:f("div",{style:ae.tableContainer,children:[f("div",{style:ae.searchContainer,children:[f("select",{style:ae.serviceTypeSelector,value:ie,onChange:C=>K(C.target.value),children:[l("option",{value:"",children:"Select Service Type"}),k.serviceTypes.map(C=>l("option",{children:C},C))]}),l("input",{style:ae.searchField,value:Z,onChange:C=>j(C.target.value),placeholder:"Search here for services"}),l("span",{onClick:()=>S("page1"),style:{position:"relative",top:"0px",right:"0px"},children:"Close"})]}),f("table",{style:{width:"100%"},children:[l("thead",{style:ae.thead,children:f("tr",{children:[l("th",{children:"S/N"}),l("th",{children:"Service Type"}),l("th",{children:"Class"}),l("th",{children:"Subclass"}),l("th",{children:"Legal Class"}),l("th",{children:"Generic Name"}),l("th",{children:"Description"}),l("th",{children:"Scheme"}),l("th",{children:"Status"})]})}),l("tbody",{children:G.map((C,ee)=>f("tr",{style:X(ee),onClick:()=>Q(C),children:[l("td",{children:ee+1}),l("td",{children:C.serviceType}),l("td",{children:C.itemClass}),l("td",{children:C.itemSubclass}),l("td",{children:C.legalClass}),l("td",{children:C.nonproprietaryName}),l("td",{children:C.description}),l("td",{children:C.scheme}),l("td",{children:C.authorizationStatus})]},C))})]})]})})}),b==="productPage"&&l("div",{children:f("div",{children:[P==="home"&&f("div",{children:[l("h3",{children:"Product Page"}),f("div",{style:ae.productContainer,children:[l("span",{style:{textDecoration:"underline",color:"red"},onClick:()=>S("page2"),children:"Back"}),f("div",{style:{display:"flex",flexDirection:"row",height:"80%",overflowY:"hidden"},children:[f("div",{style:{width:"70%",height:"100%",overflowY:"auto"},children:[f("p",{children:[l("strong",{children:"Service Item: "}),M.nonproprietaryName]}),f("p",{children:[l("strong",{children:"Type: "}),M.serviceType]}),f("p",{children:[l("strong",{children:"Class: "}),M.itemClass]}),f("p",{children:[l("strong",{children:"Subclass: "}),M.itemSubclass]}),l("br",{}),f("p",{children:[l("strong",{children:"Scheme: "}),M.scheme]}),f("p",{children:[l("strong",{children:"Item Description: "}),M.description]}),l("br",{}),f("p",{children:[l("strong",{children:"Status: "}),M.authorizationStatus]}),f("p",{children:[l("strong",{children:"Added On: "}),M.createdOn]}),l("br",{}),f("p",{children:[l("strong",{children:"Added By: "}),M.createdBy]}),l("br",{}),f("p",{style:{display:M.authorizationStation==="authorized"?"inline-block":"none"},children:[l("strong",{children:"Authorized By: "}),M.authorizedBy]}),l("br",{})]}),f("div",{style:{display:"block",width:"23%",height:"100%",overflowY:"auto"},children:[l("button",{style:{...ae.TCButton},onClick:()=>w("allowedCategories"),children:"Allowed Categories"}),l("br",{}),l("button",{style:{...ae.TCButton,display:M.authorizationStation==="authorized"?"none":"inline-block"},onClick:()=>B("authorized"),children:"Authorize"}),l("br",{}),l("button",{style:{...ae.TCButton,display:M.authorizationStation==="authorized"?"none":"inline-block"},onClick:()=>B("unauthorized"),children:"De-Authorize"}),l("br",{}),l("button",{style:{...ae.TCButton,display:M.authorizationStation==="authorized"?"none":"inline-block"},onClick:()=>B("withdrawn"),children:"Withdraw"}),l("br",{}),l("button",{style:{...ae.TCButton,display:M.authorizationStation==="authorized"?"none":"inline-block"},onClick:()=>B("rejected"),children:"Reject"}),l("br",{})]})]})]})]}),P==="allowedCategories"&&f("div",{children:[l("h3",{children:"Allowed Categories"}),f("div",{style:ae.productContainer,children:[l("span",{style:{textDecoration:"underline",color:"red"},onClick:()=>w("home"),children:"Close"}),f("div",{style:{display:"flex",flexDirection:"row",height:"80%",overflowY:"hidden",backgroundColor:"grey"},children:[f("div",{style:{display:"block",width:"45%",margin:"20px",height:"100%"},children:[l("h3",{children:"Categories"}),l("div",{style:ae.categoryContainer,children:J.map(C=>l("div",{style:Oe(C),onClick:()=>ye(C),children:l("p",{children:C})},C))})]}),f("div",{style:{display:"block",width:"45%",margin:"20px",height:"100%"},children:[l("h3",{children:"Allowed Categories"}),l("div",{style:ae.categoryContainer,children:(M==null?void 0:M.allowedCategories.length)>0?M.allowedCategories.map(C=>l("div",{style:Oe(C),onClick:()=>re(C),children:l("p",{children:C})},C)):l("p",{children:"No categories selected"})})]})]}),l("button",{style:ae.TCButton,onClick:Be,children:"Save"})]})]})]})}),b==="newServiceForm1"&&f("div",{children:[l("h3",{children:"New Service Form "}),f("div",{style:ae.container,children:[l("label",{style:ae.label,children:l("p",{style:{display:de?"inline-block":"none",color:"red"},children:l("strong",{children:"Duplicate Service!!! "})})}),f("label",{style:ae.label,children:["Service Type:",f("select",{type:"text",value:E.serviceType,onChange:C=>R({...E,serviceType:C.target.value}),style:ae.input,children:[l("option",{value:"",children:"Select Service Type"}),k.serviceTypes.map(C=>l("option",{children:C},C))]})]}),f("label",{style:ae.label,children:["Service Class:",f("select",{type:"text",value:E.itemClass,onChange:C=>R({...E,itemClass:C.target.value}),style:ae.input,children:[l("option",{value:"",children:"Select Service Class"}),k.serviceClasses.map(C=>l("option",{children:C},C))]})]}),f("label",{style:ae.label,children:["Subclass:",f("select",{type:"text",value:E.itemSubclass,onChange:C=>R({...E,itemSubclass:C.target.value}),style:ae.input,children:[l("option",{value:"",children:"Select Service Subclass"}),k.serviceSubclasses.map(C=>l("option",{children:C},C))]})]}),f("label",{style:ae.label,children:["Legal Classification of Service:",f("select",{type:"text",value:E.legalClass,onChange:C=>R({...E,legalClass:C.target.value}),style:ae.input,children:[l("option",{value:"",children:"Select Legal Class"}),l("option",{value:"GSL",children:"General Sales List"}),l("option",{value:"PO",children:"Pharmacy Only"}),l("option",{value:"POM",children:"Prescription Only Medication"}),l("option",{value:"CD",children:"Controlled Drug"}),l("option",{value:"not applicable",children:"Not Applicable"})]})]}),f("label",{style:ae.label,children:["Nonproprietary/Generic Name:",l("input",{type:"text",value:E.nonproprietaryName,onChange:C=>R({...E,nonproprietaryName:C.target.value}),style:ae.input})]}),f("label",{style:ae.label,children:["Description:",l("textarea",{type:"text",value:E.description,onChange:C=>R({...E,description:C.target.value}),style:ae.textarea,placeholder:"Detailed description of service item, including potential hazards/adverse effects/contraindications"})]}),f("label",{style:ae.label,children:["Sample Container (Where applicable):",l("input",{type:"text",value:E.sampleContainer,onChange:C=>R({...E,sampleContainer:C.target.value}),style:ae.input,placeholder:"'Not applicable' if not required"})]}),l("span",{style:ae.TCButton,onClick:()=>S("page1"),children:"Close"}),l("span",{style:ae.TCButton,onClick:Fe,children:"Create Service"})]})]}),b==="newServiceForm2"&&f("div",{children:[l("h3",{children:"New Scheme Form "}),f("div",{style:ae.container,children:[l("label",{style:ae.label,children:l("p",{style:{display:de?"inline-block":"none",color:"red"},children:l("strong",{children:"Duplicate Service!!! "})})}),f("label",{style:ae.label,children:["Scheme Sponsor's 'Dispensary ID':",l("input",{type:"text",value:E.schemeSponsorID,onChange:C=>R({...E,schemeSponsorID:C.target.value}),style:ae.input})]}),f("label",{style:ae.label,children:["Service Type:",f("select",{type:"text",value:E.serviceType,onChange:C=>R({...E,serviceType:C.target.value}),style:ae.input,children:[l("option",{value:"",children:"Select Service Type"}),k.serviceTypes.map(C=>l("option",{children:C},C))]})]}),f("label",{style:ae.label,children:["Service Class:",f("select",{type:"text",value:E.itemClass,onChange:C=>R({...E,itemClass:C.target.value}),style:ae.input,children:[l("option",{value:"",children:"Select Service Class"}),k.serviceClasses.map(C=>l("option",{children:C},C))]})]}),f("label",{style:ae.label,children:["Subclass:",f("select",{type:"text",value:E.itemSubclass,onChange:C=>R({...E,itemSubclass:C.target.value}),style:ae.input,children:[l("option",{value:"",children:"Select Service Subclass"}),k.serviceSubclasses.map(C=>l("option",{children:C},C))]})]}),f("label",{style:ae.label,children:["Legal Classification of Service:",f("select",{type:"text",value:E.legalClass,onChange:C=>R({...E,legalClass:C.target.value}),style:ae.input,children:[l("option",{value:"",children:"Select Legal Class"}),l("option",{value:"GSL",children:"General Sales List"}),l("option",{value:"PO",children:"Pharmacy Only"}),l("option",{value:"POM",children:"Prescription Only Medication"}),l("option",{value:"CD",children:"Controlled Drug"}),l("option",{value:"not applicable",children:"Not Applicable"})]})]}),f("label",{style:ae.label,children:["Nonproprietary/Generic Name:",l("input",{type:"text",value:E.nonproprietaryName,onChange:C=>R({...E,nonproprietaryName:C.target.value}),style:ae.input})]}),f("label",{style:ae.label,children:["Description:",l("textarea",{type:"text",value:E.description,onChange:C=>R({...E,description:C.target.value}),style:ae.textarea,placeholder:"Detailed description of service item, including potential hazards/adverse effects/contraindications"})]}),f("label",{style:ae.label,children:["Sample Container (Where applicable):",l("input",{type:"text",value:E.sampleContainer,onChange:C=>R({...E,sampleContainer:C.target.value}),style:ae.input,placeholder:"'Not applicable' if not required"})]}),l("span",{style:ae.TCButton,onClick:()=>S("page1"),children:"Close"}),l("span",{style:ae.TCButton,onClick:Fe,children:"Create Scheme"})]})]})]})}function lm(){const{state:p,logout:m,updatePatient:h}=N.useContext(bn),{token:y,spineUrl:_,category:k,accessLevel:b,allStates:S,userID:P,organisation:w}=p,[E,R]=N.useState("Home"),[G,ne]=N.useState([]),[M,I]=N.useState({}),[Z,j]=N.useState({}),[ie,K]=N.useState(""),[de,Se]=N.useState([]),[Re,Me]=N.useState(""),[J,Q]=N.useState(""),[Fe,B]=N.useState(""),[Be,ye]=N.useState(!1),[re,ae]=N.useState(!1),[X,Oe]=N.useState("table"),[C,ee]=N.useState({}),[W,T]=N.useState([]);kn(),N.useEffect(()=>{(async()=>{try{const q=await fetch(`${_}/staffing/fetch_administrators?state=${encodeURIComponent(ie)}&q=${encodeURIComponent(Fe)}`,{method:"GET",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"}});if(console.log(_),q.ok){const De=await q.json();ne(De.administrators)}else{const De=await q.json();alert(De.message),console.error("Failed to fetch keypersons:",q.statusText)}}catch(q){console.error("Error fetching keypersons:",q)}})()},[_,y,ie,Fe,Be]),N.useEffect(()=>{(async()=>{try{const q=await fetch(`${_}/staffing/fetch_configurations?category=${encodeURIComponent(Z.category)}`,{method:"GET",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"}});if(console.log(_),q.ok){const De=await q.json();Se(De.configurations)}else{const De=await q.json();alert(De.message),console.error("Failed to fetch localities:",q.statusText)}}catch(q){console.error("Error fetching localities:",q)}})()},[_,y,Z.category,M.category]);const Y=async ge=>{if(ge.preventDefault(),!confirm("You are about to add a new administrator to your organisation. Confirm action.")){alert("Action cancelled!");return}try{const De=new FormData(ge.target),ue={};if(De.forEach((D,te)=>{ue[te]=D}),!ue.configID){alert("'Job Role' is missing");return}const be=await fetch(`${_}/staffing/create_new_administrator`,{method:"POST",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"},body:JSON.stringify(ue)});if(be.ok){const D=await be.json();alert(D.message),ye(te=>!te),R("Home")}else{const D=await be.json();alert(D.message),console.error("Failed to fetch localities:",be.statusText)}}catch(De){console.error("Error fetching localities:",De)}},Ee=async()=>{try{if(!confirm("You are about to modify a administrator. Do you want to procede?")){alert("Action cancelled!");return}const q=await fetch(`${_}/staffing/modify_administrator`,{method:"POST",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"},body:JSON.stringify(M)});if(q.ok){const De=await q.json();alert(De.message),ye(ue=>!ue)}else{const De=await q.json();alert(De.message),console.error("Failed to fetch localities:",q.statusText)}}catch(ge){console.error("Error fetching localities:",ge)}},Te=N.useRef(null),ke=()=>{const ge=Te.current.getScreenshot();I(q=>({...q,newPhoto:ge}))},we=async()=>{if(!confirm("Confirm Image Upload")){alert("Image Upload cancelled!"),I({...M,newPhoto:null});return}try{const q=await fetch(`${_}/staffing/photo_upload`,{method:"POST",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"},body:JSON.stringify({staffID:M.staffID,newPhoto:M.newPhoto})});if(q.ok){const De=await q.json();De.newPhotoUrl&&I({...M,photoUrl:De.newPhotoUrl}),R("Editing Pad"),I({...M,newPhoto:null}),T([])}else{const De=await q.json();alert(De.message)}}catch(q){console.error("Submission error:",q),alert("An error occurred uploading clinician photo")}},fe=ge=>{const{name:q,type:De,files:ue}=ge.target;if(De==="file"){const be=Array.from(ue);T(D=>({...D,[q]:[...D[q]||[],...be]}))}},$e=ge=>{T(q=>{const De=[...q.uploads];return De.splice(ge,1),{uploads:De}})},pe=ge=>new Promise((q,De)=>{const ue=new FileReader;ue.onloadend=()=>q(ue.result.split(",")[1]),ue.onerror=De,ue.readAsDataURL(ge)}),Ce=async()=>{if(confirm("Confirm submission")){const q=await Promise.all(W.uploads.map(async De=>{const ue=await pe(De);return{name:De.name,content:ue}}));try{const De=await fetch(`${_}/staffing/file_upload`,{method:"POST",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"},body:JSON.stringify({staffID:M.staffID,uploads:q})});if(De.ok){const ue=await De.json();I({...M,documents:ue.documents}),Oe("table")}else{const ue=await De.json();alert(ue.message)}}catch(De){console.error("File upload error:",De),alert("An error occurred uploading files")}}else alert("File upload cancelled!")},We=async()=>{if(!C.validity){alert("Document validity missing!");return}confirm("Ensure due diligence has been done on file before modifying file verification status.")||alert("File verification cancelled!");try{const q=await fetch(`${_}/staffing/file_verification`,{method:"POST",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"},body:JSON.stringify({staffID:M.staffID,fileKey:C.fileKey,validity:C.validity,verification:"verified"})});if(q.ok){const De=await q.json();I({...M,documents:De.documents}),Oe("table"),ae(!1)}else{const De=await q.json();alert(De.message)}}catch(q){console.error("File verification error:",q),alert("An error occurred uploading files")}},it=async()=>{if(!C.validity){alert("Document validity missing!");return}confirm("Ensure due diligence has been done on file before modifying file verification status.")||alert("File verification cancelled!");try{const q=await fetch(`${_}/staffing/file_verification`,{method:"POST",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"},body:JSON.stringify({staffID:M.staffID,fileKey:C.fileKey,validity:C.validity,verification:"unverified"})});if(q.ok){const De=await q.json();I({...M,documents:De.documents}),Oe("table"),ae(!1)}else{const De=await q.json();alert(De.message)}}catch(q){console.error("File verification error:",q),alert("An error occurred uploading files")}},ve={page:{color:"black",height:"100%",width:"100%",overflowY:"hidden",overflowX:"hidden",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center"},searchFieldContainer:{display:"flex",flexDirection:"row",backgroundColor:"grey",alignItems:"left",justifyContent:"left"},searchField:{backgroundColor:"white",color:"black",right:"20px",width:"35%",height:"25px",top:"120px"},stateSelector2:{backgroundColor:"#2c3e50",color:"white",right:"20px",width:"15%",height:"25px",top:"120px"},tableContainer:{height:"79vh",backgroundColor:"white",width:"100%"},table:{width:"95%",borderCollapse:"collapse",marginTop:"20px"},thead:{backgroundColor:"#2c3e50",color:"white",position:"sticky",top:"0px",zIndex:2e3},profileContainer:{display:"flex",flexDirection:"row",color:"black",backgroundColor:"#f9f9f9",padding:"20px",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",width:"80%",height:"65vh",margin:"20px auto",textAlign:"center"},photoContainer:{position:"sticky",top:"10px",left:"80px",backgroundColor:"#fff",height:"200px",width:"200px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"10px",border:"1px solid #ddd",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)",overflow:"hidden"},photoContainer2:{position:"sticky",top:"10px",left:"80px",backgroundColor:"#fff",height:"380px",width:"380px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"10px",border:"1px solid #ddd",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)",overflow:"hidden"},image:{height:"100%",width:"100%",objectFit:"cover"},placeholderText:{color:"#666",fontSize:"16px",fontStyle:"italic",textAlign:"center"},section:{display:"block",width:"45%",marginBottom:"20px",textAlign:"left",lineHeight:"0.8"},input:{padding:"10px",marginRight:"10px",borderRadius:"5px",border:"1px solid #ccc",width:"200px",backgroundColor:"white",color:"black"},button:{backgroundColor:"#3498db",margin:"5px"},topCloseButton:{height:"30px",width:"100px",backgroundColor:"red",cursor:"pointer"},docVerificationOverlay:{display:re?"block":"none",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:2e3,pointerEvents:"auto",width:"40%",height:"40%",backgroundColor:"grey",textAlign:"center"},uploadfield:{padding:"20px",border:"1px solid #ccc",borderRadius:"8px"},uploadInput:{marginBottom:"10px"},uploadedFiles:{marginTop:"10px",listStyleType:"none",padding:"0",minHeight:"4vh"},uploadItem:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},removeFileButton:{color:"red",cursor:"pointer"}},Vt=ge=>({backgroundColor:ge%2===0?"#f9f9f9":"#e0e0e0",cursor:"pointer"});return f("div",{style:ve.page,children:[E==="Home"&&f("div",{style:ve.tableContainer,children:[f("div",{style:ve.searchFieldContainer,children:[f("select",{style:ve.stateSelector2,value:ie,onChange:ge=>K(ge.target.value),children:[l("option",{value:"",children:"Select Branch"}),S.map(ge=>l("option",{value:ge,children:ge},ge))]}),l("input",{style:ve.searchField,value:Fe,onChange:ge=>B(ge.target.value),placeholder:"Search here for client"})]}),f("table",{style:{width:"100%"},children:[l("thead",{style:ve.thead,children:f("tr",{children:[l("th",{}),l("th",{children:"State"}),l("th",{children:"Administrator"}),l("th",{children:"Department"}),l("th",{children:"Role"}),l("th",{children:"Email"}),l("th",{children:"Access Level"}),l("th",{children:"Action"})]})}),l("tbody",{children:G.map((ge,q)=>f("tr",{style:Vt(q),children:[l("td",{children:q+1}),l("td",{children:ge.state}),l("td",{children:ge.user}),l("td",{children:ge.department}),l("td",{children:ge.role}),l("td",{children:ge.email}),l("td",{children:ge.accessLevel}),l("td",{children:l("button",{onClick:()=>{I(ge),R("Editing Pad")},children:"Open Profile"})})]},ge))})]}),l("button",{style:ve.button,onClick:()=>R("New Administrator"),children:"Add New Administrator"})]}),E==="Editing Pad"&&l("div",{style:{width:"100%"},children:f("div",{style:ve.profileContainer,children:[f("div",{style:ve.section,children:[l("div",{style:ve.photoContainer,children:M.photoUrl?l("img",{src:M.photoUrl,style:ve.image,alt:"Administrator's photo"}):l("div",{style:ve.placeholderText,children:"Photo Not Found"})}),l("span",{style:{textDecoration:"underline",color:"green",cursor:"pointer"},onClick:()=>R("Photo Upload"),children:"Change Photo"}),f("p",{children:[l("strong",{children:"Administrator:"})," ",M.user,"(",M.category,")"]}),f("p",{children:[l("strong",{children:"Staff ID:"})," ",M.staffID]}),f("p",{children:[l("strong",{children:"Added On:"})," ",M.createdOn]}),f("p",{children:[l("strong",{children:"Department:"})," ",M.department.toUpperCase()]}),f("p",{children:[l("strong",{children:"Job Role:"})," ",M.role.toUpperCase()]}),f("p",{children:[l("strong",{children:"Access Level:"})," ",M.accessLevel]}),f("p",{children:[l("strong",{children:"Email:"})," ",M.email]}),f("p",{children:[l("strong",{children:"Mobile:"})," ",M.mobile]}),l("button",{style:ve.button,onClick:()=>{R("Documents")},children:"Documents"}),l("button",{style:ve.button,onClick:()=>{R("Home"),I({})},children:"Close"})]}),f("div",{style:ve.section,children:[f("div",{style:{marginBottom:"20px"},children:["State:",f("select",{style:ve.input,name:"state",value:M.state,onChange:ge=>I({...M,state:ge.target.value}),children:[l("option",{value:"",children:"Select State"}),S.map(ge=>l("option",{value:ge,children:ge},ge))]})]}),f("div",{style:{marginBottom:"20px"},children:["Category:",f("select",{style:ve.input,value:M.category||"",onChange:ge=>{I({...M,category:ge.target.value}),j({...Z,category:ge.target.value})},children:[l("option",{value:"",children:"Select Category"}),l("option",{value:"executive",children:"Executive"}),l("option",{value:"employee",children:"Employee"}),l("option",{value:"agent",children:"Agent"})]})]}),f("div",{style:{marginBottom:"20px"},children:["Role:",f("select",{style:ve.input,name:"configID",value:M.configID||"",onChange:ge=>I({...M,configID:ge.target.value}),children:[l("option",{value:"",children:"Select Role"}),de.map(ge=>l("option",{value:ge.configID,children:ge.role},ge.configID))]})]}),f("div",{style:{marginBottom:"20px"},children:["Status:",f("select",{style:ve.input,value:M.staffStatus||"",onChange:ge=>I({...M,staffStatus:ge.target.value}),children:[l("option",{value:"active",children:"Active"}),l("option",{value:"inactive",children:"Inactivated"}),l("option",{value:"suspended",children:"Suspended"}),l("option",{value:"resigned",children:"Resigned"}),l("option",{value:"dismissed",children:"Dismissed"})]})]}),l("button",{style:ve.button,onClick:Ee,children:"Save Changes"})]})]})}),E==="New Administrator"&&l("div",{style:{width:"100%"},children:l("div",{style:ve.profileContainer,children:f("form",{style:{width:"100%",display:"flex",flexDirection:"row"},onSubmit:Y,children:[f("div",{style:ve.section,children:[f("div",{style:{marginBottom:"20px"},children:["Title:",f("select",{type:"text",name:"title",style:ve.input,required:!0,children:[l("option",{value:"",children:"Select Title"}),l("option",{value:"Dr.",children:"Dr."}),l("option",{value:"Mr.",children:"Mr."}),l("option",{value:"Mrs.",children:"Mrs."}),l("option",{value:"Ms.",children:"Ms."}),l("option",{value:"Prof.",children:"Prof."})]})]}),f("div",{style:{marginBottom:"20px"},children:["Gender:",f("select",{type:"text",name:"gender",style:ve.input,required:!0,children:[l("option",{value:"",children:"Select Gender"}),l("option",{value:"male",children:"Male"}),l("option",{value:"female",children:"Female"})]})]}),f("div",{style:{marginBottom:"20px"},children:["Last Name:",l("input",{type:"text",name:"lastName",style:ve.input,required:!0})]}),f("div",{style:{marginBottom:"20px"},children:["First Name:",l("input",{type:"text",name:"firstName",style:ve.input,required:!0})]}),f("div",{style:{marginBottom:"20px"},children:["Date of Birth:",l("input",{type:"date",name:"dob",style:ve.input,required:!0})]}),f("div",{style:{marginBottom:"20px"},children:["Emergency Contact:",l("input",{type:"text",name:"emergencyContact",style:ve.input,required:!0})]}),f("div",{style:{marginBottom:"20px"},children:["Work Email:",l("input",{type:"email",name:"email",style:ve.input,required:!0})]}),f("div",{style:{marginBottom:"20px"},children:["Mobile Number:",l("input",{type:"tel",name:"mobile",style:ve.input,required:!0})]}),f("div",{style:{marginBottom:"20px"},children:["Employer:",l("input",{type:"text",name:"employer",style:ve.input,placeholder:"Leave blank for PrescribeNg employees"})]})]}),f("div",{style:ve.section,children:[f("div",{style:{marginBottom:"20px"},children:["State:",f("select",{style:ve.input,name:"state",value:Z.state,onChange:ge=>j({...Z,state:ge.target.value}),children:[l("option",{value:"",children:"Select State"}),S.map(ge=>l("option",{value:ge,children:ge},ge))]})]}),f("div",{style:{marginBottom:"20px"},children:["Category:",f("select",{style:ve.input,value:Z.category||"",onChange:ge=>j({...Z,category:ge.target.value}),children:[l("option",{value:"",children:"Select Category"}),l("option",{value:"executive",children:"Executive"}),l("option",{value:"employee",children:"Employee"}),l("option",{value:"agent",children:"Agent"})]})]}),f("div",{style:{marginBottom:"20px"},children:["Role:",f("select",{style:ve.input,name:"configID",value:Z.configID||"",onChange:ge=>j({...Z,configID:ge.target.value}),children:[l("option",{value:"",children:"Select Role"}),de.map(ge=>l("option",{value:ge.configID,children:ge.role},ge.configID))]})]}),l("button",{style:ve.button,type:"submit",children:"Add New Administrator"}),l("button",{onClick:()=>{R("Home"),j({})},children:"Cancel"})]})]})})}),E==="Photo Upload"&&l("div",{style:{width:"100%"},children:f("div",{style:ve.profileContainer,children:[f("div",{style:{...ve.section,width:"50%"},children:[l("h2",{children:"Web Cam"}),l("div",{style:ve.photoContainer2,children:l(Na,{audio:!1,ref:Te,screenshotFormat:"image/png",width:400})}),l("button",{style:ve.button,onClick:ke,children:"Capture"}),l("button",{style:ve.button,onClick:()=>{R("Editing Pad"),I({...M,newPhoto:null})},children:"Back"})]}),f("div",{style:{...ve.section,width:"50%",display:M.newPhoto?"inline-block":"none"},children:[f("h2",{children:["Preview (",M.clinician,")"]}),l("div",{style:ve.photoContainer2,children:M.newPhoto?l("img",{src:M.newPhoto,alt:"Captured",width:400}):l("div",{style:ve.placeholderText,children:"No image captured"})}),l("button",{style:ve.button,onClick:we,children:"Upload"})]})]})}),E==="Documents"&&l("div",{style:{width:"100%"},children:f("div",{style:ve.profileContainer,children:[X==="table"&&f("div",{style:{...ve.section,width:"100%"},children:[l("div",{style:{height:"40%",width:"100%"},children:f("table",{style:ve.table,children:[l("thead",{style:ve.thead,children:f("tr",{children:[l("th",{children:"Document"}),l("th",{children:"Validity"}),l("th",{children:"Verification"}),l("th",{children:"Action"})]})}),l("tbody",{children:M.documents&&M.documents.length>0?M.documents.map((ge,q)=>f("tr",{children:[l("td",{children:ge.fileName}),l("td",{children:ge.validity||"not set"}),l("td",{children:ge.verification||"unverified"}),l("td",{children:l("button",{onClick:()=>{Oe("iframe"),ee(ge)},children:"View"})})]},q)):l("tr",{colSpan:"4",style:{textAlign:"right"},children:"No documents uploaded"})})]})}),l("button",{onClick:()=>{R("Editing Pad")},children:"Close"}),l("button",{onClick:()=>{Oe("upload")},children:"Upload Document"})]}),X==="iframe"&&l("div",{style:{...ve.section,width:"100%",position:"relative",zIndex:1e3,pointerEvents:re?"none":"auto"},children:f("div",{children:[l("span",{style:ve.topCloseButton,onClick:()=>{Oe("table"),C({}),ae(!1)},children:"Close"}),l("iframe",{style:{height:"60vh",width:"100%"},src:C.fileUrl}),f("div",{style:ve.docVerificationOverlay,children:[f("div",{children:[l("h3",{children:"When does this document expire?"}),l("input",{style:ve.input,type:"date",value:C.validity||"",onChange:ge=>ee({...C,validity:ge.target.value})}),l("button",{style:{...ve.button,display:C.verification==="unverified"?"inline-block":"none"},onClick:We,children:"Verify"}),l("button",{style:{...ve.button,display:C.verification==="verified"?"inline-block":"none"},onClick:it,children:"De-Verify"})]}),l("span",{style:ve.topCloseButton,onClick:()=>ae(!1),children:"Close"})]}),l("button",{style:{...ve.button,display:C.verification==="verified"?"none":"inline-block"},onClick:()=>ae(!0),children:"Verify"}),l("button",{style:{...ve.button,display:C.verification==="verified"&&b<=3?"inline-block":"none"},onClick:()=>ae(!0),children:"De-Verify"})]})}),X==="upload"&&f("div",{style:{...ve.section,width:"100%"},children:[f("div",{style:ve.uploadfield,children:[f("div",{style:ve.uploadInput,children:[l("label",{children:"Upload File"}),l("input",{name:"uploads",type:"file",onChange:fe,multiple:!0})]}),l("div",{style:ve.uploadedFiles,children:W.uploads&&W.uploads.length>0?W.uploads.map((ge,q)=>f("div",{style:ve.uploadItem,children:[f("span",{children:[q+1,". ",ge.name]}),l("span",{style:ve.removeFileButton,onClick:()=>$e(q),children:"X"})]},q)):l("p",{children:"No files uploaded yet."})})]}),l("button",{onClick:()=>{Oe("table"),T([])},children:"Back"}),l("button",{style:{display:W.uploads?"inline-block":"none"},onClick:Ce,children:"Upload"})]})]})})]})}const sm=()=>(N.useEffect(()=>((()=>{if(!document.getElementById("ze-snippet")){const m=document.createElement("script");m.id="ze-snippet",m.src="https://static.zdassets.com/ekr/snippet.js?key=YOUR_UNIQUE_KEY",m.async=!0,document.body.appendChild(m),m.onload=()=>{window.zE("webWidget","updateSettings",{webWidget:{color:{theme:"#1a73e8"},launcher:{chatLabel:{"*":"Chat with us"}},position:{horizontal:"right",vertical:"bottom"}}})}}})(),()=>{const m=document.getElementById("ze-snippet");m&&m.remove(),delete window.zESettings,window.zE&&window.zE("webWidget","destroy")}),[]),null);function um(){return l(fp,{children:l(op,{children:l("div",{className:"App",children:f(Qf,{children:[l(Ht,{path:"/",element:l(pp,{})}),l(Ht,{path:"/totp-page",element:l(mp,{})}),f(Ht,{path:"/home",element:l(Pp,{}),children:[l(Ht,{path:"",element:l(Tp,{})}),l(Ht,{path:"ambulance-fleet",element:l(em,{})}),l(Ht,{path:"clinician-signup",element:l(rm,{})}),l(Ht,{path:"manage-organisations",element:l(Np,{})}),l(Ht,{path:"manage-clinicians",element:l(om,{})}),l(Ht,{path:"organisation-signup",element:l(tm,{})}),l(Ht,{path:"patient-signup",element:l(nm,{})}),l(Ht,{path:"manage-patients",element:l(im,{})}),l(Ht,{path:"prescribeng-services",element:l(am,{})}),l(Ht,{path:"manage-administrators",element:l(lm,{})}),l(Ht,{path:"zendesk-chat",element:l(sm,{})})]})]})})})})}rf.createRoot(document.getElementById("root")).render(l(N.StrictMode,{children:l(um,{})}));
