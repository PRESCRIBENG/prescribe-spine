function yg(e,t){for(var i=0;i<t.length;i++){const s=t[i];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const u=Object.getOwnPropertyDescriptor(s,a);u&&Object.defineProperty(e,a,u.get?u:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(a){if(a.ep)return;a.ep=!0;const u=i(a);fetch(a.href,u)}})();var mh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Wl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var gh={exports:{}},ks={},vh={exports:{}},_e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kr=Symbol.for("react.element"),xg=Symbol.for("react.portal"),_g=Symbol.for("react.fragment"),wg=Symbol.for("react.strict_mode"),Cg=Symbol.for("react.profiler"),jg=Symbol.for("react.provider"),Sg=Symbol.for("react.context"),bg=Symbol.for("react.forward_ref"),kg=Symbol.for("react.suspense"),Pg=Symbol.for("react.memo"),Tg=Symbol.for("react.lazy"),Kc=Symbol.iterator;function Eg(e){return e===null||typeof e!="object"?null:(e=Kc&&e[Kc]||e["@@iterator"],typeof e=="function"?e:null)}var yh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xh=Object.assign,_h={};function $i(e,t,i){this.props=e,this.context=t,this.refs=_h,this.updater=i||yh}$i.prototype.isReactComponent={};$i.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};$i.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function wh(){}wh.prototype=$i.prototype;function $l(e,t,i){this.props=e,this.context=t,this.refs=_h,this.updater=i||yh}var Hl=$l.prototype=new wh;Hl.constructor=$l;xh(Hl,$i.prototype);Hl.isPureReactComponent=!0;var Yc=Array.isArray,Ch=Object.prototype.hasOwnProperty,Vl={current:null},jh={key:!0,ref:!0,__self:!0,__source:!0};function Sh(e,t,i){var s,a={},u=null,d=null;if(t!=null)for(s in t.ref!==void 0&&(d=t.ref),t.key!==void 0&&(u=""+t.key),t)Ch.call(t,s)&&!jh.hasOwnProperty(s)&&(a[s]=t[s]);var p=arguments.length-2;if(p===1)a.children=i;else if(1<p){for(var f=Array(p),m=0;m<p;m++)f[m]=arguments[m+2];a.children=f}if(e&&e.defaultProps)for(s in p=e.defaultProps,p)a[s]===void 0&&(a[s]=p[s]);return{$$typeof:Kr,type:e,key:u,ref:d,props:a,_owner:Vl.current}}function Lg(e,t){return{$$typeof:Kr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Gl(e){return typeof e=="object"&&e!==null&&e.$$typeof===Kr}function Og(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(i){return t[i]})}var Qc=/\/+/g;function ya(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Og(""+e.key):t.toString(36)}function Fo(e,t,i,s,a){var u=typeof e;(u==="undefined"||u==="boolean")&&(e=null);var d=!1;if(e===null)d=!0;else switch(u){case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case Kr:case xg:d=!0}}if(d)return d=e,a=a(d),e=s===""?"."+ya(d,0):s,Yc(a)?(i="",e!=null&&(i=e.replace(Qc,"$&/")+"/"),Fo(a,t,i,"",function(m){return m})):a!=null&&(Gl(a)&&(a=Lg(a,i+(!a.key||d&&d.key===a.key?"":(""+a.key).replace(Qc,"$&/")+"/")+e)),t.push(a)),1;if(d=0,s=s===""?".":s+":",Yc(e))for(var p=0;p<e.length;p++){u=e[p];var f=s+ya(u,p);d+=Fo(u,t,i,f,a)}else if(f=Eg(e),typeof f=="function")for(e=f.call(e),p=0;!(u=e.next()).done;)u=u.value,f=s+ya(u,p++),d+=Fo(u,t,i,f,a);else if(u==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return d}function jo(e,t,i){if(e==null)return e;var s=[],a=0;return Fo(e,s,"","",function(u){return t.call(i,u,a++)}),s}function Ng(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(i){(e._status===0||e._status===-1)&&(e._status=1,e._result=i)},function(i){(e._status===0||e._status===-1)&&(e._status=2,e._result=i)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ut={current:null},Uo={transition:null},zg={ReactCurrentDispatcher:ut,ReactCurrentBatchConfig:Uo,ReactCurrentOwner:Vl};function bh(){throw Error("act(...) is not supported in production builds of React.")}_e.Children={map:jo,forEach:function(e,t,i){jo(e,function(){t.apply(this,arguments)},i)},count:function(e){var t=0;return jo(e,function(){t++}),t},toArray:function(e){return jo(e,function(t){return t})||[]},only:function(e){if(!Gl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};_e.Component=$i;_e.Fragment=_g;_e.Profiler=Cg;_e.PureComponent=$l;_e.StrictMode=wg;_e.Suspense=kg;_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zg;_e.act=bh;_e.cloneElement=function(e,t,i){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=xh({},e.props),a=e.key,u=e.ref,d=e._owner;if(t!=null){if(t.ref!==void 0&&(u=t.ref,d=Vl.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var p=e.type.defaultProps;for(f in t)Ch.call(t,f)&&!jh.hasOwnProperty(f)&&(s[f]=t[f]===void 0&&p!==void 0?p[f]:t[f])}var f=arguments.length-2;if(f===1)s.children=i;else if(1<f){p=Array(f);for(var m=0;m<f;m++)p[m]=arguments[m+2];s.children=p}return{$$typeof:Kr,type:e.type,key:a,ref:u,props:s,_owner:d}};_e.createContext=function(e){return e={$$typeof:Sg,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:jg,_context:e},e.Consumer=e};_e.createElement=Sh;_e.createFactory=function(e){var t=Sh.bind(null,e);return t.type=e,t};_e.createRef=function(){return{current:null}};_e.forwardRef=function(e){return{$$typeof:bg,render:e}};_e.isValidElement=Gl;_e.lazy=function(e){return{$$typeof:Tg,_payload:{_status:-1,_result:e},_init:Ng}};_e.memo=function(e,t){return{$$typeof:Pg,type:e,compare:t===void 0?null:t}};_e.startTransition=function(e){var t=Uo.transition;Uo.transition={};try{e()}finally{Uo.transition=t}};_e.unstable_act=bh;_e.useCallback=function(e,t){return ut.current.useCallback(e,t)};_e.useContext=function(e){return ut.current.useContext(e)};_e.useDebugValue=function(){};_e.useDeferredValue=function(e){return ut.current.useDeferredValue(e)};_e.useEffect=function(e,t){return ut.current.useEffect(e,t)};_e.useId=function(){return ut.current.useId()};_e.useImperativeHandle=function(e,t,i){return ut.current.useImperativeHandle(e,t,i)};_e.useInsertionEffect=function(e,t){return ut.current.useInsertionEffect(e,t)};_e.useLayoutEffect=function(e,t){return ut.current.useLayoutEffect(e,t)};_e.useMemo=function(e,t){return ut.current.useMemo(e,t)};_e.useReducer=function(e,t,i){return ut.current.useReducer(e,t,i)};_e.useRef=function(e){return ut.current.useRef(e)};_e.useState=function(e){return ut.current.useState(e)};_e.useSyncExternalStore=function(e,t,i){return ut.current.useSyncExternalStore(e,t,i)};_e.useTransition=function(){return ut.current.useTransition()};_e.version="18.3.1";vh.exports=_e;var b=vh.exports;const Zt=Wl(b),Mg=yg({__proto__:null,default:Zt},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ig=b,Bg=Symbol.for("react.element"),Ag=Symbol.for("react.fragment"),Rg=Object.prototype.hasOwnProperty,Dg=Ig.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Fg={key:!0,ref:!0,__self:!0,__source:!0};function kh(e,t,i){var s,a={},u=null,d=null;i!==void 0&&(u=""+i),t.key!==void 0&&(u=""+t.key),t.ref!==void 0&&(d=t.ref);for(s in t)Rg.call(t,s)&&!Fg.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)a[s]===void 0&&(a[s]=t[s]);return{$$typeof:Bg,type:e,key:u,ref:d,props:a,_owner:Dg.current}}ks.Fragment=Ag;ks.jsx=kh;ks.jsxs=kh;gh.exports=ks;var o=gh.exports,Ph={exports:{}},Ct={},Th={exports:{}},Eh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,ne){var K=D.length;D.push(ne);e:for(;0<K;){var ue=K-1>>>1,ge=D[ue];if(0<a(ge,ne))D[ue]=ne,D[K]=ge,K=ue;else break e}}function i(D){return D.length===0?null:D[0]}function s(D){if(D.length===0)return null;var ne=D[0],K=D.pop();if(K!==ne){D[0]=K;e:for(var ue=0,ge=D.length,Pe=ge>>>1;ue<Pe;){var we=2*(ue+1)-1,Q=D[we],he=we+1,te=D[he];if(0>a(Q,K))he<ge&&0>a(te,Q)?(D[ue]=te,D[he]=K,ue=he):(D[ue]=Q,D[we]=K,ue=we);else if(he<ge&&0>a(te,K))D[ue]=te,D[he]=K,ue=he;else break e}}return ne}function a(D,ne){var K=D.sortIndex-ne.sortIndex;return K!==0?K:D.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var d=Date,p=d.now();e.unstable_now=function(){return d.now()-p}}var f=[],m=[],x=1,j=null,S=3,O=!1,C=!1,v=!1,E=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(D){for(var ne=i(m);ne!==null;){if(ne.callback===null)s(m);else if(ne.startTime<=D)s(m),ne.sortIndex=ne.expirationTime,t(f,ne);else break;ne=i(m)}}function I(D){if(v=!1,w(D),!C)if(i(f)!==null)C=!0,se(U);else{var ne=i(m);ne!==null&&fe(I,ne.startTime-D)}}function U(D,ne){C=!1,v&&(v=!1,y(P),P=-1),O=!0;var K=S;try{for(w(ne),j=i(f);j!==null&&(!(j.expirationTime>ne)||D&&!R());){var ue=j.callback;if(typeof ue=="function"){j.callback=null,S=j.priorityLevel;var ge=ue(j.expirationTime<=ne);ne=e.unstable_now(),typeof ge=="function"?j.callback=ge:j===i(f)&&s(f),w(ne)}else s(f);j=i(f)}if(j!==null)var Pe=!0;else{var we=i(m);we!==null&&fe(I,we.startTime-ne),Pe=!1}return Pe}finally{j=null,S=K,O=!1}}var G=!1,$=null,P=-1,T=5,N=-1;function R(){return!(e.unstable_now()-N<T)}function Z(){if($!==null){var D=e.unstable_now();N=D;var ne=!0;try{ne=$(!0,D)}finally{ne?ee():(G=!1,$=null)}}else G=!1}var ee;if(typeof _=="function")ee=function(){_(Z)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,me=F.port2;F.port1.onmessage=Z,ee=function(){me.postMessage(null)}}else ee=function(){E(Z,0)};function se(D){$=D,G||(G=!0,ee())}function fe(D,ne){P=E(function(){D(e.unstable_now())},ne)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){C||O||(C=!0,se(U))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return S},e.unstable_getFirstCallbackNode=function(){return i(f)},e.unstable_next=function(D){switch(S){case 1:case 2:case 3:var ne=3;break;default:ne=S}var K=S;S=ne;try{return D()}finally{S=K}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,ne){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var K=S;S=D;try{return ne()}finally{S=K}},e.unstable_scheduleCallback=function(D,ne,K){var ue=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ue+K:ue):K=ue,D){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=K+ge,D={id:x++,callback:ne,priorityLevel:D,startTime:K,expirationTime:ge,sortIndex:-1},K>ue?(D.sortIndex=K,t(m,D),i(f)===null&&D===i(m)&&(v?(y(P),P=-1):v=!0,fe(I,K-ue))):(D.sortIndex=ge,t(f,D),C||O||(C=!0,se(U))),D},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(D){var ne=S;return function(){var K=S;S=ne;try{return D.apply(this,arguments)}finally{S=K}}}})(Eh);Th.exports=Eh;var Ug=Th.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zg=b,wt=Ug;function Y(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Lh=new Set,Er={};function ri(e,t){Ai(e,t),Ai(e+"Capture",t)}function Ai(e,t){for(Er[e]=t,e=0;e<t.length;e++)Lh.add(t[e])}var dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Va=Object.prototype.hasOwnProperty,Wg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qc={},Jc={};function $g(e){return Va.call(Jc,e)?!0:Va.call(qc,e)?!1:Wg.test(e)?Jc[e]=!0:(qc[e]=!0,!1)}function Hg(e,t,i,s){if(i!==null&&i.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Vg(e,t,i,s){if(t===null||typeof t>"u"||Hg(e,t,i,s))return!0;if(s)return!1;if(i!==null)switch(i.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ct(e,t,i,s,a,u,d){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=a,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=u,this.removeEmptyString=d}var et={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){et[e]=new ct(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];et[t]=new ct(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){et[e]=new ct(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){et[e]=new ct(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){et[e]=new ct(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){et[e]=new ct(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){et[e]=new ct(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){et[e]=new ct(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){et[e]=new ct(e,5,!1,e.toLowerCase(),null,!1,!1)});var Kl=/[\-:]([a-z])/g;function Yl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Kl,Yl);et[t]=new ct(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Kl,Yl);et[t]=new ct(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Kl,Yl);et[t]=new ct(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){et[e]=new ct(e,1,!1,e.toLowerCase(),null,!1,!1)});et.xlinkHref=new ct("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){et[e]=new ct(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ql(e,t,i,s){var a=et.hasOwnProperty(t)?et[t]:null;(a!==null?a.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Vg(t,i,a,s)&&(i=null),s||a===null?$g(t)&&(i===null?e.removeAttribute(t):e.setAttribute(t,""+i)):a.mustUseProperty?e[a.propertyName]=i===null?a.type===3?!1:"":i:(t=a.attributeName,s=a.attributeNamespace,i===null?e.removeAttribute(t):(a=a.type,i=a===3||a===4&&i===!0?"":""+i,s?e.setAttributeNS(s,t,i):e.setAttribute(t,i))))}var mn=Zg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,So=Symbol.for("react.element"),xi=Symbol.for("react.portal"),_i=Symbol.for("react.fragment"),ql=Symbol.for("react.strict_mode"),Ga=Symbol.for("react.profiler"),Oh=Symbol.for("react.provider"),Nh=Symbol.for("react.context"),Jl=Symbol.for("react.forward_ref"),Ka=Symbol.for("react.suspense"),Ya=Symbol.for("react.suspense_list"),Xl=Symbol.for("react.memo"),xn=Symbol.for("react.lazy"),zh=Symbol.for("react.offscreen"),Xc=Symbol.iterator;function lr(e){return e===null||typeof e!="object"?null:(e=Xc&&e[Xc]||e["@@iterator"],typeof e=="function"?e:null)}var Re=Object.assign,xa;function gr(e){if(xa===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);xa=t&&t[1]||""}return`
`+xa+e}var _a=!1;function wa(e,t){if(!e||_a)return"";_a=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(m){var s=m}Reflect.construct(e,[],t)}else{try{t.call()}catch(m){s=m}e.call(t.prototype)}else{try{throw Error()}catch(m){s=m}e()}}catch(m){if(m&&s&&typeof m.stack=="string"){for(var a=m.stack.split(`
`),u=s.stack.split(`
`),d=a.length-1,p=u.length-1;1<=d&&0<=p&&a[d]!==u[p];)p--;for(;1<=d&&0<=p;d--,p--)if(a[d]!==u[p]){if(d!==1||p!==1)do if(d--,p--,0>p||a[d]!==u[p]){var f=`
`+a[d].replace(" at new "," at ");return e.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",e.displayName)),f}while(1<=d&&0<=p);break}}}finally{_a=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?gr(e):""}function Gg(e){switch(e.tag){case 5:return gr(e.type);case 16:return gr("Lazy");case 13:return gr("Suspense");case 19:return gr("SuspenseList");case 0:case 2:case 15:return e=wa(e.type,!1),e;case 11:return e=wa(e.type.render,!1),e;case 1:return e=wa(e.type,!0),e;default:return""}}function Qa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case _i:return"Fragment";case xi:return"Portal";case Ga:return"Profiler";case ql:return"StrictMode";case Ka:return"Suspense";case Ya:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Nh:return(e.displayName||"Context")+".Consumer";case Oh:return(e._context.displayName||"Context")+".Provider";case Jl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Xl:return t=e.displayName||null,t!==null?t:Qa(e.type)||"Memo";case xn:t=e._payload,e=e._init;try{return Qa(e(t))}catch{}}return null}function Kg(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(t);case 8:return t===ql?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function In(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Mh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Yg(e){var t=Mh(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var a=i.get,u=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(d){s=""+d,u.call(this,d)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return s},setValue:function(d){s=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function bo(e){e._valueTracker||(e._valueTracker=Yg(e))}function Ih(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),s="";return e&&(s=Mh(e)?e.checked?"true":"false":e.value),e=s,e!==i?(t.setValue(e),!0):!1}function Jo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function qa(e,t){var i=t.checked;return Re({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function ed(e,t){var i=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;i=In(t.value!=null?t.value:i),e._wrapperState={initialChecked:s,initialValue:i,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Bh(e,t){t=t.checked,t!=null&&Ql(e,"checked",t,!1)}function Ja(e,t){Bh(e,t);var i=In(t.value),s=t.type;if(i!=null)s==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Xa(e,t.type,i):t.hasOwnProperty("defaultValue")&&Xa(e,t.type,In(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function td(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function Xa(e,t,i){(t!=="number"||Jo(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var vr=Array.isArray;function Oi(e,t,i,s){if(e=e.options,t){t={};for(var a=0;a<i.length;a++)t["$"+i[a]]=!0;for(i=0;i<e.length;i++)a=t.hasOwnProperty("$"+e[i].value),e[i].selected!==a&&(e[i].selected=a),a&&s&&(e[i].defaultSelected=!0)}else{for(i=""+In(i),t=null,a=0;a<e.length;a++){if(e[a].value===i){e[a].selected=!0,s&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function el(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Y(91));return Re({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function nd(e,t){var i=t.value;if(i==null){if(i=t.children,t=t.defaultValue,i!=null){if(t!=null)throw Error(Y(92));if(vr(i)){if(1<i.length)throw Error(Y(93));i=i[0]}t=i}t==null&&(t=""),i=t}e._wrapperState={initialValue:In(i)}}function Ah(e,t){var i=In(t.value),s=In(t.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),t.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),s!=null&&(e.defaultValue=""+s)}function id(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Rh(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Rh(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ko,Dh=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,i,s,a){MSApp.execUnsafeLocalFunction(function(){return e(t,i,s,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ko=ko||document.createElement("div"),ko.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ko.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Lr(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var _r={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Qg=["Webkit","ms","Moz","O"];Object.keys(_r).forEach(function(e){Qg.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),_r[t]=_r[e]})});function Fh(e,t,i){return t==null||typeof t=="boolean"||t===""?"":i||typeof t!="number"||t===0||_r.hasOwnProperty(e)&&_r[e]?(""+t).trim():t+"px"}function Uh(e,t){e=e.style;for(var i in t)if(t.hasOwnProperty(i)){var s=i.indexOf("--")===0,a=Fh(i,t[i],s);i==="float"&&(i="cssFloat"),s?e.setProperty(i,a):e[i]=a}}var qg=Re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nl(e,t){if(t){if(qg[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Y(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Y(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Y(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Y(62))}}function il(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rl=null;function eu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ol=null,Ni=null,zi=null;function rd(e){if(e=qr(e)){if(typeof ol!="function")throw Error(Y(280));var t=e.stateNode;t&&(t=Os(t),ol(e.stateNode,e.type,t))}}function Zh(e){Ni?zi?zi.push(e):zi=[e]:Ni=e}function Wh(){if(Ni){var e=Ni,t=zi;if(zi=Ni=null,rd(e),t)for(e=0;e<t.length;e++)rd(t[e])}}function $h(e,t){return e(t)}function Hh(){}var Ca=!1;function Vh(e,t,i){if(Ca)return e(t,i);Ca=!0;try{return $h(e,t,i)}finally{Ca=!1,(Ni!==null||zi!==null)&&(Hh(),Wh())}}function Or(e,t){var i=e.stateNode;if(i===null)return null;var s=Os(i);if(s===null)return null;i=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(Y(231,t,typeof i));return i}var sl=!1;if(dn)try{var ur={};Object.defineProperty(ur,"passive",{get:function(){sl=!0}}),window.addEventListener("test",ur,ur),window.removeEventListener("test",ur,ur)}catch{sl=!1}function Jg(e,t,i,s,a,u,d,p,f){var m=Array.prototype.slice.call(arguments,3);try{t.apply(i,m)}catch(x){this.onError(x)}}var wr=!1,Xo=null,es=!1,al=null,Xg={onError:function(e){wr=!0,Xo=e}};function ev(e,t,i,s,a,u,d,p,f){wr=!1,Xo=null,Jg.apply(Xg,arguments)}function tv(e,t,i,s,a,u,d,p,f){if(ev.apply(this,arguments),wr){if(wr){var m=Xo;wr=!1,Xo=null}else throw Error(Y(198));es||(es=!0,al=m)}}function oi(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function Gh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function od(e){if(oi(e)!==e)throw Error(Y(188))}function nv(e){var t=e.alternate;if(!t){if(t=oi(e),t===null)throw Error(Y(188));return t!==e?null:e}for(var i=e,s=t;;){var a=i.return;if(a===null)break;var u=a.alternate;if(u===null){if(s=a.return,s!==null){i=s;continue}break}if(a.child===u.child){for(u=a.child;u;){if(u===i)return od(a),e;if(u===s)return od(a),t;u=u.sibling}throw Error(Y(188))}if(i.return!==s.return)i=a,s=u;else{for(var d=!1,p=a.child;p;){if(p===i){d=!0,i=a,s=u;break}if(p===s){d=!0,s=a,i=u;break}p=p.sibling}if(!d){for(p=u.child;p;){if(p===i){d=!0,i=u,s=a;break}if(p===s){d=!0,s=u,i=a;break}p=p.sibling}if(!d)throw Error(Y(189))}}if(i.alternate!==s)throw Error(Y(190))}if(i.tag!==3)throw Error(Y(188));return i.stateNode.current===i?e:t}function Kh(e){return e=nv(e),e!==null?Yh(e):null}function Yh(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Yh(e);if(t!==null)return t;e=e.sibling}return null}var Qh=wt.unstable_scheduleCallback,sd=wt.unstable_cancelCallback,iv=wt.unstable_shouldYield,rv=wt.unstable_requestPaint,Ue=wt.unstable_now,ov=wt.unstable_getCurrentPriorityLevel,tu=wt.unstable_ImmediatePriority,qh=wt.unstable_UserBlockingPriority,ts=wt.unstable_NormalPriority,sv=wt.unstable_LowPriority,Jh=wt.unstable_IdlePriority,Ps=null,Xt=null;function av(e){if(Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(Ps,e,void 0,(e.current.flags&128)===128)}catch{}}var Wt=Math.clz32?Math.clz32:cv,lv=Math.log,uv=Math.LN2;function cv(e){return e>>>=0,e===0?32:31-(lv(e)/uv|0)|0}var Po=64,To=4194304;function yr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ns(e,t){var i=e.pendingLanes;if(i===0)return 0;var s=0,a=e.suspendedLanes,u=e.pingedLanes,d=i&268435455;if(d!==0){var p=d&~a;p!==0?s=yr(p):(u&=d,u!==0&&(s=yr(u)))}else d=i&~a,d!==0?s=yr(d):u!==0&&(s=yr(u));if(s===0)return 0;if(t!==0&&t!==s&&!(t&a)&&(a=s&-s,u=t&-t,a>=u||a===16&&(u&4194240)!==0))return t;if(s&4&&(s|=i&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)i=31-Wt(t),a=1<<i,s|=e[i],t&=~a;return s}function dv(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hv(e,t){for(var i=e.suspendedLanes,s=e.pingedLanes,a=e.expirationTimes,u=e.pendingLanes;0<u;){var d=31-Wt(u),p=1<<d,f=a[d];f===-1?(!(p&i)||p&s)&&(a[d]=dv(p,t)):f<=t&&(e.expiredLanes|=p),u&=~p}}function ll(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Xh(){var e=Po;return Po<<=1,!(Po&4194240)&&(Po=64),e}function ja(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function Yr(e,t,i){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Wt(t),e[t]=i}function fv(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<i;){var a=31-Wt(i),u=1<<a;t[a]=0,s[a]=-1,e[a]=-1,i&=~u}}function nu(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var s=31-Wt(i),a=1<<s;a&t|e[s]&t&&(e[s]|=t),i&=~a}}var Te=0;function ef(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var tf,iu,nf,rf,of,ul=!1,Eo=[],kn=null,Pn=null,Tn=null,Nr=new Map,zr=new Map,wn=[],pv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ad(e,t){switch(e){case"focusin":case"focusout":kn=null;break;case"dragenter":case"dragleave":Pn=null;break;case"mouseover":case"mouseout":Tn=null;break;case"pointerover":case"pointerout":Nr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zr.delete(t.pointerId)}}function cr(e,t,i,s,a,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:i,eventSystemFlags:s,nativeEvent:u,targetContainers:[a]},t!==null&&(t=qr(t),t!==null&&iu(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function mv(e,t,i,s,a){switch(t){case"focusin":return kn=cr(kn,e,t,i,s,a),!0;case"dragenter":return Pn=cr(Pn,e,t,i,s,a),!0;case"mouseover":return Tn=cr(Tn,e,t,i,s,a),!0;case"pointerover":var u=a.pointerId;return Nr.set(u,cr(Nr.get(u)||null,e,t,i,s,a)),!0;case"gotpointercapture":return u=a.pointerId,zr.set(u,cr(zr.get(u)||null,e,t,i,s,a)),!0}return!1}function sf(e){var t=Kn(e.target);if(t!==null){var i=oi(t);if(i!==null){if(t=i.tag,t===13){if(t=Gh(i),t!==null){e.blockedOn=t,of(e.priority,function(){nf(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Zo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=cl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var s=new i.constructor(i.type,i);rl=s,i.target.dispatchEvent(s),rl=null}else return t=qr(i),t!==null&&iu(t),e.blockedOn=i,!1;t.shift()}return!0}function ld(e,t,i){Zo(e)&&i.delete(t)}function gv(){ul=!1,kn!==null&&Zo(kn)&&(kn=null),Pn!==null&&Zo(Pn)&&(Pn=null),Tn!==null&&Zo(Tn)&&(Tn=null),Nr.forEach(ld),zr.forEach(ld)}function dr(e,t){e.blockedOn===t&&(e.blockedOn=null,ul||(ul=!0,wt.unstable_scheduleCallback(wt.unstable_NormalPriority,gv)))}function Mr(e){function t(a){return dr(a,e)}if(0<Eo.length){dr(Eo[0],e);for(var i=1;i<Eo.length;i++){var s=Eo[i];s.blockedOn===e&&(s.blockedOn=null)}}for(kn!==null&&dr(kn,e),Pn!==null&&dr(Pn,e),Tn!==null&&dr(Tn,e),Nr.forEach(t),zr.forEach(t),i=0;i<wn.length;i++)s=wn[i],s.blockedOn===e&&(s.blockedOn=null);for(;0<wn.length&&(i=wn[0],i.blockedOn===null);)sf(i),i.blockedOn===null&&wn.shift()}var Mi=mn.ReactCurrentBatchConfig,is=!0;function vv(e,t,i,s){var a=Te,u=Mi.transition;Mi.transition=null;try{Te=1,ru(e,t,i,s)}finally{Te=a,Mi.transition=u}}function yv(e,t,i,s){var a=Te,u=Mi.transition;Mi.transition=null;try{Te=4,ru(e,t,i,s)}finally{Te=a,Mi.transition=u}}function ru(e,t,i,s){if(is){var a=cl(e,t,i,s);if(a===null)za(e,t,s,rs,i),ad(e,s);else if(mv(a,e,t,i,s))s.stopPropagation();else if(ad(e,s),t&4&&-1<pv.indexOf(e)){for(;a!==null;){var u=qr(a);if(u!==null&&tf(u),u=cl(e,t,i,s),u===null&&za(e,t,s,rs,i),u===a)break;a=u}a!==null&&s.stopPropagation()}else za(e,t,s,null,i)}}var rs=null;function cl(e,t,i,s){if(rs=null,e=eu(s),e=Kn(e),e!==null)if(t=oi(e),t===null)e=null;else if(i=t.tag,i===13){if(e=Gh(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return rs=e,null}function af(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ov()){case tu:return 1;case qh:return 4;case ts:case sv:return 16;case Jh:return 536870912;default:return 16}default:return 16}}var jn=null,ou=null,Wo=null;function lf(){if(Wo)return Wo;var e,t=ou,i=t.length,s,a="value"in jn?jn.value:jn.textContent,u=a.length;for(e=0;e<i&&t[e]===a[e];e++);var d=i-e;for(s=1;s<=d&&t[i-s]===a[u-s];s++);return Wo=a.slice(e,1<s?1-s:void 0)}function $o(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Lo(){return!0}function ud(){return!1}function jt(e){function t(i,s,a,u,d){this._reactName=i,this._targetInst=a,this.type=s,this.nativeEvent=u,this.target=d,this.currentTarget=null;for(var p in e)e.hasOwnProperty(p)&&(i=e[p],this[p]=i?i(u):u[p]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?Lo:ud,this.isPropagationStopped=ud,this}return Re(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Lo)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Lo)},persist:function(){},isPersistent:Lo}),t}var Hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},su=jt(Hi),Qr=Re({},Hi,{view:0,detail:0}),xv=jt(Qr),Sa,ba,hr,Ts=Re({},Qr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:au,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hr&&(hr&&e.type==="mousemove"?(Sa=e.screenX-hr.screenX,ba=e.screenY-hr.screenY):ba=Sa=0,hr=e),Sa)},movementY:function(e){return"movementY"in e?e.movementY:ba}}),cd=jt(Ts),_v=Re({},Ts,{dataTransfer:0}),wv=jt(_v),Cv=Re({},Qr,{relatedTarget:0}),ka=jt(Cv),jv=Re({},Hi,{animationName:0,elapsedTime:0,pseudoElement:0}),Sv=jt(jv),bv=Re({},Hi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kv=jt(bv),Pv=Re({},Hi,{data:0}),dd=jt(Pv),Tv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ev={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ov(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Lv[e])?!!t[e]:!1}function au(){return Ov}var Nv=Re({},Qr,{key:function(e){if(e.key){var t=Tv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=$o(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ev[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:au,charCode:function(e){return e.type==="keypress"?$o(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?$o(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),zv=jt(Nv),Mv=Re({},Ts,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hd=jt(Mv),Iv=Re({},Qr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:au}),Bv=jt(Iv),Av=Re({},Hi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Rv=jt(Av),Dv=Re({},Ts,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Fv=jt(Dv),Uv=[9,13,27,32],lu=dn&&"CompositionEvent"in window,Cr=null;dn&&"documentMode"in document&&(Cr=document.documentMode);var Zv=dn&&"TextEvent"in window&&!Cr,uf=dn&&(!lu||Cr&&8<Cr&&11>=Cr),fd=" ",pd=!1;function cf(e,t){switch(e){case"keyup":return Uv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function df(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var wi=!1;function Wv(e,t){switch(e){case"compositionend":return df(t);case"keypress":return t.which!==32?null:(pd=!0,fd);case"textInput":return e=t.data,e===fd&&pd?null:e;default:return null}}function $v(e,t){if(wi)return e==="compositionend"||!lu&&cf(e,t)?(e=lf(),Wo=ou=jn=null,wi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return uf&&t.locale!=="ko"?null:t.data;default:return null}}var Hv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function md(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Hv[e.type]:t==="textarea"}function hf(e,t,i,s){Zh(s),t=os(t,"onChange"),0<t.length&&(i=new su("onChange","change",null,i,s),e.push({event:i,listeners:t}))}var jr=null,Ir=null;function Vv(e){jf(e,0)}function Es(e){var t=Si(e);if(Ih(t))return e}function Gv(e,t){if(e==="change")return t}var ff=!1;if(dn){var Pa;if(dn){var Ta="oninput"in document;if(!Ta){var gd=document.createElement("div");gd.setAttribute("oninput","return;"),Ta=typeof gd.oninput=="function"}Pa=Ta}else Pa=!1;ff=Pa&&(!document.documentMode||9<document.documentMode)}function vd(){jr&&(jr.detachEvent("onpropertychange",pf),Ir=jr=null)}function pf(e){if(e.propertyName==="value"&&Es(Ir)){var t=[];hf(t,Ir,e,eu(e)),Vh(Vv,t)}}function Kv(e,t,i){e==="focusin"?(vd(),jr=t,Ir=i,jr.attachEvent("onpropertychange",pf)):e==="focusout"&&vd()}function Yv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Es(Ir)}function Qv(e,t){if(e==="click")return Es(t)}function qv(e,t){if(e==="input"||e==="change")return Es(t)}function Jv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ht=typeof Object.is=="function"?Object.is:Jv;function Br(e,t){if(Ht(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),s=Object.keys(t);if(i.length!==s.length)return!1;for(s=0;s<i.length;s++){var a=i[s];if(!Va.call(t,a)||!Ht(e[a],t[a]))return!1}return!0}function yd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xd(e,t){var i=yd(e);e=0;for(var s;i;){if(i.nodeType===3){if(s=e+i.textContent.length,e<=t&&s>=t)return{node:i,offset:t-e};e=s}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=yd(i)}}function mf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?mf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function gf(){for(var e=window,t=Jo();t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=Jo(e.document)}return t}function uu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Xv(e){var t=gf(),i=e.focusedElem,s=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&mf(i.ownerDocument.documentElement,i)){if(s!==null&&uu(i)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if(e=(t=i.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=i.textContent.length,u=Math.min(s.start,a);s=s.end===void 0?u:Math.min(s.end,a),!e.extend&&u>s&&(a=s,s=u,u=a),a=xd(i,u);var d=xd(i,s);a&&d&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==d.node||e.focusOffset!==d.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),u>s?(e.addRange(t),e.extend(d.node,d.offset)):(t.setEnd(d.node,d.offset),e.addRange(t)))}}for(t=[],e=i;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)e=t[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ey=dn&&"documentMode"in document&&11>=document.documentMode,Ci=null,dl=null,Sr=null,hl=!1;function _d(e,t,i){var s=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;hl||Ci==null||Ci!==Jo(s)||(s=Ci,"selectionStart"in s&&uu(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Sr&&Br(Sr,s)||(Sr=s,s=os(dl,"onSelect"),0<s.length&&(t=new su("onSelect","select",null,t,i),e.push({event:t,listeners:s}),t.target=Ci)))}function Oo(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var ji={animationend:Oo("Animation","AnimationEnd"),animationiteration:Oo("Animation","AnimationIteration"),animationstart:Oo("Animation","AnimationStart"),transitionend:Oo("Transition","TransitionEnd")},Ea={},vf={};dn&&(vf=document.createElement("div").style,"AnimationEvent"in window||(delete ji.animationend.animation,delete ji.animationiteration.animation,delete ji.animationstart.animation),"TransitionEvent"in window||delete ji.transitionend.transition);function Ls(e){if(Ea[e])return Ea[e];if(!ji[e])return e;var t=ji[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in vf)return Ea[e]=t[i];return e}var yf=Ls("animationend"),xf=Ls("animationiteration"),_f=Ls("animationstart"),wf=Ls("transitionend"),Cf=new Map,wd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function An(e,t){Cf.set(e,t),ri(t,[e])}for(var La=0;La<wd.length;La++){var Oa=wd[La],ty=Oa.toLowerCase(),ny=Oa[0].toUpperCase()+Oa.slice(1);An(ty,"on"+ny)}An(yf,"onAnimationEnd");An(xf,"onAnimationIteration");An(_f,"onAnimationStart");An("dblclick","onDoubleClick");An("focusin","onFocus");An("focusout","onBlur");An(wf,"onTransitionEnd");Ai("onMouseEnter",["mouseout","mouseover"]);Ai("onMouseLeave",["mouseout","mouseover"]);Ai("onPointerEnter",["pointerout","pointerover"]);Ai("onPointerLeave",["pointerout","pointerover"]);ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ri("onBeforeInput",["compositionend","keypress","textInput","paste"]);ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iy=new Set("cancel close invalid load scroll toggle".split(" ").concat(xr));function Cd(e,t,i){var s=e.type||"unknown-event";e.currentTarget=i,tv(s,t,void 0,e),e.currentTarget=null}function jf(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var s=e[i],a=s.event;s=s.listeners;e:{var u=void 0;if(t)for(var d=s.length-1;0<=d;d--){var p=s[d],f=p.instance,m=p.currentTarget;if(p=p.listener,f!==u&&a.isPropagationStopped())break e;Cd(a,p,m),u=f}else for(d=0;d<s.length;d++){if(p=s[d],f=p.instance,m=p.currentTarget,p=p.listener,f!==u&&a.isPropagationStopped())break e;Cd(a,p,m),u=f}}}if(es)throw e=al,es=!1,al=null,e}function Oe(e,t){var i=t[vl];i===void 0&&(i=t[vl]=new Set);var s=e+"__bubble";i.has(s)||(Sf(t,e,2,!1),i.add(s))}function Na(e,t,i){var s=0;t&&(s|=4),Sf(i,e,s,t)}var No="_reactListening"+Math.random().toString(36).slice(2);function Ar(e){if(!e[No]){e[No]=!0,Lh.forEach(function(i){i!=="selectionchange"&&(iy.has(i)||Na(i,!1,e),Na(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[No]||(t[No]=!0,Na("selectionchange",!1,t))}}function Sf(e,t,i,s){switch(af(t)){case 1:var a=vv;break;case 4:a=yv;break;default:a=ru}i=a.bind(null,t,i,e),a=void 0,!sl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),s?a!==void 0?e.addEventListener(t,i,{capture:!0,passive:a}):e.addEventListener(t,i,!0):a!==void 0?e.addEventListener(t,i,{passive:a}):e.addEventListener(t,i,!1)}function za(e,t,i,s,a){var u=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var d=s.tag;if(d===3||d===4){var p=s.stateNode.containerInfo;if(p===a||p.nodeType===8&&p.parentNode===a)break;if(d===4)for(d=s.return;d!==null;){var f=d.tag;if((f===3||f===4)&&(f=d.stateNode.containerInfo,f===a||f.nodeType===8&&f.parentNode===a))return;d=d.return}for(;p!==null;){if(d=Kn(p),d===null)return;if(f=d.tag,f===5||f===6){s=u=d;continue e}p=p.parentNode}}s=s.return}Vh(function(){var m=u,x=eu(i),j=[];e:{var S=Cf.get(e);if(S!==void 0){var O=su,C=e;switch(e){case"keypress":if($o(i)===0)break e;case"keydown":case"keyup":O=zv;break;case"focusin":C="focus",O=ka;break;case"focusout":C="blur",O=ka;break;case"beforeblur":case"afterblur":O=ka;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":O=cd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":O=wv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":O=Bv;break;case yf:case xf:case _f:O=Sv;break;case wf:O=Rv;break;case"scroll":O=xv;break;case"wheel":O=Fv;break;case"copy":case"cut":case"paste":O=kv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":O=hd}var v=(t&4)!==0,E=!v&&e==="scroll",y=v?S!==null?S+"Capture":null:S;v=[];for(var _=m,w;_!==null;){w=_;var I=w.stateNode;if(w.tag===5&&I!==null&&(w=I,y!==null&&(I=Or(_,y),I!=null&&v.push(Rr(_,I,w)))),E)break;_=_.return}0<v.length&&(S=new O(S,C,null,i,x),j.push({event:S,listeners:v}))}}if(!(t&7)){e:{if(S=e==="mouseover"||e==="pointerover",O=e==="mouseout"||e==="pointerout",S&&i!==rl&&(C=i.relatedTarget||i.fromElement)&&(Kn(C)||C[hn]))break e;if((O||S)&&(S=x.window===x?x:(S=x.ownerDocument)?S.defaultView||S.parentWindow:window,O?(C=i.relatedTarget||i.toElement,O=m,C=C?Kn(C):null,C!==null&&(E=oi(C),C!==E||C.tag!==5&&C.tag!==6)&&(C=null)):(O=null,C=m),O!==C)){if(v=cd,I="onMouseLeave",y="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(v=hd,I="onPointerLeave",y="onPointerEnter",_="pointer"),E=O==null?S:Si(O),w=C==null?S:Si(C),S=new v(I,_+"leave",O,i,x),S.target=E,S.relatedTarget=w,I=null,Kn(x)===m&&(v=new v(y,_+"enter",C,i,x),v.target=w,v.relatedTarget=E,I=v),E=I,O&&C)t:{for(v=O,y=C,_=0,w=v;w;w=vi(w))_++;for(w=0,I=y;I;I=vi(I))w++;for(;0<_-w;)v=vi(v),_--;for(;0<w-_;)y=vi(y),w--;for(;_--;){if(v===y||y!==null&&v===y.alternate)break t;v=vi(v),y=vi(y)}v=null}else v=null;O!==null&&jd(j,S,O,v,!1),C!==null&&E!==null&&jd(j,E,C,v,!0)}}e:{if(S=m?Si(m):window,O=S.nodeName&&S.nodeName.toLowerCase(),O==="select"||O==="input"&&S.type==="file")var U=Gv;else if(md(S))if(ff)U=qv;else{U=Yv;var G=Kv}else(O=S.nodeName)&&O.toLowerCase()==="input"&&(S.type==="checkbox"||S.type==="radio")&&(U=Qv);if(U&&(U=U(e,m))){hf(j,U,i,x);break e}G&&G(e,S,m),e==="focusout"&&(G=S._wrapperState)&&G.controlled&&S.type==="number"&&Xa(S,"number",S.value)}switch(G=m?Si(m):window,e){case"focusin":(md(G)||G.contentEditable==="true")&&(Ci=G,dl=m,Sr=null);break;case"focusout":Sr=dl=Ci=null;break;case"mousedown":hl=!0;break;case"contextmenu":case"mouseup":case"dragend":hl=!1,_d(j,i,x);break;case"selectionchange":if(ey)break;case"keydown":case"keyup":_d(j,i,x)}var $;if(lu)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else wi?cf(e,i)&&(P="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(P="onCompositionStart");P&&(uf&&i.locale!=="ko"&&(wi||P!=="onCompositionStart"?P==="onCompositionEnd"&&wi&&($=lf()):(jn=x,ou="value"in jn?jn.value:jn.textContent,wi=!0)),G=os(m,P),0<G.length&&(P=new dd(P,e,null,i,x),j.push({event:P,listeners:G}),$?P.data=$:($=df(i),$!==null&&(P.data=$)))),($=Zv?Wv(e,i):$v(e,i))&&(m=os(m,"onBeforeInput"),0<m.length&&(x=new dd("onBeforeInput","beforeinput",null,i,x),j.push({event:x,listeners:m}),x.data=$))}jf(j,t)})}function Rr(e,t,i){return{instance:e,listener:t,currentTarget:i}}function os(e,t){for(var i=t+"Capture",s=[];e!==null;){var a=e,u=a.stateNode;a.tag===5&&u!==null&&(a=u,u=Or(e,i),u!=null&&s.unshift(Rr(e,u,a)),u=Or(e,t),u!=null&&s.push(Rr(e,u,a))),e=e.return}return s}function vi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function jd(e,t,i,s,a){for(var u=t._reactName,d=[];i!==null&&i!==s;){var p=i,f=p.alternate,m=p.stateNode;if(f!==null&&f===s)break;p.tag===5&&m!==null&&(p=m,a?(f=Or(i,u),f!=null&&d.unshift(Rr(i,f,p))):a||(f=Or(i,u),f!=null&&d.push(Rr(i,f,p)))),i=i.return}d.length!==0&&e.push({event:t,listeners:d})}var ry=/\r\n?/g,oy=/\u0000|\uFFFD/g;function Sd(e){return(typeof e=="string"?e:""+e).replace(ry,`
`).replace(oy,"")}function zo(e,t,i){if(t=Sd(t),Sd(e)!==t&&i)throw Error(Y(425))}function ss(){}var fl=null,pl=null;function ml(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var gl=typeof setTimeout=="function"?setTimeout:void 0,sy=typeof clearTimeout=="function"?clearTimeout:void 0,bd=typeof Promise=="function"?Promise:void 0,ay=typeof queueMicrotask=="function"?queueMicrotask:typeof bd<"u"?function(e){return bd.resolve(null).then(e).catch(ly)}:gl;function ly(e){setTimeout(function(){throw e})}function Ma(e,t){var i=t,s=0;do{var a=i.nextSibling;if(e.removeChild(i),a&&a.nodeType===8)if(i=a.data,i==="/$"){if(s===0){e.removeChild(a),Mr(t);return}s--}else i!=="$"&&i!=="$?"&&i!=="$!"||s++;i=a}while(i);Mr(t)}function En(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function kd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}var Vi=Math.random().toString(36).slice(2),Jt="__reactFiber$"+Vi,Dr="__reactProps$"+Vi,hn="__reactContainer$"+Vi,vl="__reactEvents$"+Vi,uy="__reactListeners$"+Vi,cy="__reactHandles$"+Vi;function Kn(e){var t=e[Jt];if(t)return t;for(var i=e.parentNode;i;){if(t=i[hn]||i[Jt]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=kd(e);e!==null;){if(i=e[Jt])return i;e=kd(e)}return t}e=i,i=e.parentNode}return null}function qr(e){return e=e[Jt]||e[hn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Si(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Y(33))}function Os(e){return e[Dr]||null}var yl=[],bi=-1;function Rn(e){return{current:e}}function Ne(e){0>bi||(e.current=yl[bi],yl[bi]=null,bi--)}function Le(e,t){bi++,yl[bi]=e.current,e.current=t}var Bn={},rt=Rn(Bn),pt=Rn(!1),Xn=Bn;function Ri(e,t){var i=e.type.contextTypes;if(!i)return Bn;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var a={},u;for(u in i)a[u]=t[u];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function mt(e){return e=e.childContextTypes,e!=null}function as(){Ne(pt),Ne(rt)}function Pd(e,t,i){if(rt.current!==Bn)throw Error(Y(168));Le(rt,t),Le(pt,i)}function bf(e,t,i){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return i;s=s.getChildContext();for(var a in s)if(!(a in t))throw Error(Y(108,Kg(e)||"Unknown",a));return Re({},i,s)}function ls(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Bn,Xn=rt.current,Le(rt,e),Le(pt,pt.current),!0}function Td(e,t,i){var s=e.stateNode;if(!s)throw Error(Y(169));i?(e=bf(e,t,Xn),s.__reactInternalMemoizedMergedChildContext=e,Ne(pt),Ne(rt),Le(rt,e)):Ne(pt),Le(pt,i)}var an=null,Ns=!1,Ia=!1;function kf(e){an===null?an=[e]:an.push(e)}function dy(e){Ns=!0,kf(e)}function Dn(){if(!Ia&&an!==null){Ia=!0;var e=0,t=Te;try{var i=an;for(Te=1;e<i.length;e++){var s=i[e];do s=s(!0);while(s!==null)}an=null,Ns=!1}catch(a){throw an!==null&&(an=an.slice(e+1)),Qh(tu,Dn),a}finally{Te=t,Ia=!1}}return null}var ki=[],Pi=0,us=null,cs=0,Pt=[],Tt=0,ei=null,ln=1,un="";function Vn(e,t){ki[Pi++]=cs,ki[Pi++]=us,us=e,cs=t}function Pf(e,t,i){Pt[Tt++]=ln,Pt[Tt++]=un,Pt[Tt++]=ei,ei=e;var s=ln;e=un;var a=32-Wt(s)-1;s&=~(1<<a),i+=1;var u=32-Wt(t)+a;if(30<u){var d=a-a%5;u=(s&(1<<d)-1).toString(32),s>>=d,a-=d,ln=1<<32-Wt(t)+a|i<<a|s,un=u+e}else ln=1<<u|i<<a|s,un=e}function cu(e){e.return!==null&&(Vn(e,1),Pf(e,1,0))}function du(e){for(;e===us;)us=ki[--Pi],ki[Pi]=null,cs=ki[--Pi],ki[Pi]=null;for(;e===ei;)ei=Pt[--Tt],Pt[Tt]=null,un=Pt[--Tt],Pt[Tt]=null,ln=Pt[--Tt],Pt[Tt]=null}var _t=null,xt=null,Me=!1,Ut=null;function Tf(e,t){var i=Et(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,t=e.deletions,t===null?(e.deletions=[i],e.flags|=16):t.push(i)}function Ed(e,t){switch(e.tag){case 5:var i=e.type;return t=t.nodeType!==1||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,_t=e,xt=En(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,_t=e,xt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(i=ei!==null?{id:ln,overflow:un}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},i=Et(18,null,null,0),i.stateNode=t,i.return=e,e.child=i,_t=e,xt=null,!0):!1;default:return!1}}function xl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function _l(e){if(Me){var t=xt;if(t){var i=t;if(!Ed(e,t)){if(xl(e))throw Error(Y(418));t=En(i.nextSibling);var s=_t;t&&Ed(e,t)?Tf(s,i):(e.flags=e.flags&-4097|2,Me=!1,_t=e)}}else{if(xl(e))throw Error(Y(418));e.flags=e.flags&-4097|2,Me=!1,_t=e}}}function Ld(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;_t=e}function Mo(e){if(e!==_t)return!1;if(!Me)return Ld(e),Me=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ml(e.type,e.memoizedProps)),t&&(t=xt)){if(xl(e))throw Ef(),Error(Y(418));for(;t;)Tf(e,t),t=En(t.nextSibling)}if(Ld(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Y(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(t===0){xt=En(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++}e=e.nextSibling}xt=null}}else xt=_t?En(e.stateNode.nextSibling):null;return!0}function Ef(){for(var e=xt;e;)e=En(e.nextSibling)}function Di(){xt=_t=null,Me=!1}function hu(e){Ut===null?Ut=[e]:Ut.push(e)}var hy=mn.ReactCurrentBatchConfig;function fr(e,t,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(Y(309));var s=i.stateNode}if(!s)throw Error(Y(147,e));var a=s,u=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===u?t.ref:(t=function(d){var p=a.refs;d===null?delete p[u]:p[u]=d},t._stringRef=u,t)}if(typeof e!="string")throw Error(Y(284));if(!i._owner)throw Error(Y(290,e))}return e}function Io(e,t){throw e=Object.prototype.toString.call(t),Error(Y(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Od(e){var t=e._init;return t(e._payload)}function Lf(e){function t(y,_){if(e){var w=y.deletions;w===null?(y.deletions=[_],y.flags|=16):w.push(_)}}function i(y,_){if(!e)return null;for(;_!==null;)t(y,_),_=_.sibling;return null}function s(y,_){for(y=new Map;_!==null;)_.key!==null?y.set(_.key,_):y.set(_.index,_),_=_.sibling;return y}function a(y,_){return y=zn(y,_),y.index=0,y.sibling=null,y}function u(y,_,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<_?(y.flags|=2,_):w):(y.flags|=2,_)):(y.flags|=1048576,_)}function d(y){return e&&y.alternate===null&&(y.flags|=2),y}function p(y,_,w,I){return _===null||_.tag!==6?(_=Za(w,y.mode,I),_.return=y,_):(_=a(_,w),_.return=y,_)}function f(y,_,w,I){var U=w.type;return U===_i?x(y,_,w.props.children,I,w.key):_!==null&&(_.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===xn&&Od(U)===_.type)?(I=a(_,w.props),I.ref=fr(y,_,w),I.return=y,I):(I=qo(w.type,w.key,w.props,null,y.mode,I),I.ref=fr(y,_,w),I.return=y,I)}function m(y,_,w,I){return _===null||_.tag!==4||_.stateNode.containerInfo!==w.containerInfo||_.stateNode.implementation!==w.implementation?(_=Wa(w,y.mode,I),_.return=y,_):(_=a(_,w.children||[]),_.return=y,_)}function x(y,_,w,I,U){return _===null||_.tag!==7?(_=Jn(w,y.mode,I,U),_.return=y,_):(_=a(_,w),_.return=y,_)}function j(y,_,w){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Za(""+_,y.mode,w),_.return=y,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case So:return w=qo(_.type,_.key,_.props,null,y.mode,w),w.ref=fr(y,null,_),w.return=y,w;case xi:return _=Wa(_,y.mode,w),_.return=y,_;case xn:var I=_._init;return j(y,I(_._payload),w)}if(vr(_)||lr(_))return _=Jn(_,y.mode,w,null),_.return=y,_;Io(y,_)}return null}function S(y,_,w,I){var U=_!==null?_.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return U!==null?null:p(y,_,""+w,I);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case So:return w.key===U?f(y,_,w,I):null;case xi:return w.key===U?m(y,_,w,I):null;case xn:return U=w._init,S(y,_,U(w._payload),I)}if(vr(w)||lr(w))return U!==null?null:x(y,_,w,I,null);Io(y,w)}return null}function O(y,_,w,I,U){if(typeof I=="string"&&I!==""||typeof I=="number")return y=y.get(w)||null,p(_,y,""+I,U);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case So:return y=y.get(I.key===null?w:I.key)||null,f(_,y,I,U);case xi:return y=y.get(I.key===null?w:I.key)||null,m(_,y,I,U);case xn:var G=I._init;return O(y,_,w,G(I._payload),U)}if(vr(I)||lr(I))return y=y.get(w)||null,x(_,y,I,U,null);Io(_,I)}return null}function C(y,_,w,I){for(var U=null,G=null,$=_,P=_=0,T=null;$!==null&&P<w.length;P++){$.index>P?(T=$,$=null):T=$.sibling;var N=S(y,$,w[P],I);if(N===null){$===null&&($=T);break}e&&$&&N.alternate===null&&t(y,$),_=u(N,_,P),G===null?U=N:G.sibling=N,G=N,$=T}if(P===w.length)return i(y,$),Me&&Vn(y,P),U;if($===null){for(;P<w.length;P++)$=j(y,w[P],I),$!==null&&(_=u($,_,P),G===null?U=$:G.sibling=$,G=$);return Me&&Vn(y,P),U}for($=s(y,$);P<w.length;P++)T=O($,y,P,w[P],I),T!==null&&(e&&T.alternate!==null&&$.delete(T.key===null?P:T.key),_=u(T,_,P),G===null?U=T:G.sibling=T,G=T);return e&&$.forEach(function(R){return t(y,R)}),Me&&Vn(y,P),U}function v(y,_,w,I){var U=lr(w);if(typeof U!="function")throw Error(Y(150));if(w=U.call(w),w==null)throw Error(Y(151));for(var G=U=null,$=_,P=_=0,T=null,N=w.next();$!==null&&!N.done;P++,N=w.next()){$.index>P?(T=$,$=null):T=$.sibling;var R=S(y,$,N.value,I);if(R===null){$===null&&($=T);break}e&&$&&R.alternate===null&&t(y,$),_=u(R,_,P),G===null?U=R:G.sibling=R,G=R,$=T}if(N.done)return i(y,$),Me&&Vn(y,P),U;if($===null){for(;!N.done;P++,N=w.next())N=j(y,N.value,I),N!==null&&(_=u(N,_,P),G===null?U=N:G.sibling=N,G=N);return Me&&Vn(y,P),U}for($=s(y,$);!N.done;P++,N=w.next())N=O($,y,P,N.value,I),N!==null&&(e&&N.alternate!==null&&$.delete(N.key===null?P:N.key),_=u(N,_,P),G===null?U=N:G.sibling=N,G=N);return e&&$.forEach(function(Z){return t(y,Z)}),Me&&Vn(y,P),U}function E(y,_,w,I){if(typeof w=="object"&&w!==null&&w.type===_i&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case So:e:{for(var U=w.key,G=_;G!==null;){if(G.key===U){if(U=w.type,U===_i){if(G.tag===7){i(y,G.sibling),_=a(G,w.props.children),_.return=y,y=_;break e}}else if(G.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===xn&&Od(U)===G.type){i(y,G.sibling),_=a(G,w.props),_.ref=fr(y,G,w),_.return=y,y=_;break e}i(y,G);break}else t(y,G);G=G.sibling}w.type===_i?(_=Jn(w.props.children,y.mode,I,w.key),_.return=y,y=_):(I=qo(w.type,w.key,w.props,null,y.mode,I),I.ref=fr(y,_,w),I.return=y,y=I)}return d(y);case xi:e:{for(G=w.key;_!==null;){if(_.key===G)if(_.tag===4&&_.stateNode.containerInfo===w.containerInfo&&_.stateNode.implementation===w.implementation){i(y,_.sibling),_=a(_,w.children||[]),_.return=y,y=_;break e}else{i(y,_);break}else t(y,_);_=_.sibling}_=Wa(w,y.mode,I),_.return=y,y=_}return d(y);case xn:return G=w._init,E(y,_,G(w._payload),I)}if(vr(w))return C(y,_,w,I);if(lr(w))return v(y,_,w,I);Io(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,_!==null&&_.tag===6?(i(y,_.sibling),_=a(_,w),_.return=y,y=_):(i(y,_),_=Za(w,y.mode,I),_.return=y,y=_),d(y)):i(y,_)}return E}var Fi=Lf(!0),Of=Lf(!1),ds=Rn(null),hs=null,Ti=null,fu=null;function pu(){fu=Ti=hs=null}function mu(e){var t=ds.current;Ne(ds),e._currentValue=t}function wl(e,t,i){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===i)break;e=e.return}}function Ii(e,t){hs=e,fu=Ti=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ft=!0),e.firstContext=null)}function Ot(e){var t=e._currentValue;if(fu!==e)if(e={context:e,memoizedValue:t,next:null},Ti===null){if(hs===null)throw Error(Y(308));Ti=e,hs.dependencies={lanes:0,firstContext:e}}else Ti=Ti.next=e;return t}var Yn=null;function gu(e){Yn===null?Yn=[e]:Yn.push(e)}function Nf(e,t,i,s){var a=t.interleaved;return a===null?(i.next=i,gu(t)):(i.next=a.next,a.next=i),t.interleaved=i,fn(e,s)}function fn(e,t){e.lanes|=t;var i=e.alternate;for(i!==null&&(i.lanes|=t),i=e,e=e.return;e!==null;)e.childLanes|=t,i=e.alternate,i!==null&&(i.childLanes|=t),i=e,e=e.return;return i.tag===3?i.stateNode:null}var _n=!1;function vu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function cn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ln(e,t,i){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,be&2){var a=s.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),s.pending=t,fn(e,i)}return a=s.interleaved,a===null?(t.next=t,gu(s)):(t.next=a.next,a.next=t),s.interleaved=t,fn(e,i)}function Ho(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,i|=s,t.lanes=i,nu(e,i)}}function Nd(e,t){var i=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,i===s)){var a=null,u=null;if(i=i.firstBaseUpdate,i!==null){do{var d={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};u===null?a=u=d:u=u.next=d,i=i.next}while(i!==null);u===null?a=u=t:u=u.next=t}else a=u=t;i={baseState:s.baseState,firstBaseUpdate:a,lastBaseUpdate:u,shared:s.shared,effects:s.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function fs(e,t,i,s){var a=e.updateQueue;_n=!1;var u=a.firstBaseUpdate,d=a.lastBaseUpdate,p=a.shared.pending;if(p!==null){a.shared.pending=null;var f=p,m=f.next;f.next=null,d===null?u=m:d.next=m,d=f;var x=e.alternate;x!==null&&(x=x.updateQueue,p=x.lastBaseUpdate,p!==d&&(p===null?x.firstBaseUpdate=m:p.next=m,x.lastBaseUpdate=f))}if(u!==null){var j=a.baseState;d=0,x=m=f=null,p=u;do{var S=p.lane,O=p.eventTime;if((s&S)===S){x!==null&&(x=x.next={eventTime:O,lane:0,tag:p.tag,payload:p.payload,callback:p.callback,next:null});e:{var C=e,v=p;switch(S=t,O=i,v.tag){case 1:if(C=v.payload,typeof C=="function"){j=C.call(O,j,S);break e}j=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=v.payload,S=typeof C=="function"?C.call(O,j,S):C,S==null)break e;j=Re({},j,S);break e;case 2:_n=!0}}p.callback!==null&&p.lane!==0&&(e.flags|=64,S=a.effects,S===null?a.effects=[p]:S.push(p))}else O={eventTime:O,lane:S,tag:p.tag,payload:p.payload,callback:p.callback,next:null},x===null?(m=x=O,f=j):x=x.next=O,d|=S;if(p=p.next,p===null){if(p=a.shared.pending,p===null)break;S=p,p=S.next,S.next=null,a.lastBaseUpdate=S,a.shared.pending=null}}while(!0);if(x===null&&(f=j),a.baseState=f,a.firstBaseUpdate=m,a.lastBaseUpdate=x,t=a.shared.interleaved,t!==null){a=t;do d|=a.lane,a=a.next;while(a!==t)}else u===null&&(a.shared.lanes=0);ni|=d,e.lanes=d,e.memoizedState=j}}function zd(e,t,i){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],a=s.callback;if(a!==null){if(s.callback=null,s=i,typeof a!="function")throw Error(Y(191,a));a.call(s)}}}var Jr={},en=Rn(Jr),Fr=Rn(Jr),Ur=Rn(Jr);function Qn(e){if(e===Jr)throw Error(Y(174));return e}function yu(e,t){switch(Le(Ur,t),Le(Fr,e),Le(en,Jr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:tl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=tl(t,e)}Ne(en),Le(en,t)}function Ui(){Ne(en),Ne(Fr),Ne(Ur)}function Mf(e){Qn(Ur.current);var t=Qn(en.current),i=tl(t,e.type);t!==i&&(Le(Fr,e),Le(en,i))}function xu(e){Fr.current===e&&(Ne(en),Ne(Fr))}var Be=Rn(0);function ps(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ba=[];function _u(){for(var e=0;e<Ba.length;e++)Ba[e]._workInProgressVersionPrimary=null;Ba.length=0}var Vo=mn.ReactCurrentDispatcher,Aa=mn.ReactCurrentBatchConfig,ti=0,Ae=null,Ve=null,Ye=null,ms=!1,br=!1,Zr=0,fy=0;function tt(){throw Error(Y(321))}function wu(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!Ht(e[i],t[i]))return!1;return!0}function Cu(e,t,i,s,a,u){if(ti=u,Ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Vo.current=e===null||e.memoizedState===null?vy:yy,e=i(s,a),br){u=0;do{if(br=!1,Zr=0,25<=u)throw Error(Y(301));u+=1,Ye=Ve=null,t.updateQueue=null,Vo.current=xy,e=i(s,a)}while(br)}if(Vo.current=gs,t=Ve!==null&&Ve.next!==null,ti=0,Ye=Ve=Ae=null,ms=!1,t)throw Error(Y(300));return e}function ju(){var e=Zr!==0;return Zr=0,e}function qt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ye===null?Ae.memoizedState=Ye=e:Ye=Ye.next=e,Ye}function Nt(){if(Ve===null){var e=Ae.alternate;e=e!==null?e.memoizedState:null}else e=Ve.next;var t=Ye===null?Ae.memoizedState:Ye.next;if(t!==null)Ye=t,Ve=e;else{if(e===null)throw Error(Y(310));Ve=e,e={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},Ye===null?Ae.memoizedState=Ye=e:Ye=Ye.next=e}return Ye}function Wr(e,t){return typeof t=="function"?t(e):t}function Ra(e){var t=Nt(),i=t.queue;if(i===null)throw Error(Y(311));i.lastRenderedReducer=e;var s=Ve,a=s.baseQueue,u=i.pending;if(u!==null){if(a!==null){var d=a.next;a.next=u.next,u.next=d}s.baseQueue=a=u,i.pending=null}if(a!==null){u=a.next,s=s.baseState;var p=d=null,f=null,m=u;do{var x=m.lane;if((ti&x)===x)f!==null&&(f=f.next={lane:0,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null}),s=m.hasEagerState?m.eagerState:e(s,m.action);else{var j={lane:x,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null};f===null?(p=f=j,d=s):f=f.next=j,Ae.lanes|=x,ni|=x}m=m.next}while(m!==null&&m!==u);f===null?d=s:f.next=p,Ht(s,t.memoizedState)||(ft=!0),t.memoizedState=s,t.baseState=d,t.baseQueue=f,i.lastRenderedState=s}if(e=i.interleaved,e!==null){a=e;do u=a.lane,Ae.lanes|=u,ni|=u,a=a.next;while(a!==e)}else a===null&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function Da(e){var t=Nt(),i=t.queue;if(i===null)throw Error(Y(311));i.lastRenderedReducer=e;var s=i.dispatch,a=i.pending,u=t.memoizedState;if(a!==null){i.pending=null;var d=a=a.next;do u=e(u,d.action),d=d.next;while(d!==a);Ht(u,t.memoizedState)||(ft=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),i.lastRenderedState=u}return[u,s]}function If(){}function Bf(e,t){var i=Ae,s=Nt(),a=t(),u=!Ht(s.memoizedState,a);if(u&&(s.memoizedState=a,ft=!0),s=s.queue,Su(Df.bind(null,i,s,e),[e]),s.getSnapshot!==t||u||Ye!==null&&Ye.memoizedState.tag&1){if(i.flags|=2048,$r(9,Rf.bind(null,i,s,a,t),void 0,null),Qe===null)throw Error(Y(349));ti&30||Af(i,t,a)}return a}function Af(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=Ae.updateQueue,t===null?(t={lastEffect:null,stores:null},Ae.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function Rf(e,t,i,s){t.value=i,t.getSnapshot=s,Ff(t)&&Uf(e)}function Df(e,t,i){return i(function(){Ff(t)&&Uf(e)})}function Ff(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!Ht(e,i)}catch{return!0}}function Uf(e){var t=fn(e,1);t!==null&&$t(t,e,1,-1)}function Md(e){var t=qt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wr,lastRenderedState:e},t.queue=e,e=e.dispatch=gy.bind(null,Ae,e),[t.memoizedState,e]}function $r(e,t,i,s){return e={tag:e,create:t,destroy:i,deps:s,next:null},t=Ae.updateQueue,t===null?(t={lastEffect:null,stores:null},Ae.updateQueue=t,t.lastEffect=e.next=e):(i=t.lastEffect,i===null?t.lastEffect=e.next=e:(s=i.next,i.next=e,e.next=s,t.lastEffect=e)),e}function Zf(){return Nt().memoizedState}function Go(e,t,i,s){var a=qt();Ae.flags|=e,a.memoizedState=$r(1|t,i,void 0,s===void 0?null:s)}function zs(e,t,i,s){var a=Nt();s=s===void 0?null:s;var u=void 0;if(Ve!==null){var d=Ve.memoizedState;if(u=d.destroy,s!==null&&wu(s,d.deps)){a.memoizedState=$r(t,i,u,s);return}}Ae.flags|=e,a.memoizedState=$r(1|t,i,u,s)}function Id(e,t){return Go(8390656,8,e,t)}function Su(e,t){return zs(2048,8,e,t)}function Wf(e,t){return zs(4,2,e,t)}function $f(e,t){return zs(4,4,e,t)}function Hf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Vf(e,t,i){return i=i!=null?i.concat([e]):null,zs(4,4,Hf.bind(null,t,e),i)}function bu(){}function Gf(e,t){var i=Nt();t=t===void 0?null:t;var s=i.memoizedState;return s!==null&&t!==null&&wu(t,s[1])?s[0]:(i.memoizedState=[e,t],e)}function Kf(e,t){var i=Nt();t=t===void 0?null:t;var s=i.memoizedState;return s!==null&&t!==null&&wu(t,s[1])?s[0]:(e=e(),i.memoizedState=[e,t],e)}function Yf(e,t,i){return ti&21?(Ht(i,t)||(i=Xh(),Ae.lanes|=i,ni|=i,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ft=!0),e.memoizedState=i)}function py(e,t){var i=Te;Te=i!==0&&4>i?i:4,e(!0);var s=Aa.transition;Aa.transition={};try{e(!1),t()}finally{Te=i,Aa.transition=s}}function Qf(){return Nt().memoizedState}function my(e,t,i){var s=Nn(e);if(i={lane:s,action:i,hasEagerState:!1,eagerState:null,next:null},qf(e))Jf(t,i);else if(i=Nf(e,t,i,s),i!==null){var a=lt();$t(i,e,s,a),Xf(i,t,s)}}function gy(e,t,i){var s=Nn(e),a={lane:s,action:i,hasEagerState:!1,eagerState:null,next:null};if(qf(e))Jf(t,a);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var d=t.lastRenderedState,p=u(d,i);if(a.hasEagerState=!0,a.eagerState=p,Ht(p,d)){var f=t.interleaved;f===null?(a.next=a,gu(t)):(a.next=f.next,f.next=a),t.interleaved=a;return}}catch{}finally{}i=Nf(e,t,a,s),i!==null&&(a=lt(),$t(i,e,s,a),Xf(i,t,s))}}function qf(e){var t=e.alternate;return e===Ae||t!==null&&t===Ae}function Jf(e,t){br=ms=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Xf(e,t,i){if(i&4194240){var s=t.lanes;s&=e.pendingLanes,i|=s,t.lanes=i,nu(e,i)}}var gs={readContext:Ot,useCallback:tt,useContext:tt,useEffect:tt,useImperativeHandle:tt,useInsertionEffect:tt,useLayoutEffect:tt,useMemo:tt,useReducer:tt,useRef:tt,useState:tt,useDebugValue:tt,useDeferredValue:tt,useTransition:tt,useMutableSource:tt,useSyncExternalStore:tt,useId:tt,unstable_isNewReconciler:!1},vy={readContext:Ot,useCallback:function(e,t){return qt().memoizedState=[e,t===void 0?null:t],e},useContext:Ot,useEffect:Id,useImperativeHandle:function(e,t,i){return i=i!=null?i.concat([e]):null,Go(4194308,4,Hf.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Go(4194308,4,e,t)},useInsertionEffect:function(e,t){return Go(4,2,e,t)},useMemo:function(e,t){var i=qt();return t=t===void 0?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var s=qt();return t=i!==void 0?i(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=my.bind(null,Ae,e),[s.memoizedState,e]},useRef:function(e){var t=qt();return e={current:e},t.memoizedState=e},useState:Md,useDebugValue:bu,useDeferredValue:function(e){return qt().memoizedState=e},useTransition:function(){var e=Md(!1),t=e[0];return e=py.bind(null,e[1]),qt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var s=Ae,a=qt();if(Me){if(i===void 0)throw Error(Y(407));i=i()}else{if(i=t(),Qe===null)throw Error(Y(349));ti&30||Af(s,t,i)}a.memoizedState=i;var u={value:i,getSnapshot:t};return a.queue=u,Id(Df.bind(null,s,u,e),[e]),s.flags|=2048,$r(9,Rf.bind(null,s,u,i,t),void 0,null),i},useId:function(){var e=qt(),t=Qe.identifierPrefix;if(Me){var i=un,s=ln;i=(s&~(1<<32-Wt(s)-1)).toString(32)+i,t=":"+t+"R"+i,i=Zr++,0<i&&(t+="H"+i.toString(32)),t+=":"}else i=fy++,t=":"+t+"r"+i.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},yy={readContext:Ot,useCallback:Gf,useContext:Ot,useEffect:Su,useImperativeHandle:Vf,useInsertionEffect:Wf,useLayoutEffect:$f,useMemo:Kf,useReducer:Ra,useRef:Zf,useState:function(){return Ra(Wr)},useDebugValue:bu,useDeferredValue:function(e){var t=Nt();return Yf(t,Ve.memoizedState,e)},useTransition:function(){var e=Ra(Wr)[0],t=Nt().memoizedState;return[e,t]},useMutableSource:If,useSyncExternalStore:Bf,useId:Qf,unstable_isNewReconciler:!1},xy={readContext:Ot,useCallback:Gf,useContext:Ot,useEffect:Su,useImperativeHandle:Vf,useInsertionEffect:Wf,useLayoutEffect:$f,useMemo:Kf,useReducer:Da,useRef:Zf,useState:function(){return Da(Wr)},useDebugValue:bu,useDeferredValue:function(e){var t=Nt();return Ve===null?t.memoizedState=e:Yf(t,Ve.memoizedState,e)},useTransition:function(){var e=Da(Wr)[0],t=Nt().memoizedState;return[e,t]},useMutableSource:If,useSyncExternalStore:Bf,useId:Qf,unstable_isNewReconciler:!1};function Dt(e,t){if(e&&e.defaultProps){t=Re({},t),e=e.defaultProps;for(var i in e)t[i]===void 0&&(t[i]=e[i]);return t}return t}function Cl(e,t,i,s){t=e.memoizedState,i=i(s,t),i=i==null?t:Re({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Ms={isMounted:function(e){return(e=e._reactInternals)?oi(e)===e:!1},enqueueSetState:function(e,t,i){e=e._reactInternals;var s=lt(),a=Nn(e),u=cn(s,a);u.payload=t,i!=null&&(u.callback=i),t=Ln(e,u,a),t!==null&&($t(t,e,a,s),Ho(t,e,a))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var s=lt(),a=Nn(e),u=cn(s,a);u.tag=1,u.payload=t,i!=null&&(u.callback=i),t=Ln(e,u,a),t!==null&&($t(t,e,a,s),Ho(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=lt(),s=Nn(e),a=cn(i,s);a.tag=2,t!=null&&(a.callback=t),t=Ln(e,a,s),t!==null&&($t(t,e,s,i),Ho(t,e,s))}};function Bd(e,t,i,s,a,u,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,u,d):t.prototype&&t.prototype.isPureReactComponent?!Br(i,s)||!Br(a,u):!0}function ep(e,t,i){var s=!1,a=Bn,u=t.contextType;return typeof u=="object"&&u!==null?u=Ot(u):(a=mt(t)?Xn:rt.current,s=t.contextTypes,u=(s=s!=null)?Ri(e,a):Bn),t=new t(i,u),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ms,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=u),t}function Ad(e,t,i,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,s),t.state!==e&&Ms.enqueueReplaceState(t,t.state,null)}function jl(e,t,i,s){var a=e.stateNode;a.props=i,a.state=e.memoizedState,a.refs={},vu(e);var u=t.contextType;typeof u=="object"&&u!==null?a.context=Ot(u):(u=mt(t)?Xn:rt.current,a.context=Ri(e,u)),a.state=e.memoizedState,u=t.getDerivedStateFromProps,typeof u=="function"&&(Cl(e,t,u,i),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Ms.enqueueReplaceState(a,a.state,null),fs(e,i,a,s),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Zi(e,t){try{var i="",s=t;do i+=Gg(s),s=s.return;while(s);var a=i}catch(u){a=`
Error generating stack: `+u.message+`
`+u.stack}return{value:e,source:t,stack:a,digest:null}}function Fa(e,t,i){return{value:e,source:null,stack:i??null,digest:t??null}}function Sl(e,t){try{console.error(t.value)}catch(i){setTimeout(function(){throw i})}}var _y=typeof WeakMap=="function"?WeakMap:Map;function tp(e,t,i){i=cn(-1,i),i.tag=3,i.payload={element:null};var s=t.value;return i.callback=function(){ys||(ys=!0,Ml=s),Sl(e,t)},i}function np(e,t,i){i=cn(-1,i),i.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var a=t.value;i.payload=function(){return s(a)},i.callback=function(){Sl(e,t)}}var u=e.stateNode;return u!==null&&typeof u.componentDidCatch=="function"&&(i.callback=function(){Sl(e,t),typeof s!="function"&&(On===null?On=new Set([this]):On.add(this));var d=t.stack;this.componentDidCatch(t.value,{componentStack:d!==null?d:""})}),i}function Rd(e,t,i){var s=e.pingCache;if(s===null){s=e.pingCache=new _y;var a=new Set;s.set(t,a)}else a=s.get(t),a===void 0&&(a=new Set,s.set(t,a));a.has(i)||(a.add(i),e=My.bind(null,e,t,i),t.then(e,e))}function Dd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Fd(e,t,i,s,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(t=cn(-1,1),t.tag=2,Ln(i,t,1))),i.lanes|=1),e)}var wy=mn.ReactCurrentOwner,ft=!1;function at(e,t,i,s){t.child=e===null?Of(t,null,i,s):Fi(t,e.child,i,s)}function Ud(e,t,i,s,a){i=i.render;var u=t.ref;return Ii(t,a),s=Cu(e,t,i,s,u,a),i=ju(),e!==null&&!ft?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,pn(e,t,a)):(Me&&i&&cu(t),t.flags|=1,at(e,t,s,a),t.child)}function Zd(e,t,i,s,a){if(e===null){var u=i.type;return typeof u=="function"&&!zu(u)&&u.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(t.tag=15,t.type=u,ip(e,t,u,s,a)):(e=qo(i.type,null,s,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!(e.lanes&a)){var d=u.memoizedProps;if(i=i.compare,i=i!==null?i:Br,i(d,s)&&e.ref===t.ref)return pn(e,t,a)}return t.flags|=1,e=zn(u,s),e.ref=t.ref,e.return=t,t.child=e}function ip(e,t,i,s,a){if(e!==null){var u=e.memoizedProps;if(Br(u,s)&&e.ref===t.ref)if(ft=!1,t.pendingProps=s=u,(e.lanes&a)!==0)e.flags&131072&&(ft=!0);else return t.lanes=e.lanes,pn(e,t,a)}return bl(e,t,i,s,a)}function rp(e,t,i){var s=t.pendingProps,a=s.children,u=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(Li,yt),yt|=i;else{if(!(i&1073741824))return e=u!==null?u.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Le(Li,yt),yt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=u!==null?u.baseLanes:i,Le(Li,yt),yt|=s}else u!==null?(s=u.baseLanes|i,t.memoizedState=null):s=i,Le(Li,yt),yt|=s;return at(e,t,a,i),t.child}function op(e,t){var i=t.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function bl(e,t,i,s,a){var u=mt(i)?Xn:rt.current;return u=Ri(t,u),Ii(t,a),i=Cu(e,t,i,s,u,a),s=ju(),e!==null&&!ft?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,pn(e,t,a)):(Me&&s&&cu(t),t.flags|=1,at(e,t,i,a),t.child)}function Wd(e,t,i,s,a){if(mt(i)){var u=!0;ls(t)}else u=!1;if(Ii(t,a),t.stateNode===null)Ko(e,t),ep(t,i,s),jl(t,i,s,a),s=!0;else if(e===null){var d=t.stateNode,p=t.memoizedProps;d.props=p;var f=d.context,m=i.contextType;typeof m=="object"&&m!==null?m=Ot(m):(m=mt(i)?Xn:rt.current,m=Ri(t,m));var x=i.getDerivedStateFromProps,j=typeof x=="function"||typeof d.getSnapshotBeforeUpdate=="function";j||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(p!==s||f!==m)&&Ad(t,d,s,m),_n=!1;var S=t.memoizedState;d.state=S,fs(t,s,d,a),f=t.memoizedState,p!==s||S!==f||pt.current||_n?(typeof x=="function"&&(Cl(t,i,x,s),f=t.memoizedState),(p=_n||Bd(t,i,p,s,S,f,m))?(j||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=f),d.props=s,d.state=f,d.context=m,s=p):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{d=t.stateNode,zf(e,t),p=t.memoizedProps,m=t.type===t.elementType?p:Dt(t.type,p),d.props=m,j=t.pendingProps,S=d.context,f=i.contextType,typeof f=="object"&&f!==null?f=Ot(f):(f=mt(i)?Xn:rt.current,f=Ri(t,f));var O=i.getDerivedStateFromProps;(x=typeof O=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(p!==j||S!==f)&&Ad(t,d,s,f),_n=!1,S=t.memoizedState,d.state=S,fs(t,s,d,a);var C=t.memoizedState;p!==j||S!==C||pt.current||_n?(typeof O=="function"&&(Cl(t,i,O,s),C=t.memoizedState),(m=_n||Bd(t,i,m,s,S,C,f)||!1)?(x||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(s,C,f),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(s,C,f)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||p===e.memoizedProps&&S===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&S===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=C),d.props=s,d.state=C,d.context=f,s=m):(typeof d.componentDidUpdate!="function"||p===e.memoizedProps&&S===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&S===e.memoizedState||(t.flags|=1024),s=!1)}return kl(e,t,i,s,u,a)}function kl(e,t,i,s,a,u){op(e,t);var d=(t.flags&128)!==0;if(!s&&!d)return a&&Td(t,i,!1),pn(e,t,u);s=t.stateNode,wy.current=t;var p=d&&typeof i.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&d?(t.child=Fi(t,e.child,null,u),t.child=Fi(t,null,p,u)):at(e,t,p,u),t.memoizedState=s.state,a&&Td(t,i,!0),t.child}function sp(e){var t=e.stateNode;t.pendingContext?Pd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Pd(e,t.context,!1),yu(e,t.containerInfo)}function $d(e,t,i,s,a){return Di(),hu(a),t.flags|=256,at(e,t,i,s),t.child}var Pl={dehydrated:null,treeContext:null,retryLane:0};function Tl(e){return{baseLanes:e,cachePool:null,transitions:null}}function ap(e,t,i){var s=t.pendingProps,a=Be.current,u=!1,d=(t.flags&128)!==0,p;if((p=d)||(p=e!==null&&e.memoizedState===null?!1:(a&2)!==0),p?(u=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Le(Be,a&1),e===null)return _l(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(d=s.children,e=s.fallback,u?(s=t.mode,u=t.child,d={mode:"hidden",children:d},!(s&1)&&u!==null?(u.childLanes=0,u.pendingProps=d):u=As(d,s,0,null),e=Jn(e,s,i,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Tl(i),t.memoizedState=Pl,e):ku(t,d));if(a=e.memoizedState,a!==null&&(p=a.dehydrated,p!==null))return Cy(e,t,d,s,p,a,i);if(u){u=s.fallback,d=t.mode,a=e.child,p=a.sibling;var f={mode:"hidden",children:s.children};return!(d&1)&&t.child!==a?(s=t.child,s.childLanes=0,s.pendingProps=f,t.deletions=null):(s=zn(a,f),s.subtreeFlags=a.subtreeFlags&14680064),p!==null?u=zn(p,u):(u=Jn(u,d,i,null),u.flags|=2),u.return=t,s.return=t,s.sibling=u,t.child=s,s=u,u=t.child,d=e.child.memoizedState,d=d===null?Tl(i):{baseLanes:d.baseLanes|i,cachePool:null,transitions:d.transitions},u.memoizedState=d,u.childLanes=e.childLanes&~i,t.memoizedState=Pl,s}return u=e.child,e=u.sibling,s=zn(u,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=i),s.return=t,s.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=s,t.memoizedState=null,s}function ku(e,t){return t=As({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Bo(e,t,i,s){return s!==null&&hu(s),Fi(t,e.child,null,i),e=ku(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Cy(e,t,i,s,a,u,d){if(i)return t.flags&256?(t.flags&=-257,s=Fa(Error(Y(422))),Bo(e,t,d,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(u=s.fallback,a=t.mode,s=As({mode:"visible",children:s.children},a,0,null),u=Jn(u,a,d,null),u.flags|=2,s.return=t,u.return=t,s.sibling=u,t.child=s,t.mode&1&&Fi(t,e.child,null,d),t.child.memoizedState=Tl(d),t.memoizedState=Pl,u);if(!(t.mode&1))return Bo(e,t,d,null);if(a.data==="$!"){if(s=a.nextSibling&&a.nextSibling.dataset,s)var p=s.dgst;return s=p,u=Error(Y(419)),s=Fa(u,s,void 0),Bo(e,t,d,s)}if(p=(d&e.childLanes)!==0,ft||p){if(s=Qe,s!==null){switch(d&-d){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(s.suspendedLanes|d)?0:a,a!==0&&a!==u.retryLane&&(u.retryLane=a,fn(e,a),$t(s,e,a,-1))}return Nu(),s=Fa(Error(Y(421))),Bo(e,t,d,s)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=Iy.bind(null,e),a._reactRetry=t,null):(e=u.treeContext,xt=En(a.nextSibling),_t=t,Me=!0,Ut=null,e!==null&&(Pt[Tt++]=ln,Pt[Tt++]=un,Pt[Tt++]=ei,ln=e.id,un=e.overflow,ei=t),t=ku(t,s.children),t.flags|=4096,t)}function Hd(e,t,i){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),wl(e.return,t,i)}function Ua(e,t,i,s,a){var u=e.memoizedState;u===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:i,tailMode:a}:(u.isBackwards=t,u.rendering=null,u.renderingStartTime=0,u.last=s,u.tail=i,u.tailMode=a)}function lp(e,t,i){var s=t.pendingProps,a=s.revealOrder,u=s.tail;if(at(e,t,s.children,i),s=Be.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Hd(e,i,t);else if(e.tag===19)Hd(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Le(Be,s),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(i=t.child,a=null;i!==null;)e=i.alternate,e!==null&&ps(e)===null&&(a=i),i=i.sibling;i=a,i===null?(a=t.child,t.child=null):(a=i.sibling,i.sibling=null),Ua(t,!1,a,i,u);break;case"backwards":for(i=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&ps(e)===null){t.child=a;break}e=a.sibling,a.sibling=i,i=a,a=e}Ua(t,!0,i,null,u);break;case"together":Ua(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ko(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function pn(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),ni|=t.lanes,!(i&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Y(153));if(t.child!==null){for(e=t.child,i=zn(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=zn(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function jy(e,t,i){switch(t.tag){case 3:sp(t),Di();break;case 5:Mf(t);break;case 1:mt(t.type)&&ls(t);break;case 4:yu(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,a=t.memoizedProps.value;Le(ds,s._currentValue),s._currentValue=a;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(Le(Be,Be.current&1),t.flags|=128,null):i&t.child.childLanes?ap(e,t,i):(Le(Be,Be.current&1),e=pn(e,t,i),e!==null?e.sibling:null);Le(Be,Be.current&1);break;case 19:if(s=(i&t.childLanes)!==0,e.flags&128){if(s)return lp(e,t,i);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Le(Be,Be.current),s)break;return null;case 22:case 23:return t.lanes=0,rp(e,t,i)}return pn(e,t,i)}var up,El,cp,dp;up=function(e,t){for(var i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};El=function(){};cp=function(e,t,i,s){var a=e.memoizedProps;if(a!==s){e=t.stateNode,Qn(en.current);var u=null;switch(i){case"input":a=qa(e,a),s=qa(e,s),u=[];break;case"select":a=Re({},a,{value:void 0}),s=Re({},s,{value:void 0}),u=[];break;case"textarea":a=el(e,a),s=el(e,s),u=[];break;default:typeof a.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=ss)}nl(i,s);var d;i=null;for(m in a)if(!s.hasOwnProperty(m)&&a.hasOwnProperty(m)&&a[m]!=null)if(m==="style"){var p=a[m];for(d in p)p.hasOwnProperty(d)&&(i||(i={}),i[d]="")}else m!=="dangerouslySetInnerHTML"&&m!=="children"&&m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(Er.hasOwnProperty(m)?u||(u=[]):(u=u||[]).push(m,null));for(m in s){var f=s[m];if(p=a!=null?a[m]:void 0,s.hasOwnProperty(m)&&f!==p&&(f!=null||p!=null))if(m==="style")if(p){for(d in p)!p.hasOwnProperty(d)||f&&f.hasOwnProperty(d)||(i||(i={}),i[d]="");for(d in f)f.hasOwnProperty(d)&&p[d]!==f[d]&&(i||(i={}),i[d]=f[d])}else i||(u||(u=[]),u.push(m,i)),i=f;else m==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,p=p?p.__html:void 0,f!=null&&p!==f&&(u=u||[]).push(m,f)):m==="children"?typeof f!="string"&&typeof f!="number"||(u=u||[]).push(m,""+f):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&(Er.hasOwnProperty(m)?(f!=null&&m==="onScroll"&&Oe("scroll",e),u||p===f||(u=[])):(u=u||[]).push(m,f))}i&&(u=u||[]).push("style",i);var m=u;(t.updateQueue=m)&&(t.flags|=4)}};dp=function(e,t,i,s){i!==s&&(t.flags|=4)};function pr(e,t){if(!Me)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function nt(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,s=0;if(t)for(var a=e.child;a!==null;)i|=a.lanes|a.childLanes,s|=a.subtreeFlags&14680064,s|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)i|=a.lanes|a.childLanes,s|=a.subtreeFlags,s|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=s,e.childLanes=i,t}function Sy(e,t,i){var s=t.pendingProps;switch(du(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(t),null;case 1:return mt(t.type)&&as(),nt(t),null;case 3:return s=t.stateNode,Ui(),Ne(pt),Ne(rt),_u(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Mo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ut!==null&&(Al(Ut),Ut=null))),El(e,t),nt(t),null;case 5:xu(t);var a=Qn(Ur.current);if(i=t.type,e!==null&&t.stateNode!=null)cp(e,t,i,s,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(Y(166));return nt(t),null}if(e=Qn(en.current),Mo(t)){s=t.stateNode,i=t.type;var u=t.memoizedProps;switch(s[Jt]=t,s[Dr]=u,e=(t.mode&1)!==0,i){case"dialog":Oe("cancel",s),Oe("close",s);break;case"iframe":case"object":case"embed":Oe("load",s);break;case"video":case"audio":for(a=0;a<xr.length;a++)Oe(xr[a],s);break;case"source":Oe("error",s);break;case"img":case"image":case"link":Oe("error",s),Oe("load",s);break;case"details":Oe("toggle",s);break;case"input":ed(s,u),Oe("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!u.multiple},Oe("invalid",s);break;case"textarea":nd(s,u),Oe("invalid",s)}nl(i,u),a=null;for(var d in u)if(u.hasOwnProperty(d)){var p=u[d];d==="children"?typeof p=="string"?s.textContent!==p&&(u.suppressHydrationWarning!==!0&&zo(s.textContent,p,e),a=["children",p]):typeof p=="number"&&s.textContent!==""+p&&(u.suppressHydrationWarning!==!0&&zo(s.textContent,p,e),a=["children",""+p]):Er.hasOwnProperty(d)&&p!=null&&d==="onScroll"&&Oe("scroll",s)}switch(i){case"input":bo(s),td(s,u,!0);break;case"textarea":bo(s),id(s);break;case"select":case"option":break;default:typeof u.onClick=="function"&&(s.onclick=ss)}s=a,t.updateQueue=s,s!==null&&(t.flags|=4)}else{d=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Rh(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=d.createElement(i,{is:s.is}):(e=d.createElement(i),i==="select"&&(d=e,s.multiple?d.multiple=!0:s.size&&(d.size=s.size))):e=d.createElementNS(e,i),e[Jt]=t,e[Dr]=s,up(e,t,!1,!1),t.stateNode=e;e:{switch(d=il(i,s),i){case"dialog":Oe("cancel",e),Oe("close",e),a=s;break;case"iframe":case"object":case"embed":Oe("load",e),a=s;break;case"video":case"audio":for(a=0;a<xr.length;a++)Oe(xr[a],e);a=s;break;case"source":Oe("error",e),a=s;break;case"img":case"image":case"link":Oe("error",e),Oe("load",e),a=s;break;case"details":Oe("toggle",e),a=s;break;case"input":ed(e,s),a=qa(e,s),Oe("invalid",e);break;case"option":a=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},a=Re({},s,{value:void 0}),Oe("invalid",e);break;case"textarea":nd(e,s),a=el(e,s),Oe("invalid",e);break;default:a=s}nl(i,a),p=a;for(u in p)if(p.hasOwnProperty(u)){var f=p[u];u==="style"?Uh(e,f):u==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,f!=null&&Dh(e,f)):u==="children"?typeof f=="string"?(i!=="textarea"||f!=="")&&Lr(e,f):typeof f=="number"&&Lr(e,""+f):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Er.hasOwnProperty(u)?f!=null&&u==="onScroll"&&Oe("scroll",e):f!=null&&Ql(e,u,f,d))}switch(i){case"input":bo(e),td(e,s,!1);break;case"textarea":bo(e),id(e);break;case"option":s.value!=null&&e.setAttribute("value",""+In(s.value));break;case"select":e.multiple=!!s.multiple,u=s.value,u!=null?Oi(e,!!s.multiple,u,!1):s.defaultValue!=null&&Oi(e,!!s.multiple,s.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=ss)}switch(i){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return nt(t),null;case 6:if(e&&t.stateNode!=null)dp(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(Y(166));if(i=Qn(Ur.current),Qn(en.current),Mo(t)){if(s=t.stateNode,i=t.memoizedProps,s[Jt]=t,(u=s.nodeValue!==i)&&(e=_t,e!==null))switch(e.tag){case 3:zo(s.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&zo(s.nodeValue,i,(e.mode&1)!==0)}u&&(t.flags|=4)}else s=(i.nodeType===9?i:i.ownerDocument).createTextNode(s),s[Jt]=t,t.stateNode=s}return nt(t),null;case 13:if(Ne(Be),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Me&&xt!==null&&t.mode&1&&!(t.flags&128))Ef(),Di(),t.flags|=98560,u=!1;else if(u=Mo(t),s!==null&&s.dehydrated!==null){if(e===null){if(!u)throw Error(Y(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(Y(317));u[Jt]=t}else Di(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;nt(t),u=!1}else Ut!==null&&(Al(Ut),Ut=null),u=!0;if(!u)return t.flags&65536?t:null}return t.flags&128?(t.lanes=i,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||Be.current&1?Ge===0&&(Ge=3):Nu())),t.updateQueue!==null&&(t.flags|=4),nt(t),null);case 4:return Ui(),El(e,t),e===null&&Ar(t.stateNode.containerInfo),nt(t),null;case 10:return mu(t.type._context),nt(t),null;case 17:return mt(t.type)&&as(),nt(t),null;case 19:if(Ne(Be),u=t.memoizedState,u===null)return nt(t),null;if(s=(t.flags&128)!==0,d=u.rendering,d===null)if(s)pr(u,!1);else{if(Ge!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(d=ps(e),d!==null){for(t.flags|=128,pr(u,!1),s=d.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=i,i=t.child;i!==null;)u=i,e=s,u.flags&=14680066,d=u.alternate,d===null?(u.childLanes=0,u.lanes=e,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=d.childLanes,u.lanes=d.lanes,u.child=d.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=d.memoizedProps,u.memoizedState=d.memoizedState,u.updateQueue=d.updateQueue,u.type=d.type,e=d.dependencies,u.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return Le(Be,Be.current&1|2),t.child}e=e.sibling}u.tail!==null&&Ue()>Wi&&(t.flags|=128,s=!0,pr(u,!1),t.lanes=4194304)}else{if(!s)if(e=ps(d),e!==null){if(t.flags|=128,s=!0,i=e.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),pr(u,!0),u.tail===null&&u.tailMode==="hidden"&&!d.alternate&&!Me)return nt(t),null}else 2*Ue()-u.renderingStartTime>Wi&&i!==1073741824&&(t.flags|=128,s=!0,pr(u,!1),t.lanes=4194304);u.isBackwards?(d.sibling=t.child,t.child=d):(i=u.last,i!==null?i.sibling=d:t.child=d,u.last=d)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=Ue(),t.sibling=null,i=Be.current,Le(Be,s?i&1|2:i&1),t):(nt(t),null);case 22:case 23:return Ou(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?yt&1073741824&&(nt(t),t.subtreeFlags&6&&(t.flags|=8192)):nt(t),null;case 24:return null;case 25:return null}throw Error(Y(156,t.tag))}function by(e,t){switch(du(t),t.tag){case 1:return mt(t.type)&&as(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ui(),Ne(pt),Ne(rt),_u(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return xu(t),null;case 13:if(Ne(Be),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Y(340));Di()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ne(Be),null;case 4:return Ui(),null;case 10:return mu(t.type._context),null;case 22:case 23:return Ou(),null;case 24:return null;default:return null}}var Ao=!1,it=!1,ky=typeof WeakSet=="function"?WeakSet:Set,le=null;function Ei(e,t){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(s){De(e,t,s)}else i.current=null}function Ll(e,t,i){try{i()}catch(s){De(e,t,s)}}var Vd=!1;function Py(e,t){if(fl=is,e=gf(),uu(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var s=i.getSelection&&i.getSelection();if(s&&s.rangeCount!==0){i=s.anchorNode;var a=s.anchorOffset,u=s.focusNode;s=s.focusOffset;try{i.nodeType,u.nodeType}catch{i=null;break e}var d=0,p=-1,f=-1,m=0,x=0,j=e,S=null;t:for(;;){for(var O;j!==i||a!==0&&j.nodeType!==3||(p=d+a),j!==u||s!==0&&j.nodeType!==3||(f=d+s),j.nodeType===3&&(d+=j.nodeValue.length),(O=j.firstChild)!==null;)S=j,j=O;for(;;){if(j===e)break t;if(S===i&&++m===a&&(p=d),S===u&&++x===s&&(f=d),(O=j.nextSibling)!==null)break;j=S,S=j.parentNode}j=O}i=p===-1||f===-1?null:{start:p,end:f}}else i=null}i=i||{start:0,end:0}}else i=null;for(pl={focusedElem:e,selectionRange:i},is=!1,le=t;le!==null;)if(t=le,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,le=e;else for(;le!==null;){t=le;try{var C=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var v=C.memoizedProps,E=C.memoizedState,y=t.stateNode,_=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:Dt(t.type,v),E);y.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Y(163))}}catch(I){De(t,t.return,I)}if(e=t.sibling,e!==null){e.return=t.return,le=e;break}le=t.return}return C=Vd,Vd=!1,C}function kr(e,t,i){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&e)===e){var u=a.destroy;a.destroy=void 0,u!==void 0&&Ll(t,i,u)}a=a.next}while(a!==s)}}function Is(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var i=t=t.next;do{if((i.tag&e)===e){var s=i.create;i.destroy=s()}i=i.next}while(i!==t)}}function Ol(e){var t=e.ref;if(t!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof t=="function"?t(e):t.current=e}}function hp(e){var t=e.alternate;t!==null&&(e.alternate=null,hp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Jt],delete t[Dr],delete t[vl],delete t[uy],delete t[cy])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function fp(e){return e.tag===5||e.tag===3||e.tag===4}function Gd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||fp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Nl(e,t,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?i.nodeType===8?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(i.nodeType===8?(t=i.parentNode,t.insertBefore(e,i)):(t=i,t.appendChild(e)),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=ss));else if(s!==4&&(e=e.child,e!==null))for(Nl(e,t,i),e=e.sibling;e!==null;)Nl(e,t,i),e=e.sibling}function zl(e,t,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(zl(e,t,i),e=e.sibling;e!==null;)zl(e,t,i),e=e.sibling}var Je=null,Ft=!1;function yn(e,t,i){for(i=i.child;i!==null;)pp(e,t,i),i=i.sibling}function pp(e,t,i){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(Ps,i)}catch{}switch(i.tag){case 5:it||Ei(i,t);case 6:var s=Je,a=Ft;Je=null,yn(e,t,i),Je=s,Ft=a,Je!==null&&(Ft?(e=Je,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):Je.removeChild(i.stateNode));break;case 18:Je!==null&&(Ft?(e=Je,i=i.stateNode,e.nodeType===8?Ma(e.parentNode,i):e.nodeType===1&&Ma(e,i),Mr(e)):Ma(Je,i.stateNode));break;case 4:s=Je,a=Ft,Je=i.stateNode.containerInfo,Ft=!0,yn(e,t,i),Je=s,Ft=a;break;case 0:case 11:case 14:case 15:if(!it&&(s=i.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){a=s=s.next;do{var u=a,d=u.destroy;u=u.tag,d!==void 0&&(u&2||u&4)&&Ll(i,t,d),a=a.next}while(a!==s)}yn(e,t,i);break;case 1:if(!it&&(Ei(i,t),s=i.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=i.memoizedProps,s.state=i.memoizedState,s.componentWillUnmount()}catch(p){De(i,t,p)}yn(e,t,i);break;case 21:yn(e,t,i);break;case 22:i.mode&1?(it=(s=it)||i.memoizedState!==null,yn(e,t,i),it=s):yn(e,t,i);break;default:yn(e,t,i)}}function Kd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new ky),t.forEach(function(s){var a=By.bind(null,e,s);i.has(s)||(i.add(s),s.then(a,a))})}}function At(e,t){var i=t.deletions;if(i!==null)for(var s=0;s<i.length;s++){var a=i[s];try{var u=e,d=t,p=d;e:for(;p!==null;){switch(p.tag){case 5:Je=p.stateNode,Ft=!1;break e;case 3:Je=p.stateNode.containerInfo,Ft=!0;break e;case 4:Je=p.stateNode.containerInfo,Ft=!0;break e}p=p.return}if(Je===null)throw Error(Y(160));pp(u,d,a),Je=null,Ft=!1;var f=a.alternate;f!==null&&(f.return=null),a.return=null}catch(m){De(a,t,m)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)mp(t,e),t=t.sibling}function mp(e,t){var i=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(At(t,e),Qt(e),s&4){try{kr(3,e,e.return),Is(3,e)}catch(v){De(e,e.return,v)}try{kr(5,e,e.return)}catch(v){De(e,e.return,v)}}break;case 1:At(t,e),Qt(e),s&512&&i!==null&&Ei(i,i.return);break;case 5:if(At(t,e),Qt(e),s&512&&i!==null&&Ei(i,i.return),e.flags&32){var a=e.stateNode;try{Lr(a,"")}catch(v){De(e,e.return,v)}}if(s&4&&(a=e.stateNode,a!=null)){var u=e.memoizedProps,d=i!==null?i.memoizedProps:u,p=e.type,f=e.updateQueue;if(e.updateQueue=null,f!==null)try{p==="input"&&u.type==="radio"&&u.name!=null&&Bh(a,u),il(p,d);var m=il(p,u);for(d=0;d<f.length;d+=2){var x=f[d],j=f[d+1];x==="style"?Uh(a,j):x==="dangerouslySetInnerHTML"?Dh(a,j):x==="children"?Lr(a,j):Ql(a,x,j,m)}switch(p){case"input":Ja(a,u);break;case"textarea":Ah(a,u);break;case"select":var S=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!u.multiple;var O=u.value;O!=null?Oi(a,!!u.multiple,O,!1):S!==!!u.multiple&&(u.defaultValue!=null?Oi(a,!!u.multiple,u.defaultValue,!0):Oi(a,!!u.multiple,u.multiple?[]:"",!1))}a[Dr]=u}catch(v){De(e,e.return,v)}}break;case 6:if(At(t,e),Qt(e),s&4){if(e.stateNode===null)throw Error(Y(162));a=e.stateNode,u=e.memoizedProps;try{a.nodeValue=u}catch(v){De(e,e.return,v)}}break;case 3:if(At(t,e),Qt(e),s&4&&i!==null&&i.memoizedState.isDehydrated)try{Mr(t.containerInfo)}catch(v){De(e,e.return,v)}break;case 4:At(t,e),Qt(e);break;case 13:At(t,e),Qt(e),a=e.child,a.flags&8192&&(u=a.memoizedState!==null,a.stateNode.isHidden=u,!u||a.alternate!==null&&a.alternate.memoizedState!==null||(Eu=Ue())),s&4&&Kd(e);break;case 22:if(x=i!==null&&i.memoizedState!==null,e.mode&1?(it=(m=it)||x,At(t,e),it=m):At(t,e),Qt(e),s&8192){if(m=e.memoizedState!==null,(e.stateNode.isHidden=m)&&!x&&e.mode&1)for(le=e,x=e.child;x!==null;){for(j=le=x;le!==null;){switch(S=le,O=S.child,S.tag){case 0:case 11:case 14:case 15:kr(4,S,S.return);break;case 1:Ei(S,S.return);var C=S.stateNode;if(typeof C.componentWillUnmount=="function"){s=S,i=S.return;try{t=s,C.props=t.memoizedProps,C.state=t.memoizedState,C.componentWillUnmount()}catch(v){De(s,i,v)}}break;case 5:Ei(S,S.return);break;case 22:if(S.memoizedState!==null){Qd(j);continue}}O!==null?(O.return=S,le=O):Qd(j)}x=x.sibling}e:for(x=null,j=e;;){if(j.tag===5){if(x===null){x=j;try{a=j.stateNode,m?(u=a.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none"):(p=j.stateNode,f=j.memoizedProps.style,d=f!=null&&f.hasOwnProperty("display")?f.display:null,p.style.display=Fh("display",d))}catch(v){De(e,e.return,v)}}}else if(j.tag===6){if(x===null)try{j.stateNode.nodeValue=m?"":j.memoizedProps}catch(v){De(e,e.return,v)}}else if((j.tag!==22&&j.tag!==23||j.memoizedState===null||j===e)&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===e)break e;for(;j.sibling===null;){if(j.return===null||j.return===e)break e;x===j&&(x=null),j=j.return}x===j&&(x=null),j.sibling.return=j.return,j=j.sibling}}break;case 19:At(t,e),Qt(e),s&4&&Kd(e);break;case 21:break;default:At(t,e),Qt(e)}}function Qt(e){var t=e.flags;if(t&2){try{e:{for(var i=e.return;i!==null;){if(fp(i)){var s=i;break e}i=i.return}throw Error(Y(160))}switch(s.tag){case 5:var a=s.stateNode;s.flags&32&&(Lr(a,""),s.flags&=-33);var u=Gd(e);zl(e,u,a);break;case 3:case 4:var d=s.stateNode.containerInfo,p=Gd(e);Nl(e,p,d);break;default:throw Error(Y(161))}}catch(f){De(e,e.return,f)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Ty(e,t,i){le=e,gp(e)}function gp(e,t,i){for(var s=(e.mode&1)!==0;le!==null;){var a=le,u=a.child;if(a.tag===22&&s){var d=a.memoizedState!==null||Ao;if(!d){var p=a.alternate,f=p!==null&&p.memoizedState!==null||it;p=Ao;var m=it;if(Ao=d,(it=f)&&!m)for(le=a;le!==null;)d=le,f=d.child,d.tag===22&&d.memoizedState!==null?qd(a):f!==null?(f.return=d,le=f):qd(a);for(;u!==null;)le=u,gp(u),u=u.sibling;le=a,Ao=p,it=m}Yd(e)}else a.subtreeFlags&8772&&u!==null?(u.return=a,le=u):Yd(e)}}function Yd(e){for(;le!==null;){var t=le;if(t.flags&8772){var i=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:it||Is(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!it)if(i===null)s.componentDidMount();else{var a=t.elementType===t.type?i.memoizedProps:Dt(t.type,i.memoizedProps);s.componentDidUpdate(a,i.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var u=t.updateQueue;u!==null&&zd(t,u,s);break;case 3:var d=t.updateQueue;if(d!==null){if(i=null,t.child!==null)switch(t.child.tag){case 5:i=t.child.stateNode;break;case 1:i=t.child.stateNode}zd(t,d,i)}break;case 5:var p=t.stateNode;if(i===null&&t.flags&4){i=p;var f=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":f.autoFocus&&i.focus();break;case"img":f.src&&(i.src=f.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var m=t.alternate;if(m!==null){var x=m.memoizedState;if(x!==null){var j=x.dehydrated;j!==null&&Mr(j)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Y(163))}it||t.flags&512&&Ol(t)}catch(S){De(t,t.return,S)}}if(t===e){le=null;break}if(i=t.sibling,i!==null){i.return=t.return,le=i;break}le=t.return}}function Qd(e){for(;le!==null;){var t=le;if(t===e){le=null;break}var i=t.sibling;if(i!==null){i.return=t.return,le=i;break}le=t.return}}function qd(e){for(;le!==null;){var t=le;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{Is(4,t)}catch(f){De(t,i,f)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var a=t.return;try{s.componentDidMount()}catch(f){De(t,a,f)}}var u=t.return;try{Ol(t)}catch(f){De(t,u,f)}break;case 5:var d=t.return;try{Ol(t)}catch(f){De(t,d,f)}}}catch(f){De(t,t.return,f)}if(t===e){le=null;break}var p=t.sibling;if(p!==null){p.return=t.return,le=p;break}le=t.return}}var Ey=Math.ceil,vs=mn.ReactCurrentDispatcher,Pu=mn.ReactCurrentOwner,Lt=mn.ReactCurrentBatchConfig,be=0,Qe=null,$e=null,Xe=0,yt=0,Li=Rn(0),Ge=0,Hr=null,ni=0,Bs=0,Tu=0,Pr=null,ht=null,Eu=0,Wi=1/0,sn=null,ys=!1,Ml=null,On=null,Ro=!1,Sn=null,xs=0,Tr=0,Il=null,Yo=-1,Qo=0;function lt(){return be&6?Ue():Yo!==-1?Yo:Yo=Ue()}function Nn(e){return e.mode&1?be&2&&Xe!==0?Xe&-Xe:hy.transition!==null?(Qo===0&&(Qo=Xh()),Qo):(e=Te,e!==0||(e=window.event,e=e===void 0?16:af(e.type)),e):1}function $t(e,t,i,s){if(50<Tr)throw Tr=0,Il=null,Error(Y(185));Yr(e,i,s),(!(be&2)||e!==Qe)&&(e===Qe&&(!(be&2)&&(Bs|=i),Ge===4&&Cn(e,Xe)),gt(e,s),i===1&&be===0&&!(t.mode&1)&&(Wi=Ue()+500,Ns&&Dn()))}function gt(e,t){var i=e.callbackNode;hv(e,t);var s=ns(e,e===Qe?Xe:0);if(s===0)i!==null&&sd(i),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(i!=null&&sd(i),t===1)e.tag===0?dy(Jd.bind(null,e)):kf(Jd.bind(null,e)),ay(function(){!(be&6)&&Dn()}),i=null;else{switch(ef(s)){case 1:i=tu;break;case 4:i=qh;break;case 16:i=ts;break;case 536870912:i=Jh;break;default:i=ts}i=Sp(i,vp.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function vp(e,t){if(Yo=-1,Qo=0,be&6)throw Error(Y(327));var i=e.callbackNode;if(Bi()&&e.callbackNode!==i)return null;var s=ns(e,e===Qe?Xe:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=_s(e,s);else{t=s;var a=be;be|=2;var u=xp();(Qe!==e||Xe!==t)&&(sn=null,Wi=Ue()+500,qn(e,t));do try{Ny();break}catch(p){yp(e,p)}while(!0);pu(),vs.current=u,be=a,$e!==null?t=0:(Qe=null,Xe=0,t=Ge)}if(t!==0){if(t===2&&(a=ll(e),a!==0&&(s=a,t=Bl(e,a))),t===1)throw i=Hr,qn(e,0),Cn(e,s),gt(e,Ue()),i;if(t===6)Cn(e,s);else{if(a=e.current.alternate,!(s&30)&&!Ly(a)&&(t=_s(e,s),t===2&&(u=ll(e),u!==0&&(s=u,t=Bl(e,u))),t===1))throw i=Hr,qn(e,0),Cn(e,s),gt(e,Ue()),i;switch(e.finishedWork=a,e.finishedLanes=s,t){case 0:case 1:throw Error(Y(345));case 2:Gn(e,ht,sn);break;case 3:if(Cn(e,s),(s&130023424)===s&&(t=Eu+500-Ue(),10<t)){if(ns(e,0)!==0)break;if(a=e.suspendedLanes,(a&s)!==s){lt(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=gl(Gn.bind(null,e,ht,sn),t);break}Gn(e,ht,sn);break;case 4:if(Cn(e,s),(s&4194240)===s)break;for(t=e.eventTimes,a=-1;0<s;){var d=31-Wt(s);u=1<<d,d=t[d],d>a&&(a=d),s&=~u}if(s=a,s=Ue()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Ey(s/1960))-s,10<s){e.timeoutHandle=gl(Gn.bind(null,e,ht,sn),s);break}Gn(e,ht,sn);break;case 5:Gn(e,ht,sn);break;default:throw Error(Y(329))}}}return gt(e,Ue()),e.callbackNode===i?vp.bind(null,e):null}function Bl(e,t){var i=Pr;return e.current.memoizedState.isDehydrated&&(qn(e,t).flags|=256),e=_s(e,t),e!==2&&(t=ht,ht=i,t!==null&&Al(t)),e}function Al(e){ht===null?ht=e:ht.push.apply(ht,e)}function Ly(e){for(var t=e;;){if(t.flags&16384){var i=t.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var s=0;s<i.length;s++){var a=i[s],u=a.getSnapshot;a=a.value;try{if(!Ht(u(),a))return!1}catch{return!1}}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Cn(e,t){for(t&=~Tu,t&=~Bs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-Wt(t),s=1<<i;e[i]=-1,t&=~s}}function Jd(e){if(be&6)throw Error(Y(327));Bi();var t=ns(e,0);if(!(t&1))return gt(e,Ue()),null;var i=_s(e,t);if(e.tag!==0&&i===2){var s=ll(e);s!==0&&(t=s,i=Bl(e,s))}if(i===1)throw i=Hr,qn(e,0),Cn(e,t),gt(e,Ue()),i;if(i===6)throw Error(Y(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Gn(e,ht,sn),gt(e,Ue()),null}function Lu(e,t){var i=be;be|=1;try{return e(t)}finally{be=i,be===0&&(Wi=Ue()+500,Ns&&Dn())}}function ii(e){Sn!==null&&Sn.tag===0&&!(be&6)&&Bi();var t=be;be|=1;var i=Lt.transition,s=Te;try{if(Lt.transition=null,Te=1,e)return e()}finally{Te=s,Lt.transition=i,be=t,!(be&6)&&Dn()}}function Ou(){yt=Li.current,Ne(Li)}function qn(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,sy(i)),$e!==null)for(i=$e.return;i!==null;){var s=i;switch(du(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&as();break;case 3:Ui(),Ne(pt),Ne(rt),_u();break;case 5:xu(s);break;case 4:Ui();break;case 13:Ne(Be);break;case 19:Ne(Be);break;case 10:mu(s.type._context);break;case 22:case 23:Ou()}i=i.return}if(Qe=e,$e=e=zn(e.current,null),Xe=yt=t,Ge=0,Hr=null,Tu=Bs=ni=0,ht=Pr=null,Yn!==null){for(t=0;t<Yn.length;t++)if(i=Yn[t],s=i.interleaved,s!==null){i.interleaved=null;var a=s.next,u=i.pending;if(u!==null){var d=u.next;u.next=a,s.next=d}i.pending=s}Yn=null}return e}function yp(e,t){do{var i=$e;try{if(pu(),Vo.current=gs,ms){for(var s=Ae.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}ms=!1}if(ti=0,Ye=Ve=Ae=null,br=!1,Zr=0,Pu.current=null,i===null||i.return===null){Ge=1,Hr=t,$e=null;break}e:{var u=e,d=i.return,p=i,f=t;if(t=Xe,p.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){var m=f,x=p,j=x.tag;if(!(x.mode&1)&&(j===0||j===11||j===15)){var S=x.alternate;S?(x.updateQueue=S.updateQueue,x.memoizedState=S.memoizedState,x.lanes=S.lanes):(x.updateQueue=null,x.memoizedState=null)}var O=Dd(d);if(O!==null){O.flags&=-257,Fd(O,d,p,u,t),O.mode&1&&Rd(u,m,t),t=O,f=m;var C=t.updateQueue;if(C===null){var v=new Set;v.add(f),t.updateQueue=v}else C.add(f);break e}else{if(!(t&1)){Rd(u,m,t),Nu();break e}f=Error(Y(426))}}else if(Me&&p.mode&1){var E=Dd(d);if(E!==null){!(E.flags&65536)&&(E.flags|=256),Fd(E,d,p,u,t),hu(Zi(f,p));break e}}u=f=Zi(f,p),Ge!==4&&(Ge=2),Pr===null?Pr=[u]:Pr.push(u),u=d;do{switch(u.tag){case 3:u.flags|=65536,t&=-t,u.lanes|=t;var y=tp(u,f,t);Nd(u,y);break e;case 1:p=f;var _=u.type,w=u.stateNode;if(!(u.flags&128)&&(typeof _.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(On===null||!On.has(w)))){u.flags|=65536,t&=-t,u.lanes|=t;var I=np(u,p,t);Nd(u,I);break e}}u=u.return}while(u!==null)}wp(i)}catch(U){t=U,$e===i&&i!==null&&($e=i=i.return);continue}break}while(!0)}function xp(){var e=vs.current;return vs.current=gs,e===null?gs:e}function Nu(){(Ge===0||Ge===3||Ge===2)&&(Ge=4),Qe===null||!(ni&268435455)&&!(Bs&268435455)||Cn(Qe,Xe)}function _s(e,t){var i=be;be|=2;var s=xp();(Qe!==e||Xe!==t)&&(sn=null,qn(e,t));do try{Oy();break}catch(a){yp(e,a)}while(!0);if(pu(),be=i,vs.current=s,$e!==null)throw Error(Y(261));return Qe=null,Xe=0,Ge}function Oy(){for(;$e!==null;)_p($e)}function Ny(){for(;$e!==null&&!iv();)_p($e)}function _p(e){var t=jp(e.alternate,e,yt);e.memoizedProps=e.pendingProps,t===null?wp(e):$e=t,Pu.current=null}function wp(e){var t=e;do{var i=t.alternate;if(e=t.return,t.flags&32768){if(i=by(i,t),i!==null){i.flags&=32767,$e=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ge=6,$e=null;return}}else if(i=Sy(i,t,yt),i!==null){$e=i;return}if(t=t.sibling,t!==null){$e=t;return}$e=t=e}while(t!==null);Ge===0&&(Ge=5)}function Gn(e,t,i){var s=Te,a=Lt.transition;try{Lt.transition=null,Te=1,zy(e,t,i,s)}finally{Lt.transition=a,Te=s}return null}function zy(e,t,i,s){do Bi();while(Sn!==null);if(be&6)throw Error(Y(327));i=e.finishedWork;var a=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(Y(177));e.callbackNode=null,e.callbackPriority=0;var u=i.lanes|i.childLanes;if(fv(e,u),e===Qe&&($e=Qe=null,Xe=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||Ro||(Ro=!0,Sp(ts,function(){return Bi(),null})),u=(i.flags&15990)!==0,i.subtreeFlags&15990||u){u=Lt.transition,Lt.transition=null;var d=Te;Te=1;var p=be;be|=4,Pu.current=null,Py(e,i),mp(i,e),Xv(pl),is=!!fl,pl=fl=null,e.current=i,Ty(i),rv(),be=p,Te=d,Lt.transition=u}else e.current=i;if(Ro&&(Ro=!1,Sn=e,xs=a),u=e.pendingLanes,u===0&&(On=null),av(i.stateNode),gt(e,Ue()),t!==null)for(s=e.onRecoverableError,i=0;i<t.length;i++)a=t[i],s(a.value,{componentStack:a.stack,digest:a.digest});if(ys)throw ys=!1,e=Ml,Ml=null,e;return xs&1&&e.tag!==0&&Bi(),u=e.pendingLanes,u&1?e===Il?Tr++:(Tr=0,Il=e):Tr=0,Dn(),null}function Bi(){if(Sn!==null){var e=ef(xs),t=Lt.transition,i=Te;try{if(Lt.transition=null,Te=16>e?16:e,Sn===null)var s=!1;else{if(e=Sn,Sn=null,xs=0,be&6)throw Error(Y(331));var a=be;for(be|=4,le=e.current;le!==null;){var u=le,d=u.child;if(le.flags&16){var p=u.deletions;if(p!==null){for(var f=0;f<p.length;f++){var m=p[f];for(le=m;le!==null;){var x=le;switch(x.tag){case 0:case 11:case 15:kr(8,x,u)}var j=x.child;if(j!==null)j.return=x,le=j;else for(;le!==null;){x=le;var S=x.sibling,O=x.return;if(hp(x),x===m){le=null;break}if(S!==null){S.return=O,le=S;break}le=O}}}var C=u.alternate;if(C!==null){var v=C.child;if(v!==null){C.child=null;do{var E=v.sibling;v.sibling=null,v=E}while(v!==null)}}le=u}}if(u.subtreeFlags&2064&&d!==null)d.return=u,le=d;else e:for(;le!==null;){if(u=le,u.flags&2048)switch(u.tag){case 0:case 11:case 15:kr(9,u,u.return)}var y=u.sibling;if(y!==null){y.return=u.return,le=y;break e}le=u.return}}var _=e.current;for(le=_;le!==null;){d=le;var w=d.child;if(d.subtreeFlags&2064&&w!==null)w.return=d,le=w;else e:for(d=_;le!==null;){if(p=le,p.flags&2048)try{switch(p.tag){case 0:case 11:case 15:Is(9,p)}}catch(U){De(p,p.return,U)}if(p===d){le=null;break e}var I=p.sibling;if(I!==null){I.return=p.return,le=I;break e}le=p.return}}if(be=a,Dn(),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(Ps,e)}catch{}s=!0}return s}finally{Te=i,Lt.transition=t}}return!1}function Xd(e,t,i){t=Zi(i,t),t=tp(e,t,1),e=Ln(e,t,1),t=lt(),e!==null&&(Yr(e,1,t),gt(e,t))}function De(e,t,i){if(e.tag===3)Xd(e,e,i);else for(;t!==null;){if(t.tag===3){Xd(t,e,i);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(On===null||!On.has(s))){e=Zi(i,e),e=np(t,e,1),t=Ln(t,e,1),e=lt(),t!==null&&(Yr(t,1,e),gt(t,e));break}}t=t.return}}function My(e,t,i){var s=e.pingCache;s!==null&&s.delete(t),t=lt(),e.pingedLanes|=e.suspendedLanes&i,Qe===e&&(Xe&i)===i&&(Ge===4||Ge===3&&(Xe&130023424)===Xe&&500>Ue()-Eu?qn(e,0):Tu|=i),gt(e,t)}function Cp(e,t){t===0&&(e.mode&1?(t=To,To<<=1,!(To&130023424)&&(To=4194304)):t=1);var i=lt();e=fn(e,t),e!==null&&(Yr(e,t,i),gt(e,i))}function Iy(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),Cp(e,i)}function By(e,t){var i=0;switch(e.tag){case 13:var s=e.stateNode,a=e.memoizedState;a!==null&&(i=a.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(Y(314))}s!==null&&s.delete(t),Cp(e,i)}var jp;jp=function(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps||pt.current)ft=!0;else{if(!(e.lanes&i)&&!(t.flags&128))return ft=!1,jy(e,t,i);ft=!!(e.flags&131072)}else ft=!1,Me&&t.flags&1048576&&Pf(t,cs,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Ko(e,t),e=t.pendingProps;var a=Ri(t,rt.current);Ii(t,i),a=Cu(null,t,s,e,a,i);var u=ju();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,mt(s)?(u=!0,ls(t)):u=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,vu(t),a.updater=Ms,t.stateNode=a,a._reactInternals=t,jl(t,s,e,i),t=kl(null,t,s,!0,u,i)):(t.tag=0,Me&&u&&cu(t),at(null,t,a,i),t=t.child),t;case 16:s=t.elementType;e:{switch(Ko(e,t),e=t.pendingProps,a=s._init,s=a(s._payload),t.type=s,a=t.tag=Ry(s),e=Dt(s,e),a){case 0:t=bl(null,t,s,e,i);break e;case 1:t=Wd(null,t,s,e,i);break e;case 11:t=Ud(null,t,s,e,i);break e;case 14:t=Zd(null,t,s,Dt(s.type,e),i);break e}throw Error(Y(306,s,""))}return t;case 0:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Dt(s,a),bl(e,t,s,a,i);case 1:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Dt(s,a),Wd(e,t,s,a,i);case 3:e:{if(sp(t),e===null)throw Error(Y(387));s=t.pendingProps,u=t.memoizedState,a=u.element,zf(e,t),fs(t,s,null,i);var d=t.memoizedState;if(s=d.element,u.isDehydrated)if(u={element:s,isDehydrated:!1,cache:d.cache,pendingSuspenseBoundaries:d.pendingSuspenseBoundaries,transitions:d.transitions},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){a=Zi(Error(Y(423)),t),t=$d(e,t,s,i,a);break e}else if(s!==a){a=Zi(Error(Y(424)),t),t=$d(e,t,s,i,a);break e}else for(xt=En(t.stateNode.containerInfo.firstChild),_t=t,Me=!0,Ut=null,i=Of(t,null,s,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Di(),s===a){t=pn(e,t,i);break e}at(e,t,s,i)}t=t.child}return t;case 5:return Mf(t),e===null&&_l(t),s=t.type,a=t.pendingProps,u=e!==null?e.memoizedProps:null,d=a.children,ml(s,a)?d=null:u!==null&&ml(s,u)&&(t.flags|=32),op(e,t),at(e,t,d,i),t.child;case 6:return e===null&&_l(t),null;case 13:return ap(e,t,i);case 4:return yu(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Fi(t,null,s,i):at(e,t,s,i),t.child;case 11:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Dt(s,a),Ud(e,t,s,a,i);case 7:return at(e,t,t.pendingProps,i),t.child;case 8:return at(e,t,t.pendingProps.children,i),t.child;case 12:return at(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(s=t.type._context,a=t.pendingProps,u=t.memoizedProps,d=a.value,Le(ds,s._currentValue),s._currentValue=d,u!==null)if(Ht(u.value,d)){if(u.children===a.children&&!pt.current){t=pn(e,t,i);break e}}else for(u=t.child,u!==null&&(u.return=t);u!==null;){var p=u.dependencies;if(p!==null){d=u.child;for(var f=p.firstContext;f!==null;){if(f.context===s){if(u.tag===1){f=cn(-1,i&-i),f.tag=2;var m=u.updateQueue;if(m!==null){m=m.shared;var x=m.pending;x===null?f.next=f:(f.next=x.next,x.next=f),m.pending=f}}u.lanes|=i,f=u.alternate,f!==null&&(f.lanes|=i),wl(u.return,i,t),p.lanes|=i;break}f=f.next}}else if(u.tag===10)d=u.type===t.type?null:u.child;else if(u.tag===18){if(d=u.return,d===null)throw Error(Y(341));d.lanes|=i,p=d.alternate,p!==null&&(p.lanes|=i),wl(d,i,t),d=u.sibling}else d=u.child;if(d!==null)d.return=u;else for(d=u;d!==null;){if(d===t){d=null;break}if(u=d.sibling,u!==null){u.return=d.return,d=u;break}d=d.return}u=d}at(e,t,a.children,i),t=t.child}return t;case 9:return a=t.type,s=t.pendingProps.children,Ii(t,i),a=Ot(a),s=s(a),t.flags|=1,at(e,t,s,i),t.child;case 14:return s=t.type,a=Dt(s,t.pendingProps),a=Dt(s.type,a),Zd(e,t,s,a,i);case 15:return ip(e,t,t.type,t.pendingProps,i);case 17:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Dt(s,a),Ko(e,t),t.tag=1,mt(s)?(e=!0,ls(t)):e=!1,Ii(t,i),ep(t,s,a),jl(t,s,a,i),kl(null,t,s,!0,e,i);case 19:return lp(e,t,i);case 22:return rp(e,t,i)}throw Error(Y(156,t.tag))};function Sp(e,t){return Qh(e,t)}function Ay(e,t,i,s){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Et(e,t,i,s){return new Ay(e,t,i,s)}function zu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ry(e){if(typeof e=="function")return zu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Jl)return 11;if(e===Xl)return 14}return 2}function zn(e,t){var i=e.alternate;return i===null?(i=Et(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function qo(e,t,i,s,a,u){var d=2;if(s=e,typeof e=="function")zu(e)&&(d=1);else if(typeof e=="string")d=5;else e:switch(e){case _i:return Jn(i.children,a,u,t);case ql:d=8,a|=8;break;case Ga:return e=Et(12,i,t,a|2),e.elementType=Ga,e.lanes=u,e;case Ka:return e=Et(13,i,t,a),e.elementType=Ka,e.lanes=u,e;case Ya:return e=Et(19,i,t,a),e.elementType=Ya,e.lanes=u,e;case zh:return As(i,a,u,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Oh:d=10;break e;case Nh:d=9;break e;case Jl:d=11;break e;case Xl:d=14;break e;case xn:d=16,s=null;break e}throw Error(Y(130,e==null?e:typeof e,""))}return t=Et(d,i,t,a),t.elementType=e,t.type=s,t.lanes=u,t}function Jn(e,t,i,s){return e=Et(7,e,s,t),e.lanes=i,e}function As(e,t,i,s){return e=Et(22,e,s,t),e.elementType=zh,e.lanes=i,e.stateNode={isHidden:!1},e}function Za(e,t,i){return e=Et(6,e,null,t),e.lanes=i,e}function Wa(e,t,i){return t=Et(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Dy(e,t,i,s,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ja(0),this.expirationTimes=ja(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ja(0),this.identifierPrefix=s,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Mu(e,t,i,s,a,u,d,p,f){return e=new Dy(e,t,i,p,f),t===1?(t=1,u===!0&&(t|=8)):t=0,u=Et(3,null,null,t),e.current=u,u.stateNode=e,u.memoizedState={element:s,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},vu(u),e}function Fy(e,t,i){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xi,key:s==null?null:""+s,children:e,containerInfo:t,implementation:i}}function bp(e){if(!e)return Bn;e=e._reactInternals;e:{if(oi(e)!==e||e.tag!==1)throw Error(Y(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(mt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Y(171))}if(e.tag===1){var i=e.type;if(mt(i))return bf(e,i,t)}return t}function kp(e,t,i,s,a,u,d,p,f){return e=Mu(i,s,!0,e,a,u,d,p,f),e.context=bp(null),i=e.current,s=lt(),a=Nn(i),u=cn(s,a),u.callback=t??null,Ln(i,u,a),e.current.lanes=a,Yr(e,a,s),gt(e,s),e}function Rs(e,t,i,s){var a=t.current,u=lt(),d=Nn(a);return i=bp(i),t.context===null?t.context=i:t.pendingContext=i,t=cn(u,d),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=Ln(a,t,d),e!==null&&($t(e,a,d,u),Ho(e,a,d)),d}function ws(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function eh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function Iu(e,t){eh(e,t),(e=e.alternate)&&eh(e,t)}function Uy(){return null}var Pp=typeof reportError=="function"?reportError:function(e){console.error(e)};function Bu(e){this._internalRoot=e}Ds.prototype.render=Bu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Y(409));Rs(e,t,null,null)};Ds.prototype.unmount=Bu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ii(function(){Rs(null,e,null,null)}),t[hn]=null}};function Ds(e){this._internalRoot=e}Ds.prototype.unstable_scheduleHydration=function(e){if(e){var t=rf();e={blockedOn:null,target:e,priority:t};for(var i=0;i<wn.length&&t!==0&&t<wn[i].priority;i++);wn.splice(i,0,e),i===0&&sf(e)}};function Au(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Fs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function th(){}function Zy(e,t,i,s,a){if(a){if(typeof s=="function"){var u=s;s=function(){var m=ws(d);u.call(m)}}var d=kp(t,s,e,0,null,!1,!1,"",th);return e._reactRootContainer=d,e[hn]=d.current,Ar(e.nodeType===8?e.parentNode:e),ii(),d}for(;a=e.lastChild;)e.removeChild(a);if(typeof s=="function"){var p=s;s=function(){var m=ws(f);p.call(m)}}var f=Mu(e,0,!1,null,null,!1,!1,"",th);return e._reactRootContainer=f,e[hn]=f.current,Ar(e.nodeType===8?e.parentNode:e),ii(function(){Rs(t,f,i,s)}),f}function Us(e,t,i,s,a){var u=i._reactRootContainer;if(u){var d=u;if(typeof a=="function"){var p=a;a=function(){var f=ws(d);p.call(f)}}Rs(t,d,e,a)}else d=Zy(i,t,e,a,s);return ws(d)}tf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=yr(t.pendingLanes);i!==0&&(nu(t,i|1),gt(t,Ue()),!(be&6)&&(Wi=Ue()+500,Dn()))}break;case 13:ii(function(){var s=fn(e,1);if(s!==null){var a=lt();$t(s,e,1,a)}}),Iu(e,1)}};iu=function(e){if(e.tag===13){var t=fn(e,134217728);if(t!==null){var i=lt();$t(t,e,134217728,i)}Iu(e,134217728)}};nf=function(e){if(e.tag===13){var t=Nn(e),i=fn(e,t);if(i!==null){var s=lt();$t(i,e,t,s)}Iu(e,t)}};rf=function(){return Te};of=function(e,t){var i=Te;try{return Te=e,t()}finally{Te=i}};ol=function(e,t,i){switch(t){case"input":if(Ja(e,i),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var s=i[t];if(s!==e&&s.form===e.form){var a=Os(s);if(!a)throw Error(Y(90));Ih(s),Ja(s,a)}}}break;case"textarea":Ah(e,i);break;case"select":t=i.value,t!=null&&Oi(e,!!i.multiple,t,!1)}};$h=Lu;Hh=ii;var Wy={usingClientEntryPoint:!1,Events:[qr,Si,Os,Zh,Wh,Lu]},mr={findFiberByHostInstance:Kn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$y={bundleType:mr.bundleType,version:mr.version,rendererPackageName:mr.rendererPackageName,rendererConfig:mr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:mn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Kh(e),e===null?null:e.stateNode},findFiberByHostInstance:mr.findFiberByHostInstance||Uy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Do=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Do.isDisabled&&Do.supportsFiber)try{Ps=Do.inject($y),Xt=Do}catch{}}Ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wy;Ct.createPortal=function(e,t){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Au(t))throw Error(Y(200));return Fy(e,t,null,i)};Ct.createRoot=function(e,t){if(!Au(e))throw Error(Y(299));var i=!1,s="",a=Pp;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Mu(e,1,!1,null,null,i,!1,s,a),e[hn]=t.current,Ar(e.nodeType===8?e.parentNode:e),new Bu(t)};Ct.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Y(188)):(e=Object.keys(e).join(","),Error(Y(268,e)));return e=Kh(t),e=e===null?null:e.stateNode,e};Ct.flushSync=function(e){return ii(e)};Ct.hydrate=function(e,t,i){if(!Fs(t))throw Error(Y(200));return Us(null,e,t,!0,i)};Ct.hydrateRoot=function(e,t,i){if(!Au(e))throw Error(Y(405));var s=i!=null&&i.hydratedSources||null,a=!1,u="",d=Pp;if(i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onRecoverableError!==void 0&&(d=i.onRecoverableError)),t=kp(t,null,e,1,i??null,a,!1,u,d),e[hn]=t.current,Ar(e),s)for(e=0;e<s.length;e++)i=s[e],a=i._getVersion,a=a(i._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[i,a]:t.mutableSourceEagerHydrationData.push(i,a);return new Ds(t)};Ct.render=function(e,t,i){if(!Fs(t))throw Error(Y(200));return Us(null,e,t,!1,i)};Ct.unmountComponentAtNode=function(e){if(!Fs(e))throw Error(Y(40));return e._reactRootContainer?(ii(function(){Us(null,null,e,!1,function(){e._reactRootContainer=null,e[hn]=null})}),!0):!1};Ct.unstable_batchedUpdates=Lu;Ct.unstable_renderSubtreeIntoContainer=function(e,t,i,s){if(!Fs(i))throw Error(Y(200));if(e==null||e._reactInternals===void 0)throw Error(Y(38));return Us(e,t,i,!1,s)};Ct.version="18.3.1-next-f1338f8080-20240426";function Tp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Tp)}catch(e){console.error(e)}}Tp(),Ph.exports=Ct;var Ep=Ph.exports,Lp,nh=Ep;Lp=nh.createRoot,nh.hydrateRoot;/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vr(){return Vr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},Vr.apply(this,arguments)}var bn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(bn||(bn={}));const ih="popstate";function Hy(e){e===void 0&&(e={});function t(a,u){let{pathname:d="/",search:p="",hash:f=""}=si(a.location.hash.substr(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),Rl("",{pathname:d,search:p,hash:f},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function i(a,u){let d=a.document.querySelector("base"),p="";if(d&&d.getAttribute("href")){let f=a.location.href,m=f.indexOf("#");p=m===-1?f:f.slice(0,m)}return p+"#"+(typeof u=="string"?u:Cs(u))}function s(a,u){Ru(a.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(u)+")")}return Gy(t,i,s,e)}function He(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ru(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Vy(){return Math.random().toString(36).substr(2,8)}function rh(e,t){return{usr:e.state,key:e.key,idx:t}}function Rl(e,t,i,s){return i===void 0&&(i=null),Vr({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?si(t):t,{state:i,key:t&&t.key||s||Vy()})}function Cs(e){let{pathname:t="/",search:i="",hash:s=""}=e;return i&&i!=="?"&&(t+=i.charAt(0)==="?"?i:"?"+i),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function si(e){let t={};if(e){let i=e.indexOf("#");i>=0&&(t.hash=e.substr(i),e=e.substr(0,i));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function Gy(e,t,i,s){s===void 0&&(s={});let{window:a=document.defaultView,v5Compat:u=!1}=s,d=a.history,p=bn.Pop,f=null,m=x();m==null&&(m=0,d.replaceState(Vr({},d.state,{idx:m}),""));function x(){return(d.state||{idx:null}).idx}function j(){p=bn.Pop;let E=x(),y=E==null?null:E-m;m=E,f&&f({action:p,location:v.location,delta:y})}function S(E,y){p=bn.Push;let _=Rl(v.location,E,y);i&&i(_,E),m=x()+1;let w=rh(_,m),I=v.createHref(_);try{d.pushState(w,"",I)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;a.location.assign(I)}u&&f&&f({action:p,location:v.location,delta:1})}function O(E,y){p=bn.Replace;let _=Rl(v.location,E,y);i&&i(_,E),m=x();let w=rh(_,m),I=v.createHref(_);d.replaceState(w,"",I),u&&f&&f({action:p,location:v.location,delta:0})}function C(E){let y=a.location.origin!=="null"?a.location.origin:a.location.href,_=typeof E=="string"?E:Cs(E);return _=_.replace(/ $/,"%20"),He(y,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,y)}let v={get action(){return p},get location(){return e(a,d)},listen(E){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(ih,j),f=E,()=>{a.removeEventListener(ih,j),f=null}},createHref(E){return t(a,E)},createURL:C,encodeLocation(E){let y=C(E);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:S,replace:O,go(E){return d.go(E)}};return v}var oh;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(oh||(oh={}));function Ky(e,t,i){return i===void 0&&(i="/"),Yy(e,t,i,!1)}function Yy(e,t,i,s){let a=typeof t=="string"?si(t):t,u=Du(a.pathname||"/",i);if(u==null)return null;let d=Op(e);Qy(d);let p=null;for(let f=0;p==null&&f<d.length;++f){let m=ax(u);p=ox(d[f],m,s)}return p}function Op(e,t,i,s){t===void 0&&(t=[]),i===void 0&&(i=[]),s===void 0&&(s="");let a=(u,d,p)=>{let f={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};f.relativePath.startsWith("/")&&(He(f.relativePath.startsWith(s),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(s.length));let m=Mn([s,f.relativePath]),x=i.concat(f);u.children&&u.children.length>0&&(He(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),Op(u.children,t,x,m)),!(u.path==null&&!u.index)&&t.push({path:m,score:ix(m,u.index),routesMeta:x})};return e.forEach((u,d)=>{var p;if(u.path===""||!((p=u.path)!=null&&p.includes("?")))a(u,d);else for(let f of Np(u.path))a(u,d,f)}),t}function Np(e){let t=e.split("/");if(t.length===0)return[];let[i,...s]=t,a=i.endsWith("?"),u=i.replace(/\?$/,"");if(s.length===0)return a?[u,""]:[u];let d=Np(s.join("/")),p=[];return p.push(...d.map(f=>f===""?u:[u,f].join("/"))),a&&p.push(...d),p.map(f=>e.startsWith("/")&&f===""?"/":f)}function Qy(e){e.sort((t,i)=>t.score!==i.score?i.score-t.score:rx(t.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}const qy=/^:[\w-]+$/,Jy=3,Xy=2,ex=1,tx=10,nx=-2,sh=e=>e==="*";function ix(e,t){let i=e.split("/"),s=i.length;return i.some(sh)&&(s+=nx),t&&(s+=Xy),i.filter(a=>!sh(a)).reduce((a,u)=>a+(qy.test(u)?Jy:u===""?ex:tx),s)}function rx(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function ox(e,t,i){let{routesMeta:s}=e,a={},u="/",d=[];for(let p=0;p<s.length;++p){let f=s[p],m=p===s.length-1,x=u==="/"?t:t.slice(u.length)||"/",j=ah({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},x),S=f.route;if(!j&&m&&i&&!s[s.length-1].route.index&&(j=ah({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},x)),!j)return null;Object.assign(a,j.params),d.push({params:a,pathname:Mn([u,j.pathname]),pathnameBase:dx(Mn([u,j.pathnameBase])),route:S}),j.pathnameBase!=="/"&&(u=Mn([u,j.pathnameBase]))}return d}function ah(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[i,s]=sx(e.path,e.caseSensitive,e.end),a=t.match(i);if(!a)return null;let u=a[0],d=u.replace(/(.)\/+$/,"$1"),p=a.slice(1);return{params:s.reduce((m,x,j)=>{let{paramName:S,isOptional:O}=x;if(S==="*"){let v=p[j]||"";d=u.slice(0,u.length-v.length).replace(/(.)\/+$/,"$1")}const C=p[j];return O&&!C?m[S]=void 0:m[S]=(C||"").replace(/%2F/g,"/"),m},{}),pathname:u,pathnameBase:d,pattern:e}}function sx(e,t,i){t===void 0&&(t=!1),i===void 0&&(i=!0),Ru(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,p,f)=>(s.push({paramName:p,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function ax(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ru(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Du(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,s=e.charAt(i);return s&&s!=="/"?null:e.slice(i)||"/"}function lx(e,t){t===void 0&&(t="/");let{pathname:i,search:s="",hash:a=""}=typeof e=="string"?si(e):e;return{pathname:i?i.startsWith("/")?i:ux(i,t):t,search:hx(s),hash:fx(a)}}function ux(e,t){let i=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?i.length>1&&i.pop():a!=="."&&i.push(a)}),i.length>1?i.join("/"):"/"}function $a(e,t,i,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+i+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function cx(e){return e.filter((t,i)=>i===0||t.route.path&&t.route.path.length>0)}function zp(e,t){let i=cx(e);return t?i.map((s,a)=>a===i.length-1?s.pathname:s.pathnameBase):i.map(s=>s.pathnameBase)}function Mp(e,t,i,s){s===void 0&&(s=!1);let a;typeof e=="string"?a=si(e):(a=Vr({},e),He(!a.pathname||!a.pathname.includes("?"),$a("?","pathname","search",a)),He(!a.pathname||!a.pathname.includes("#"),$a("#","pathname","hash",a)),He(!a.search||!a.search.includes("#"),$a("#","search","hash",a)));let u=e===""||a.pathname==="",d=u?"/":a.pathname,p;if(d==null)p=i;else{let j=t.length-1;if(!s&&d.startsWith("..")){let S=d.split("/");for(;S[0]==="..";)S.shift(),j-=1;a.pathname=S.join("/")}p=j>=0?t[j]:"/"}let f=lx(a,p),m=d&&d!=="/"&&d.endsWith("/"),x=(u||d===".")&&i.endsWith("/");return!f.pathname.endsWith("/")&&(m||x)&&(f.pathname+="/"),f}const Mn=e=>e.join("/").replace(/\/\/+/g,"/"),dx=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),hx=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,fx=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function px(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Ip=["post","put","patch","delete"];new Set(Ip);const mx=["get",...Ip];new Set(mx);/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gr(){return Gr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},Gr.apply(this,arguments)}const Fu=b.createContext(null),gx=b.createContext(null),ai=b.createContext(null),Zs=b.createContext(null),Fn=b.createContext({outlet:null,matches:[],isDataRoute:!1}),Bp=b.createContext(null);function vx(e,t){let{relative:i}=t===void 0?{}:t;Xr()||He(!1);let{basename:s,navigator:a}=b.useContext(ai),{hash:u,pathname:d,search:p}=Rp(e,{relative:i}),f=d;return s!=="/"&&(f=d==="/"?s:Mn([s,d])),a.createHref({pathname:f,search:p,hash:u})}function Xr(){return b.useContext(Zs)!=null}function eo(){return Xr()||He(!1),b.useContext(Zs).location}function Ap(e){b.useContext(ai).static||b.useLayoutEffect(e)}function zt(){let{isDataRoute:e}=b.useContext(Fn);return e?Nx():yx()}function yx(){Xr()||He(!1);let e=b.useContext(Fu),{basename:t,future:i,navigator:s}=b.useContext(ai),{matches:a}=b.useContext(Fn),{pathname:u}=eo(),d=JSON.stringify(zp(a,i.v7_relativeSplatPath)),p=b.useRef(!1);return Ap(()=>{p.current=!0}),b.useCallback(function(m,x){if(x===void 0&&(x={}),!p.current)return;if(typeof m=="number"){s.go(m);return}let j=Mp(m,JSON.parse(d),u,x.relative==="path");e==null&&t!=="/"&&(j.pathname=j.pathname==="/"?t:Mn([t,j.pathname])),(x.replace?s.replace:s.push)(j,x.state,x)},[t,s,d,u,e])}const xx=b.createContext(null);function _x(e){let t=b.useContext(Fn).outlet;return t&&b.createElement(xx.Provider,{value:e},t)}function Rp(e,t){let{relative:i}=t===void 0?{}:t,{future:s}=b.useContext(ai),{matches:a}=b.useContext(Fn),{pathname:u}=eo(),d=JSON.stringify(zp(a,s.v7_relativeSplatPath));return b.useMemo(()=>Mp(e,JSON.parse(d),u,i==="path"),[e,d,u,i])}function wx(e,t){return Cx(e,t)}function Cx(e,t,i,s){Xr()||He(!1);let{navigator:a}=b.useContext(ai),{matches:u}=b.useContext(Fn),d=u[u.length-1],p=d?d.params:{};d&&d.pathname;let f=d?d.pathnameBase:"/";d&&d.route;let m=eo(),x;if(t){var j;let E=typeof t=="string"?si(t):t;f==="/"||(j=E.pathname)!=null&&j.startsWith(f)||He(!1),x=E}else x=m;let S=x.pathname||"/",O=S;if(f!=="/"){let E=f.replace(/^\//,"").split("/");O="/"+S.replace(/^\//,"").split("/").slice(E.length).join("/")}let C=Ky(e,{pathname:O}),v=Px(C&&C.map(E=>Object.assign({},E,{params:Object.assign({},p,E.params),pathname:Mn([f,a.encodeLocation?a.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?f:Mn([f,a.encodeLocation?a.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),u,i,s);return t&&v?b.createElement(Zs.Provider,{value:{location:Gr({pathname:"/",search:"",hash:"",state:null,key:"default"},x),navigationType:bn.Pop}},v):v}function jx(){let e=Ox(),t=px(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),i=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),i?b.createElement("pre",{style:a},i):null,null)}const Sx=b.createElement(jx,null);class bx extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,i){return i.location!==t.location||i.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:i.error,location:i.location,revalidation:t.revalidation||i.revalidation}}componentDidCatch(t,i){console.error("React Router caught the following error during render",t,i)}render(){return this.state.error!==void 0?b.createElement(Fn.Provider,{value:this.props.routeContext},b.createElement(Bp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function kx(e){let{routeContext:t,match:i,children:s}=e,a=b.useContext(Fu);return a&&a.static&&a.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=i.route.id),b.createElement(Fn.Provider,{value:t},s)}function Px(e,t,i,s){var a;if(t===void 0&&(t=[]),i===void 0&&(i=null),s===void 0&&(s=null),e==null){var u;if(!i)return null;if(i.errors)e=i.matches;else if((u=s)!=null&&u.v7_partialHydration&&t.length===0&&!i.initialized&&i.matches.length>0)e=i.matches;else return null}let d=e,p=(a=i)==null?void 0:a.errors;if(p!=null){let x=d.findIndex(j=>j.route.id&&(p==null?void 0:p[j.route.id])!==void 0);x>=0||He(!1),d=d.slice(0,Math.min(d.length,x+1))}let f=!1,m=-1;if(i&&s&&s.v7_partialHydration)for(let x=0;x<d.length;x++){let j=d[x];if((j.route.HydrateFallback||j.route.hydrateFallbackElement)&&(m=x),j.route.id){let{loaderData:S,errors:O}=i,C=j.route.loader&&S[j.route.id]===void 0&&(!O||O[j.route.id]===void 0);if(j.route.lazy||C){f=!0,m>=0?d=d.slice(0,m+1):d=[d[0]];break}}}return d.reduceRight((x,j,S)=>{let O,C=!1,v=null,E=null;i&&(O=p&&j.route.id?p[j.route.id]:void 0,v=j.route.errorElement||Sx,f&&(m<0&&S===0?(C=!0,E=null):m===S&&(C=!0,E=j.route.hydrateFallbackElement||null)));let y=t.concat(d.slice(0,S+1)),_=()=>{let w;return O?w=v:C?w=E:j.route.Component?w=b.createElement(j.route.Component,null):j.route.element?w=j.route.element:w=x,b.createElement(kx,{match:j,routeContext:{outlet:x,matches:y,isDataRoute:i!=null},children:w})};return i&&(j.route.ErrorBoundary||j.route.errorElement||S===0)?b.createElement(bx,{location:i.location,revalidation:i.revalidation,component:v,error:O,children:_(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):_()},null)}var Dp=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Dp||{}),js=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(js||{});function Tx(e){let t=b.useContext(Fu);return t||He(!1),t}function Ex(e){let t=b.useContext(gx);return t||He(!1),t}function Lx(e){let t=b.useContext(Fn);return t||He(!1),t}function Fp(e){let t=Lx(),i=t.matches[t.matches.length-1];return i.route.id||He(!1),i.route.id}function Ox(){var e;let t=b.useContext(Bp),i=Ex(js.UseRouteError),s=Fp(js.UseRouteError);return t!==void 0?t:(e=i.errors)==null?void 0:e[s]}function Nx(){let{router:e}=Tx(Dp.UseNavigateStable),t=Fp(js.UseNavigateStable),i=b.useRef(!1);return Ap(()=>{i.current=!0}),b.useCallback(function(a,u){u===void 0&&(u={}),i.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Gr({fromRouteId:t},u)))},[e,t])}function zx(e){return _x(e.context)}function st(e){He(!1)}function Mx(e){let{basename:t="/",children:i=null,location:s,navigationType:a=bn.Pop,navigator:u,static:d=!1,future:p}=e;Xr()&&He(!1);let f=t.replace(/^\/*/,"/"),m=b.useMemo(()=>({basename:f,navigator:u,static:d,future:Gr({v7_relativeSplatPath:!1},p)}),[f,p,u,d]);typeof s=="string"&&(s=si(s));let{pathname:x="/",search:j="",hash:S="",state:O=null,key:C="default"}=s,v=b.useMemo(()=>{let E=Du(x,f);return E==null?null:{location:{pathname:E,search:j,hash:S,state:O,key:C},navigationType:a}},[f,x,j,S,O,C,a]);return v==null?null:b.createElement(ai.Provider,{value:m},b.createElement(Zs.Provider,{children:i,value:v}))}function Ix(e){let{children:t,location:i}=e;return wx(Dl(t),i)}new Promise(()=>{});function Dl(e,t){t===void 0&&(t=[]);let i=[];return b.Children.forEach(e,(s,a)=>{if(!b.isValidElement(s))return;let u=[...t,a];if(s.type===b.Fragment){i.push.apply(i,Dl(s.props.children,u));return}s.type!==st&&He(!1),!s.props.index||!s.props.children||He(!1);let d={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=Dl(s.props.children,u)),i.push(d)}),i}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fl(){return Fl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},Fl.apply(this,arguments)}function Bx(e,t){if(e==null)return{};var i={},s=Object.keys(e),a,u;for(u=0;u<s.length;u++)a=s[u],!(t.indexOf(a)>=0)&&(i[a]=e[a]);return i}function Ax(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Rx(e,t){return e.button===0&&(!t||t==="_self")&&!Ax(e)}const Dx=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],Fx="6";try{window.__reactRouterVersion=Fx}catch{}const Ux="startTransition",lh=Mg[Ux];function Zx(e){let{basename:t,children:i,future:s,window:a}=e,u=b.useRef();u.current==null&&(u.current=Hy({window:a,v5Compat:!0}));let d=u.current,[p,f]=b.useState({action:d.action,location:d.location}),{v7_startTransition:m}=s||{},x=b.useCallback(j=>{m&&lh?lh(()=>f(j)):f(j)},[f,m]);return b.useLayoutEffect(()=>d.listen(x),[d,x]),b.createElement(Mx,{basename:t,children:i,location:p.location,navigationType:p.action,navigator:d,future:s})}const Wx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$x=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rt=b.forwardRef(function(t,i){let{onClick:s,relative:a,reloadDocument:u,replace:d,state:p,target:f,to:m,preventScrollReset:x,unstable_viewTransition:j}=t,S=Bx(t,Dx),{basename:O}=b.useContext(ai),C,v=!1;if(typeof m=="string"&&$x.test(m)&&(C=m,Wx))try{let w=new URL(window.location.href),I=m.startsWith("//")?new URL(w.protocol+m):new URL(m),U=Du(I.pathname,O);I.origin===w.origin&&U!=null?m=U+I.search+I.hash:v=!0}catch{}let E=vx(m,{relative:a}),y=Hx(m,{replace:d,state:p,target:f,preventScrollReset:x,relative:a,unstable_viewTransition:j});function _(w){s&&s(w),w.defaultPrevented||y(w)}return b.createElement("a",Fl({},S,{href:C||E,onClick:v||u?s:_,ref:i,target:f}))});var uh;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(uh||(uh={}));var ch;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(ch||(ch={}));function Hx(e,t){let{target:i,replace:s,state:a,preventScrollReset:u,relative:d,unstable_viewTransition:p}=t===void 0?{}:t,f=zt(),m=eo(),x=Rp(e,{relative:d});return b.useCallback(j=>{if(Rx(j,i)){j.preventDefault();let S=s!==void 0?s:Cs(m)===Cs(x);f(e,{replace:S,state:a,preventScrollReset:u,relative:d,unstable_viewTransition:p})}},[m,f,x,s,a,i,e,u,d,p])}const Vx=(e,t)=>{switch(t.type){case"SET_USER_DETAILS":return{...e,...t.payload};case"SET_PATIENT_DETAILS":return{...e,...t.payload};case"SET_LOCATION":return{...e,...t.payload};default:return e}},Gx={spineUrl:"https://10.0.14.98:5001",userPhotoUrl:null,user:null,userID:null,category:null,department:null,role:null,accessLevel:null,employer:null,branch:null,token:null,referenceLibrary:null,clinicianGrades:null,clinicianSpecialties:null,userState:null,allStates:[],serviceBranches:[],configurations:[]},Mt=b.createContext(),Kx=e=>{const t=localStorage.getItem("appState")?JSON.parse(localStorage.getItem("appState")):Gx,[i,s]=b.useReducer(Vx,t);b.useEffect(()=>{localStorage.setItem("appState",JSON.stringify(i))},[i]);const a=async f=>{try{s({type:"SET_USER_DETAILS",payload:f})}catch(m){console.error("Failed to fetch staff details:",m)}},u=async f=>{try{s({type:"SET_PATIENT_DETAILS",payload:f})}catch(m){console.error("Failed to fetch patient details:",m)}},d=b.useCallback(async f=>{try{s({type:"SET_LOCATION",payload:f})}catch(m){console.error("Failed to update location:",m)}},[]),p=()=>{a({type:"SET_USER_DETAILS",payload:{}}),localStorage.removeItem("token"),localStorage.removeItem("appState")};return o.jsx(Mt.Provider,{value:{state:i,dispatch:s,updateUser:a,updatePatient:u,updateLocation:d,logout:p},children:e.children})};function Yx(){const{state:e,updateUser:t}=b.useContext(Mt),{spineUrl:i,token:s}=e,[a,u]=b.useState({}),[d,p]=b.useState(!1),f=zt();b.useEffect(()=>{const v=()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(y=>{u(_=>({..._,latitude:y.coords.latitude,longitude:y.coords.longitude}))},y=>{console.error("Error fetching location:",y),alert("Unable to fetch location. Please enable location access.")}):alert("Geolocation is not supported by your browser.")};v();const E=setInterval(v,3e3);return()=>clearInterval(E)},[]);const m=async()=>{p(!0);try{if(!a.email||!a.password){alert("Please fill in all required fields.");return}console.log(i);const v=await fetch(`${i}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({dispensaryID:a.dispensaryID,email:a.email,password:a.password,latitude:a.latitude,longitude:a.longitude})});if(v.ok){const E=await v.json();t(E.userData),f("/totp-page")}else{let E="An error occurred. Please try again.";try{E=(await v.json()).message||E}catch(y){console.error("Error parsing error response:",y)}alert(E),console.error("Failed to log in:",v.statusText)}}catch(v){console.error("Login error:",v),alert("An error occurred. Please check your network and try again."),alert(i)}finally{p(!1)}},x={backgroundColor:"orange",height:"100vh",width:"100vw",overflowY:"hidden",overflowX:"hidden",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center"},j={width:"50%",gap:"20px"},S={},O={backgroundColor:"white",width:"50%",height:"1.5rem",borderRadius:"10px",margin:"10px",textAlign:"center",color:"green"},C={cursor:d?"wait":"default"};return o.jsxs("div",{style:{...x,cursor:d?"wait":"default"},children:[o.jsx("h1",{style:{color:"green"},children:"PrescribeNg Staff Portal"}),o.jsxs("div",{style:j,children:[o.jsx("div",{style:S,children:o.jsx("input",{type:"email",style:O,value:a.email,onChange:v=>u({...a,email:v.target.value}),placeholder:"PrescribeNg Work Email'"})}),o.jsx("div",{style:S,children:o.jsx("input",{type:"password",style:O,value:a.password,onChange:v=>u({...a,password:v.target.value}),placeholder:"Password"})}),o.jsx("button",{style:C,onClick:m,children:"Login"})]})]})}function Qx(){const{state:e,logout:t,updateUser:i}=b.useContext(Mt),{spineUrl:s,token:a}=e,[u,d]=b.useState(""),p=zt(),f=()=>{t(),p("/")},m=async()=>{try{const E=await fetch(`${s}/auth/multifactor_authentication`,{method:"POST",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},body:JSON.stringify({totp:u})});if(console.log("Response Status:",E.status),E.ok){const y=await E.json();console.log("Received Data:",y),i({token:y.token}),p("/home")}else{const y=await E.json();alert(y.message)}}catch(E){console.error("Error validating OTP:",E)}},x={backgroundColor:"orange",color:"black",height:"100vh",width:"100vw",overflowY:"hidden",overflowX:"hidden",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center"},j={backgroundColor:"orange",width:"40%",height:"30%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center"},S={backgroundColor:"white",color:"black",border:"none",borderRadius:"7px",width:"70%",height:"2.5rem",textAlign:"center"},O={height:"40px",width:"50%",gap:"10px",marginTop:"30px",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},C={height:"30px",width:"50px",color:"green",textDecoration:"underline",fontSize:"1.2rem",cursor:"pointer",margin:"10px"},v={height:"30px",width:"50px",color:"blue",textDecoration:"underline",fontSize:"1.2rem",cursor:"pointer"};return o.jsx("div",{style:x,children:o.jsxs("div",{style:j,children:[o.jsx("input",{style:S,value:u,onChange:E=>d(E.target.value),placeholder:"Enter 'TOTP' from sms/email"}),o.jsxs("div",{style:O,children:[o.jsx("span",{style:C,onClick:m,children:"Submit"}),o.jsx("span",{style:v,onClick:f,children:"cancel"})]})]})})}var Up={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},dh=Zt.createContext&&Zt.createContext(Up),qx=["attr","size","title"];function Jx(e,t){if(e==null)return{};var i=Xx(e,t),s,a;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(a=0;a<u.length;a++)s=u[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}function Xx(e,t){if(e==null)return{};var i={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;i[s]=e[s]}return i}function Ss(){return Ss=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},Ss.apply(this,arguments)}function hh(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),i.push.apply(i,s)}return i}function bs(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?hh(Object(i),!0).forEach(function(s){e_(e,s,i[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):hh(Object(i)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(i,s))})}return e}function e_(e,t,i){return t=t_(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function t_(e){var t=n_(e,"string");return typeof t=="symbol"?t:t+""}function n_(e,t){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var s=i.call(e,t||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zp(e){return e&&e.map((t,i)=>Zt.createElement(t.tag,bs({key:i},t.attr),Zp(t.child)))}function Gi(e){return t=>Zt.createElement(i_,Ss({attr:bs({},e.attr)},t),Zp(e.child))}function i_(e){var t=i=>{var{attr:s,size:a,title:u}=e,d=Jx(e,qx),p=a||i.size||"1em",f;return i.className&&(f=i.className),e.className&&(f=(f?f+" ":"")+e.className),Zt.createElement("svg",Ss({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},i.attr,s,d,{className:f,style:bs(bs({color:e.color||i.color},i.style),e.style),height:p,width:p,xmlns:"http://www.w3.org/2000/svg"}),u&&Zt.createElement("title",null,u),e.children)};return dh!==void 0?Zt.createElement(dh.Consumer,null,i=>t(i)):t(Up)}function r_(e){return Gi({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(e)}function fh(e){return Gi({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(e)}function o_(e){return Gi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(e)}function s_(e){return Gi({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M610.5 373.3c2.6-14.1 2.6-28.5 0-42.6l25.8-14.9c3-1.7 4.3-5.2 3.3-8.5-6.7-21.6-18.2-41.2-33.2-57.4-2.3-2.5-6-3.1-9-1.4l-25.8 14.9c-10.9-9.3-23.4-16.5-36.9-21.3v-29.8c0-3.4-2.4-6.4-5.7-7.1-22.3-5-45-4.8-66.2 0-3.3.7-5.7 3.7-5.7 7.1v29.8c-13.5 4.8-26 12-36.9 21.3l-25.8-14.9c-2.9-1.7-6.7-1.1-9 1.4-15 16.2-26.5 35.8-33.2 57.4-1 3.3.4 6.8 3.3 8.5l25.8 14.9c-2.6 14.1-2.6 28.5 0 42.6l-25.8 14.9c-3 1.7-4.3 5.2-3.3 8.5 6.7 21.6 18.2 41.1 33.2 57.4 2.3 2.5 6 3.1 9 1.4l25.8-14.9c10.9 9.3 23.4 16.5 36.9 21.3v29.8c0 3.4 2.4 6.4 5.7 7.1 22.3 5 45 4.8 66.2 0 3.3-.7 5.7-3.7 5.7-7.1v-29.8c13.5-4.8 26-12 36.9-21.3l25.8 14.9c2.9 1.7 6.7 1.1 9-1.4 15-16.2 26.5-35.8 33.2-57.4 1-3.3-.4-6.8-3.3-8.5l-25.8-14.9zM496 400.5c-26.8 0-48.5-21.8-48.5-48.5s21.8-48.5 48.5-48.5 48.5 21.8 48.5 48.5-21.7 48.5-48.5 48.5zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm201.2 226.5c-2.3-1.2-4.6-2.6-6.8-3.9l-7.9 4.6c-6 3.4-12.8 5.3-19.6 5.3-10.9 0-21.4-4.6-28.9-12.6-18.3-19.8-32.3-43.9-40.2-69.6-5.5-17.7 1.9-36.4 17.9-45.7l7.9-4.6c-.1-2.6-.1-5.2 0-7.8l-7.9-4.6c-16-9.2-23.4-28-17.9-45.7.9-2.9 2.2-5.8 3.2-8.7-3.8-.3-7.5-1.2-11.4-1.2h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c10.1 0 19.5-3.2 27.2-8.5-1.2-3.8-2-7.7-2-11.8v-9.2z"},child:[]}]})(e)}function yi(e){return Gi({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zM104 424c0 13.3 10.7 24 24 24s24-10.7 24-24-10.7-24-24-24-24 10.7-24 24zm216-135.4v49c36.5 7.4 64 39.8 64 78.4v41.7c0 7.6-5.4 14.2-12.9 15.7l-32.2 6.4c-4.3.9-8.5-1.9-9.4-6.3l-3.1-15.7c-.9-4.3 1.9-8.6 6.3-9.4l19.3-3.9V416c0-62.8-96-65.1-96 1.9v26.7l19.3 3.9c4.3.9 7.1 5.1 6.3 9.4l-3.1 15.7c-.9 4.3-5.1 7.1-9.4 6.3l-31.2-4.2c-7.9-1.1-13.8-7.8-13.8-15.9V416c0-38.6 27.5-70.9 64-78.4v-45.2c-2.2.7-4.4 1.1-6.6 1.9-18 6.3-37.3 9.8-57.4 9.8s-39.4-3.5-57.4-9.8c-7.4-2.6-14.9-4.2-22.6-5.2v81.6c23.1 6.9 40 28.1 40 53.4 0 30.9-25.1 56-56 56s-56-25.1-56-56c0-25.3 16.9-46.5 40-53.4v-80.4C48.5 301 0 355.8 0 422.4v44.8C0 491.9 20.1 512 44.8 512h358.4c24.7 0 44.8-20.1 44.8-44.8v-44.8c0-72-56.8-130.3-128-133.8z"},child:[]}]})(e)}function ph(e){return Gi({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(e)}function a_(){const{state:e}=b.useContext(Mt),{userState:t,user:i,userPhotoUrl:s,branch:a}=e,[u,d]=b.useState(!1),p=zt(),f=eo(),m=()=>{p("/")},x=()=>{p("")},j=()=>o.jsxs("div",{style:O.container,children:[o.jsxs(Rt,{to:"",style:S(""),children:[o.jsx(fh,{})," Home"]}),o.jsxs(Rt,{to:"manage-administrators",style:S("manage-administrators"),children:[o.jsx(ph,{})," Manage Administrators"]}),o.jsxs(Rt,{to:"organisation-signup",style:S("organisation-signup"),children:[o.jsx(s_,{})," Organisation Signup"]}),o.jsxs(Rt,{to:"manage-organisations",style:S("manage-organisations"),children:[o.jsx(ph,{})," Manage Dispensaries"]}),o.jsxs(Rt,{to:"clinician-signup",style:S("clinician-signup"),children:[o.jsx(yi,{})," Clinician Signup-"]}),o.jsxs(Rt,{to:"manage-clinicians",style:S("manage-clinicians"),children:[o.jsx(yi,{})," Manage Clinicians"]}),o.jsxs(Rt,{to:"patient-signup",style:S("patient-signup"),children:[o.jsx(yi,{})," Patient Signup"]}),o.jsxs(Rt,{to:"manage-patients",style:S("manage-patients"),children:[o.jsx(yi,{})," Manage Patients"]}),o.jsxs(Rt,{to:"prescribeng-services",style:S("prescribeng-services"),children:[o.jsx(yi,{})," Manage Services"]}),o.jsxs(Rt,{to:"ambulance-fleet",style:S("ambulance-fleet"),children:[o.jsx(yi,{})," Ambulance Call Centre"]}),o.jsxs(Rt,{to:"notifications",style:S("notifications"),children:[o.jsx(r_,{})," Notifications"]})]}),S=v=>f.pathname.split("/").pop()===v?{...O.general,backgroundColor:"#3498db"}:O.general,O={container:{display:"flex",flexDirection:"column",alignItems:"center",paddingTop:"20px"},general:{display:"flex",alignItems:"center",color:"white",backgroundColor:"#333",padding:"12px 18px",margin:"10px 0",textDecoration:"none",borderRadius:"8px",width:"90%",justifyContent:"center",fontSize:"1.1rem",transition:"background-color 0.3s ease"}},C={page:{color:"black",height:"100vh",width:"100vw",overflowY:"hidden",display:"flex"},header:{position:"sticky",top:"15px",color:"#333",height:"10vh",width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 20px",boxShadow:"0 2px 5px rgba(0, 0, 0, 0.1)"},headerText:{fontSize:"1.3rem",fontWeight:"bold"},photoContainer:{position:"sticky",top:"10px",left:"80px",backgroundColor:"#fff",height:"150px",width:"200px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"10px",border:"1px solid #ddd",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)",overflow:"hidden"},image:{height:"100%",width:"100%",objectFit:"cover"},placeholderText:{color:"#666",fontSize:"16px",fontStyle:"italic",textAlign:"center"},logoutButton:{position:"absolute",top:"10px",right:"50px",backgroundColor:"#FF4747",color:"white",borderRadius:"5px",padding:"10px 20px",cursor:"pointer",fontSize:"1.1rem",border:"none",transition:"background-color 0.3s ease"},workStationNavButton:{position:"absolute",top:"50px",right:"50px",backgroundColor:"#3498db",color:"white",borderRadius:"5px",padding:"10px 20px",cursor:"pointer",fontSize:"1.1rem",border:"none",transition:"background-color 0.3s ease"},sideBar:{height:"95vh",width:"220px",backgroundColor:"#2c3e50",color:"white",margin:"15px",borderRadius:"10px",paddingLeft:"20px",paddingRight:"20px",borderTopRightRadius:"10px",borderBottomRightRadius:"10px",overflowY:"auto"},displayBoard:{flex:1,marginLeft:"0px",padding:"20px",backgroundColor:"#ecf0f1",height:"94vh"}};return o.jsxs("div",{style:{...C.page,cursor:u?"wait":"default"},children:[o.jsxs("div",{style:C.sideBar,children:[o.jsx("div",{style:C.photoContainer,children:s?o.jsx("img",{src:s,style:C.image,alt:"User's photo"}):o.jsx("div",{style:C.placeholderText,children:"Photo Not Found"})}),o.jsx("p",{style:{position:"sticky",top:"170px",backgroundColor:"#2c3e50"},children:o.jsxs("strong",{children:["User: ",i," (",t,")"]})}),j()]}),o.jsxs("div",{style:C.displayBoard,children:[o.jsx("div",{style:C.header,children:o.jsxs("p",{style:C.headerText,children:[o.jsx(fh,{style:{cursor:"pointer"},onClick:x}),"/",f.pathname.split("/").pop()]})}),o.jsx(zx,{})]}),o.jsxs("button",{onClick:m,style:C.logoutButton,children:[o.jsx(o_,{})," Logout"]})]})}const Ha=[{id:1,title:"PRESCRIBE.NG",subtitle:"Highly versitile and adaptable medical referral system for al kinds of medical referrals",image:"/images/welcome.jpg"},{id:2,title:"Cutting-Edge Medical Referrals",subtitle:"Connecting Physicians and Patients Effortlessly",image:"/images/referral.jpg"},{id:3,title:"Partner with Us",subtitle:"Innovative Healthcare Solutions for Every Community",image:"/images/partner.jpg"},{id:4,title:"Join the Future of Healthcare referrals in the UK",subtitle:"Highly-adaptable. Hassle-free. Minimal clicks. Seamless. Highly secure.",image:"/images/future.jpg"}],l_=()=>{const[e,t]=b.useState(0);b.useEffect(()=>{const m=setInterval(()=>{t(x=>(x+1)%Ha.length)},8e3);return()=>clearInterval(m)},[]);const i={position:"relative",width:"100%",height:"80vh",overflow:"hidden"},s=(m,x)=>({position:"absolute",width:"100%",height:"100%",backgroundSize:"cover",backgroundPosition:"center",backgroundImage:`url(${m})`,backgroundColor:"white",opacity:x?1:0,transform:x?"translateX(0)":"translateX(100%)",transition:"all 1s ease-in-out"}),a={position:"absolute",bottom:"20%",left:"10%",color:"white",textShadow:"2px 2px 8px rgba(0, 0, 0, 0.5)"},u={fontSize:"3rem",margin:0},d={fontSize:"1.5rem",marginTop:"10px"},p={position:"absolute",bottom:"10px",left:"50%",transform:"translateX(-50%)",display:"flex"},f=m=>({width:"12px",height:"12px",borderRadius:"50%",backgroundColor:"white",margin:"0 5px",cursor:"pointer",opacity:m?1:.5,transition:"opacity 0.3s ease"});return o.jsxs("div",{style:i,children:[Ha.map((m,x)=>o.jsx("div",{style:s(m.image,x===e),children:o.jsxs("div",{style:a,children:[o.jsx("h1",{style:u,children:m.title}),o.jsx("p",{style:d,children:m.subtitle})]})},m.id)),o.jsx("div",{style:p,children:Ha.map((m,x)=>o.jsx("span",{style:f(x===e),onClick:()=>t(x)},x))})]})};var Wp={exports:{}};(function(e,t){(function(s,a){e.exports=a(b)})(mh,function(i){return function(s){var a={};function u(d){if(a[d])return a[d].exports;var p=a[d]={i:d,l:!1,exports:{}};return s[d].call(p.exports,p,p.exports,u),p.l=!0,p.exports}return u.m=s,u.c=a,u.d=function(d,p,f){u.o(d,p)||Object.defineProperty(d,p,{enumerable:!0,get:f})},u.r=function(d){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},u.t=function(d,p){if(p&1&&(d=u(d)),p&8||p&4&&typeof d=="object"&&d&&d.__esModule)return d;var f=Object.create(null);if(u.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:d}),p&2&&typeof d!="string")for(var m in d)u.d(f,m,(function(x){return d[x]}).bind(null,m));return f},u.n=function(d){var p=d&&d.__esModule?function(){return d.default}:function(){return d};return u.d(p,"a",p),p},u.o=function(d,p){return Object.prototype.hasOwnProperty.call(d,p)},u.p="",u(u.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(s,a,u){u.r(a);var d=u("react"),p=function(){var S=function(O,C){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,E){v.__proto__=E}||function(v,E){for(var y in E)E.hasOwnProperty(y)&&(v[y]=E[y])},S(O,C)};return function(O,C){S(O,C);function v(){this.constructor=O}O.prototype=C===null?Object.create(C):(v.prototype=C.prototype,new v)}}(),f=function(){return f=Object.assign||function(S){for(var O,C=1,v=arguments.length;C<v;C++){O=arguments[C];for(var E in O)Object.prototype.hasOwnProperty.call(O,E)&&(S[E]=O[E])}return S},f.apply(this,arguments)},m=function(S,O){var C={};for(var v in S)Object.prototype.hasOwnProperty.call(S,v)&&O.indexOf(v)<0&&(C[v]=S[v]);if(S!=null&&typeof Object.getOwnPropertySymbols=="function")for(var E=0,v=Object.getOwnPropertySymbols(S);E<v.length;E++)O.indexOf(v[E])<0&&Object.prototype.propertyIsEnumerable.call(S,v[E])&&(C[v[E]]=S[v[E]]);return C};(function(){typeof window>"u"||(navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(O){var C=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return C?new Promise(function(v,E){C.call(navigator,O,v,E)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}))})();function x(){return!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)}var j=function(S){p(O,S);function O(C){var v=S.call(this,C)||this;return v.canvas=null,v.ctx=null,v.requestUserMediaId=0,v.unmounted=!1,v.state={hasUserMedia:!1},v}return O.prototype.componentDidMount=function(){var C=this,v=C.state,E=C.props;if(this.unmounted=!1,!x()){E.onUserMediaError("getUserMedia not supported");return}v.hasUserMedia||this.requestUserMedia(),E.children&&typeof E.children!="function"&&console.warn("children must be a function")},O.prototype.componentDidUpdate=function(C){var v=this.props;if(!x()){v.onUserMediaError("getUserMedia not supported");return}var E=JSON.stringify(C.audioConstraints)!==JSON.stringify(v.audioConstraints),y=JSON.stringify(C.videoConstraints)!==JSON.stringify(v.videoConstraints),_=C.minScreenshotWidth!==v.minScreenshotWidth,w=C.minScreenshotHeight!==v.minScreenshotHeight;(y||_||w)&&(this.canvas=null,this.ctx=null),(E||y)&&(this.stopAndCleanup(),this.requestUserMedia())},O.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},O.stopMediaStream=function(C){C&&(C.getVideoTracks&&C.getAudioTracks?(C.getVideoTracks().map(function(v){C.removeTrack(v),v.stop()}),C.getAudioTracks().map(function(v){C.removeTrack(v),v.stop()})):C.stop())},O.prototype.stopAndCleanup=function(){var C=this.state;C.hasUserMedia&&(O.stopMediaStream(this.stream),C.src&&window.URL.revokeObjectURL(C.src))},O.prototype.getScreenshot=function(C){var v=this,E=v.state,y=v.props;if(!E.hasUserMedia)return null;var _=this.getCanvas(C);return _&&_.toDataURL(y.screenshotFormat,y.screenshotQuality)},O.prototype.getCanvas=function(C){var v=this,E=v.state,y=v.props;if(!this.video||!E.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var _=this.video.videoWidth,w=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var I=_/w;_=y.minScreenshotWidth||this.video.clientWidth,w=_/I,y.minScreenshotHeight&&w<y.minScreenshotHeight&&(w=y.minScreenshotHeight,_=w*I)}this.canvas=document.createElement("canvas"),this.canvas.width=(C==null?void 0:C.width)||_,this.canvas.height=(C==null?void 0:C.height)||w,this.ctx=this.canvas.getContext("2d")}var U=this,G=U.ctx,$=U.canvas;return G&&$&&($.width=(C==null?void 0:C.width)||$.width,$.height=(C==null?void 0:C.height)||$.height,y.mirrored&&(G.translate($.width,0),G.scale(-1,1)),G.imageSmoothingEnabled=y.imageSmoothing,G.drawImage(this.video,0,0,(C==null?void 0:C.width)||$.width,(C==null?void 0:C.height)||$.height),y.mirrored&&(G.scale(-1,1),G.translate(-$.width,0))),$},O.prototype.requestUserMedia=function(){var C=this,v=this.props,E=function(w,I){var U={video:typeof I<"u"?I:!0};v.audio&&(U.audio=typeof w<"u"?w:!0),C.requestUserMediaId++;var G=C.requestUserMediaId;navigator.mediaDevices.getUserMedia(U).then(function($){C.unmounted||G!==C.requestUserMediaId?O.stopMediaStream($):C.handleUserMedia(null,$)}).catch(function($){C.handleUserMedia($)})};if("mediaDevices"in navigator)E(v.audioConstraints,v.videoConstraints);else{var y=function(w){return{optional:[{sourceId:w}]}},_=function(w){var I=w.deviceId;return typeof I=="string"?I:Array.isArray(I)&&I.length>0?I[0]:typeof I=="object"&&I.ideal?I.ideal:null};MediaStreamTrack.getSources(function(w){var I=null,U=null;w.forEach(function(P){P.kind==="audio"?I=P.id:P.kind==="video"&&(U=P.id)});var G=_(v.audioConstraints);G&&(I=G);var $=_(v.videoConstraints);$&&(U=$),E(y(I),y(U))})}},O.prototype.handleUserMedia=function(C,v){var E=this.props;if(C||!v){this.setState({hasUserMedia:!1}),E.onUserMediaError(C);return}this.stream=v;try{this.video&&(this.video.srcObject=v),this.setState({hasUserMedia:!0})}catch{this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(v)})}E.onUserMedia(v)},O.prototype.render=function(){var C=this,v=this,E=v.state,y=v.props,_=y.audio;y.forceScreenshotSourceSize;var w=y.disablePictureInPicture;y.onUserMedia,y.onUserMediaError,y.screenshotFormat,y.screenshotQuality,y.minScreenshotWidth,y.minScreenshotHeight,y.audioConstraints,y.videoConstraints,y.imageSmoothing;var I=y.mirrored,U=y.style,G=U===void 0?{}:U,$=y.children,P=m(y,["audio","forceScreenshotSourceSize","disablePictureInPicture","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),T=I?f(f({},G),{transform:(G.transform||"")+" scaleX(-1)"}):G,N={getScreenshot:this.getScreenshot.bind(this)};return d.createElement(d.Fragment,null,d.createElement("video",f({autoPlay:!0,disablePictureInPicture:w,src:E.src,muted:!_,playsInline:!0,ref:function(R){C.video=R},style:T},P)),$&&$(N))},O.defaultProps={audio:!1,disablePictureInPicture:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},O}(d.Component);a.default=j},react:function(s,a){s.exports=i}}).default})})(Wp);var u_=Wp.exports;const to=Wl(u_);function c_(){const{state:e}=b.useContext(Mt),{spineUrl:t,token:i,accessLevel:s,allStates:a,department:u,referenceLibrary:d}=e,[p,f]=b.useState([]),[m,x]=b.useState("home"),[j,S]=b.useState("view-mode");b.useState({});const[O,C]=b.useState([]),[v,E]=b.useState({}),[y,_]=b.useState(""),[w,I]=b.useState(""),[U,G]=b.useState(""),[$,P]=b.useState(""),[T,N]=b.useState("");zt();const[R,Z]=b.useState(!1),[ee,F]=b.useState(!1),[me,se]=b.useState(!1),[fe,D]=b.useState("table"),[ne,K]=b.useState({}),[ue,ge]=b.useState([]);b.useEffect(()=>{(async()=>{Z(!0);try{const M=await fetch(`${t}/organisations/fetch_dispensaries?state=${encodeURIComponent($)}&locality=${encodeURIComponent(T)}&category=${encodeURIComponent(w)}&approvalStatus=${encodeURIComponent(U)}&q=${encodeURIComponent(y)}`,{method:"GET",headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"}});if(M.ok){const A=await M.json();C(A.dispensaries)}else{const A=await M.json();alert(A.message)}}catch(M){console.error("Error fetching dispensaries:",M),alert("could not fetch dispensaries")}finally{Z(!1)}})()},[t,$,T,w,U,y,ee]),b.useEffect(()=>{(async()=>{Z(!0);try{const M=await fetch(`${t}/organisations/fetch_approved_localities?state=${encodeURIComponent($)}`,{method:"GET",headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"}});if(M.ok){const A=await M.json();f(A.localities),F(V=>!V)}else{const A=await M.json();alert(A.message)}}catch(M){console.error("Error fetching approved localities:",M),alert("could not fetch approved localities")}finally{Z(!1)}})()},[t,$]);const Pe=J=>{E(J),x("organisationDashboard")},we=async()=>{if(!confirm("By this action, you're assuming responsibility of changes being made. Do you want to go ahead?")){alert("Action cancelled!");return}try{const M=await fetch(`${t}/organisations/update_bank_details`,{method:"POST",headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"},body:JSON.stringify(v)});if(M.ok){const A=await M.json();alert(A.message)}else{const A=await M.json();alert(A.message)}}catch(M){console.error("Submission error:",M),alert("An error occurred creating new service")}},Q=async J=>{if(!confirm("By this action, you're assuming responsibility of changes being made. Do you want to go ahead?")){alert("Action cancelled!");return}try{const A=await fetch(`${t}/organisations/modify_dispensary`,{method:"POST",headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"},body:JSON.stringify({dispensaryID:v.dispensaryID,action:J})});if(A.ok){const V=await A.json();alert(V.message)}else{const V=await A.json();alert(V.message)}}catch(A){console.error("Submission error:",A),alert("An error occurred creating new service")}},he=async()=>{if(!confirm("By this action, you're assuming responsibility of changes being made. Ensure organisation has sent a request through their official email and copied at least one of the key persons, who should have also responded. Organisation's whitelisted IP addresses will be deleted and a new IP address set for the main branch. Do you want to go ahead?")){alert("Action cancelled!");return}const M=prompt("Provide new IPv4 address");if(!M){alert("No IPv4 Uploaded!");return}try{const A=await fetch(`${t}/organisations/reset_network`,{method:"POST",headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"},body:JSON.stringify({dispensaryID:v.dispensaryID,newIP:M})});if(A.ok){const V=await A.json();alert(V.message)}else{const V=await A.json();alert(V.message)}}catch(A){console.error("Submission error:",A),alert("An error occurred creating new service")}};b.useRef(null);const te=J=>new Promise((M,A)=>{const V=new FileReader;V.onloadend=()=>M(V.result.split(",")[1]),V.onerror=A,V.readAsDataURL(J)}),ae=async()=>{if(!confirm("Confirm Image Upload")){alert("New Patient creation cancelled!"),E({...v,newLogo:null});return}const M=v.newLogo;if(M){const A=new FileReader;A.onloadend=async()=>{const V=A.result.split(",")[1];try{const oe=await fetch(`${t}/organisations/logo_upload`,{method:"POST",headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"},body:JSON.stringify({dispensaryID:v.dispensaryID,newLogo:V})});if(oe.ok){const Ce=await oe.json();Ce.newLogoUrl&&E({...v,logoUrl:Ce.newLogoUrl}),x("organisationDashboard"),E({...v,newLogo:null})}else{const Ce=await oe.json();alert(Ce.message)}}catch(oe){console.error("Submission error:",oe),alert("An error occurred while uploading the new logo")}},A.readAsDataURL(M)}else alert("No image selected!")},W=J=>{const{name:M,type:A,files:V}=J.target;if(A==="file"){const oe=Array.from(V);ge(Ce=>({...Ce,[M]:[...Ce[M]||[],...oe]}))}},ze=J=>{ge(M=>{const A=[...M.uploads];return A.splice(J,1),{uploads:A}})},q=async()=>{if(confirm("Confirm submission")){const M=await Promise.all(ue.uploads.map(async A=>{const V=await te(A);return{name:A.name,content:V}}));try{const A=await fetch(`${t}/organisations/file_upload`,{method:"POST",headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"},body:JSON.stringify({dispensaryID:v.dispensaryID,registrationNumber:v.registrationNumber,uploads:M})});if(A.ok){const V=await A.json();E({...v,documents:V.documents}),D("table")}else{const V=await A.json();alert(V.message)}}catch(A){console.error("File upload error:",A),alert("An error occurred uploading files")}}else alert("File upload cancelled!")},ie=async()=>{if(!ne.validity){alert("Document validity missing!");return}confirm("Ensure due diligence has been done on file before modifying file verification status.")||alert("File verification cancelled!");try{const M=await fetch(`${t}/organisations/file_verification`,{method:"POST",headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"},body:JSON.stringify({dispensaryID:v.dispensaryID,registrationNumber:v.registrationNumber,fileKey:ne.fileKey,validity:ne.validity,verification:"verified"})});if(M.ok){const A=await M.json();E({...v,documents:A.documents}),D("table"),se(!1)}else{const A=await M.json();alert(A.message)}}catch(M){console.error("File verification error:",M),alert("An error occurred uploading files")}},de=async()=>{if(!ne.validity){alert("Document validity missing!");return}confirm("Ensure due diligence has been done on file before modifying file verification status.")||alert("File verification cancelled!");try{const M=await fetch(`${t}/organisations/file_verification`,{method:"POST",headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"},body:JSON.stringify({dispensaryID:v.dispensaryID,registrationNumber:v.registrationNumber,fileKey:ne.fileKey,validity:ne.validity,verification:"unverified"})});if(M.ok){const A=await M.json();E({...v,documents:A.documents}),D("table"),se(!1)}else{const A=await M.json();alert(A.message)}}catch(M){console.error("File verification error:",M),alert("An error occurred uploading files")}},X={container:{width:"90%",height:"65vh",margin:"0 auto",padding:"20px",backgroundColor:"#ffffff",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",overflowY:"auto"},profileContainer:{width:"90%",height:"60vh",textAlign:"left",margin:"0 auto",padding:"20px",backgroundColor:"#ffffff",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)"},title:{fontSize:"1.5em",marginBottom:"20px",color:"#333",textAlign:"center"},topSection:{backgroundColor:"white"},keyPerson1:{backgroundColor:"yellow"},keyPerson2:{backgroundColor:"grey"},label:{display:"block",fontSize:"0.9em",color:"#555",marginBottom:"8px",width:"98%"},input:{width:"100%",padding:"10px",marginBottom:"15px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"1em",backgroundColor:"white",color:"black"},textarea:{width:"100%",padding:"10px",marginBottom:"15px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"1em",resize:"vertical",minHeight:"80px",backgroundColor:"white",color:"black"},TCBody:{height:"60vh",width:"100%",overflowY:"auto",margin:"20px",textAlign:"left"},button:{padding:"10px",backgroundColor:"#007BFF",color:"#FFF",border:"none",cursor:"pointer",margin:"5px"},TCButton2:{height:"50px",width:"200px",borderRadius:"5px",backgroundColor:"#2C2C2C",color:"white",cursor:"pointer"},TCButton:{padding:"10px 20px",backgroundColor:"#007bff",color:"white",cursor:"pointer",borderRadius:"4px",textAlign:"center"},buttonContainer:{display:"flex",justifyContent:"space-between",gap:"10px",marginTop:"20px"},submitButton:{backgroundColor:"#4CAF50",color:"white",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"1em",flex:1},cancelButton:{backgroundColor:"#f44336",color:"white",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"1em",flex:1},specialOptions:{display:s<=3?"inline-block":"none"},photo:{margin:"20px",backgroundColor:"#fff",height:"150px",width:"200px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"10px",border:"1px solid #ddd",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)",overflow:"hidden"},image:{height:"100%",width:"100%",objectFit:"cover"},photoContainer:{position:"sticky",top:"10px",left:"80px",backgroundColor:"#fff",height:"300px",width:"300px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"10px",border:"1px solid #ddd",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)",overflow:"hidden",marginRight:"20px"},photoContainer2:{position:"sticky",top:"10px",left:"80px",backgroundColor:"#fff",height:"300px",width:"300px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"10px",border:"1px solid #ddd",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)",overflow:"hidden"},placeholderText:{color:"#666",fontSize:"16px",fontStyle:"italic",textAlign:"center"},tableContainer:{height:"79vh",backgroundColor:"white",width:"100%"},table:{width:"95%",borderCollapse:"collapse",marginTop:"20px"},thead:{backgroundColor:"grey",position:"sticky",top:"0px",zIndex:2e3},serviceTypeSelector:{backgroundColor:"#2c3e50",color:"white",right:"20px",width:"25%",height:"25px",top:"120px"},searchContainer:{backgroundColor:"grey",alignItems:"left",justifyContent:"left"},searchField:{backgroundColor:"white",color:"black",right:"20px",width:"25%",height:"25px",top:"120px"},topCloseButton:{height:"30px",width:"100px",backgroundColor:"red",cursor:"pointer"},docVerificationOverlay:{display:me?"block":"none",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:2e3,pointerEvents:"auto",width:"40%",height:"40%",backgroundColor:"grey",textAlign:"center"},uploadfield:{padding:"20px",border:"1px solid #ccc",borderRadius:"8px"},uploadInput:{marginBottom:"10px"},uploadedFiles:{marginTop:"10px",listStyleType:"none",padding:"0",minHeight:"4vh"},uploadItem:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},removeFileButton:{color:"red",cursor:"pointer"}},vt=J=>({backgroundColor:J%2===0?"#f9f9f9":"#e0e0e0",cursor:"pointer"});return o.jsxs("div",{style:{cursor:R?"progress":"default"},children:[m==="home"&&o.jsxs("div",{children:[o.jsx("h2",{children:"PRESCRIBENG SERVICES SECTION"}),o.jsxs("div",{style:X.TCBody,children:[o.jsx("h3",{children:"WARNING"}),o.jsx("p",{children:"This page is strictly for personnels of the medical department and includes the following roles: doctor, nurse, pharmacies, radiographers, laboratory scientist"}),o.jsx("p",{children:"If you do not belong to the medical department and one of the mentioned roles, exit the page immediately and report to the technical team."})]}),o.jsx("span",{style:X.TCButton,onClick:()=>x("tableHome"),children:"View Organisations"})]}),m==="tableHome"&&o.jsx("div",{children:o.jsx("div",{style:X.container,children:o.jsxs("div",{style:X.tableContainer,children:[o.jsxs("div",{style:X.searchContainer,children:[o.jsxs("select",{style:X.serviceTypeSelector,value:w,onChange:J=>I(J.target.value),children:[o.jsx("option",{value:"",children:"Select Organisation Category"}),o.jsx("option",{value:"ambulance",children:"Ambulance Company"}),o.jsx("option",{value:"clinic",children:"Clinic"}),o.jsx("option",{value:"hospital",children:"Hospital"}),o.jsx("option",{value:"pharmacy",children:"Pharmacy"}),o.jsx("option",{value:"sponsor",children:"Sponsor Organisation"}),o.jsx("option",{style:X.specialOptions,value:"authority",children:"Authority"})]}),o.jsxs("select",{style:X.serviceTypeSelector,value:U,onChange:J=>G(J.target.value),children:[o.jsx("option",{value:"",children:"Select Status"}),o.jsx("option",{value:"approved",children:"Approved Partners"}),o.jsx("option",{value:"unapproved",children:"New Partners"}),o.jsx("option",{value:"suspended",children:"Suspended"}),o.jsx("option",{value:"reported",children:"Under Investigation"}),o.jsx("option",{value:"banned",children:"Banned"})]}),o.jsxs("select",{style:X.serviceTypeSelector,value:$,onChange:J=>P(J.target.value),children:[o.jsx("option",{value:"",children:"Select State"}),a.map(J=>o.jsx("option",{children:J},J))]}),o.jsxs("select",{style:X.serviceTypeSelector,value:T,onChange:J=>N(J.target.value),children:[o.jsx("option",{value:"",children:"Select Locality"}),p.map(J=>o.jsx("option",{children:J},J))]}),o.jsx("input",{style:X.searchField,value:y,onChange:J=>_(J.target.value),placeholder:"Search here for services"}),o.jsx("span",{onClick:()=>x("home"),style:{position:"relative",top:"0px",right:"0px",textAlign:"right"},children:"Close"})]}),o.jsxs("table",{style:{width:"100%"},children:[o.jsx("thead",{style:X.thead,children:o.jsxs("tr",{children:[o.jsx("th",{children:"S/N"}),o.jsx("th",{children:"Organisation"}),o.jsx("th",{children:"Category"}),o.jsx("th",{children:"Dispensary ID"}),o.jsx("th",{children:"State"}),o.jsx("th",{children:"Locality"}),o.jsx("th",{children:"Email"}),o.jsx("th",{children:"Status"})]})}),o.jsx("tbody",{children:O.map((J,M)=>o.jsxs("tr",{style:vt(M),onClick:()=>Pe(J),children:[o.jsx("td",{children:M+1}),o.jsx("td",{children:J.organisation}),o.jsx("td",{children:J.category}),o.jsx("td",{children:J.dispensaryID}),o.jsx("td",{children:J.state}),o.jsx("td",{children:J.locality}),o.jsx("td",{children:J.organisationEmail}),o.jsx("td",{children:J.approvalStatus})]},J))})]})]})})}),m==="organisationDashboard"&&o.jsx("div",{children:o.jsxs("div",{style:X.profileContainer,children:[o.jsx("h3",{children:v.organisation.toUpperCase()}),o.jsxs("div",{style:{display:"flex",flexDirection:"row",height:"80%"},children:[o.jsxs("div",{children:[o.jsx("div",{style:X.photoContainer,children:v.logoUrl?o.jsx("img",{src:v.logoUrl,style:X.image,alt:"User's photo"}):o.jsx("div",{style:X.placeholderText,children:"Photo Not Found"})}),o.jsx("span",{style:{textDecoration:"underline",cursor:"pointer"},onClick:()=>x("Logo Upload"),children:"Upload Logo"})]}),o.jsxs("div",{style:{width:"35%",height:"100%",overflowY:"auto"},children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Category: "}),v.category]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Organisation Email: "}),v.organisationEmail]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Telephone: "}),v.telephone]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Status: "}),v.approvalStatus]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Added On: "}),v.createdOn]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Added By: "}),v.createdBy]}),o.jsxs("p",{style:{display:v.approvalStatus==="approved"?"inline-block":"none"},children:[o.jsx("strong",{children:"Approved By: "}),v.approvedBy]}),o.jsx("br",{})]}),o.jsxs("div",{style:{height:"100%",display:"flex",flexDirection:"column",width:"35%",overflowY:"auto",marginLeft:"30px"},children:[o.jsx("h3",{children:"Key Persons"}),v.keyPersons.map((J,M)=>o.jsxs("div",{style:{lineHeight:"0.5",borderRadius:"10px",backgroundColor:"#F9F9F9",display:"inline-block",marginBottom:"10px"},children:[o.jsx("p",{children:J.name}),o.jsxs("p",{children:["Role: ",J.role]}),o.jsxs("p",{children:["Email: ",J.email]})]},M))]})]}),o.jsx("button",{style:{...X.button,display:s===1||u==="marketing"&&s<=4?"inline-block":"none"},onClick:()=>Q("approved"),children:"Approve"}),o.jsx("button",{style:{...X.button,display:s===1||u==="marketing"&&s<=4?"inline-block":"none"},onClick:()=>Q("suspended"),children:"Suspend"}),o.jsx("button",{style:{...X.button,display:s===1||u==="marketing"&&s<=4?"inline-block":"none"},onClick:()=>Q("reported"),children:"Report"}),o.jsx("button",{style:{...X.button,display:s===1||u==="marketing"&&s<=4?"inline-block":"none"},onClick:()=>Q("banned"),children:"Ban"}),o.jsx("button",{style:{...X.button,display:s===1||u==="IT"&&s<=4?"inline-block":"none"},onClick:he,children:"Reset Network"}),o.jsx("button",{style:{...X.button,display:s===1||u==="marketing"&&s<=4?"inline-block":"none"},onClick:()=>x("Bank Details"),children:"Bank Details"}),o.jsx("button",{style:{...X.button},onClick:()=>x("Documents"),children:"Documents"}),o.jsx("button",{style:{...X.button},onClick:()=>{x("tableHome"),F(J=>!J)},children:"Back"})]})}),m==="Bank Details"&&o.jsxs("div",{children:[" ",o.jsxs("div",{style:X.profileContainer,children:[o.jsx("h3",{children:v.organisation.toUpperCase()}),"Bank Details Will be managed here",o.jsxs("div",{style:{display:"flex",flexDirection:"row",height:"80%"},children:[o.jsx("div",{children:o.jsx("div",{style:X.photoContainer,children:v.logoUrl?o.jsx("img",{src:v.logoUrl,style:X.image,alt:"User's photo"}):o.jsx("div",{style:X.placeholderText,children:"Photo Not Found"})})}),o.jsxs("div",{style:{width:"65%",height:"100%",overflowY:"auto"},children:[j==="view-mode"&&o.jsxs("div",{children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Bank: "}),v.bank]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Bank Code: "}),v.bankCode]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Nuban: "}),v.nuban]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Sort Code: "}),v.sortCode]}),o.jsx("span",{style:X.TCButton,onClick:()=>S("edit-mode"),children:"Edit"})]}),j==="edit-mode"&&o.jsxs("div",{children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Bank: "}),o.jsx("input",{style:{backgroundColor:"white",color:"black"},value:v.bank,onChange:J=>E({...v,bank:J.target.value})})]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Bank Code: "}),o.jsx("input",{style:{backgroundColor:"white",color:"black"},value:v.bankCode,onChange:J=>E({...v,bankCode:J.target.value})})]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Nuban: "}),o.jsx("input",{style:{backgroundColor:"white",color:"black"},value:v.nuban,onChange:J=>E({...v,nuban:J.target.value})})]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Sort Code: "}),o.jsx("input",{style:{backgroundColor:"white",color:"black"},value:v.sortCode,onChange:J=>E({...v,sortCode:J.target.value})})]}),o.jsx("span",{style:X.TCButton,onClick:we,children:"Update Bank Details"})]})]})]})]}),o.jsx("span",{style:X.TCButton,onClick:()=>{x("organisationDashboard"),S("view-mode")},children:"Back"})]}),m==="logo upload"&&o.jsxs("div",{children:[" ",o.jsx("div",{style:X.profileContainer,children:"Logo Will be upload through this page"}),o.jsx("span",{style:X.TCButton,onClick:()=>x("organisationDashboard"),children:"Back"})]}),m==="Logo Upload"&&o.jsx("div",{style:{width:"100%"},children:o.jsx("div",{style:X.profileContainer,children:o.jsxs("div",{style:{display:"flex",flexDirection:"row"},children:[o.jsxs("div",{style:{...X.section,marginRight:"20px"},children:[o.jsxs("h3",{children:["Logo Preview for ",v.organisation]}),o.jsx("div",{style:X.photoContainer2,children:v.newLogo?o.jsx("img",{src:v.newLogo,alt:"Captured",width:400}):o.jsx("div",{style:X.placeholderText,children:"No Logo Uploaded"})}),o.jsx("div",{children:o.jsx("input",{type:"file",onChange:J=>E({...v,newLogo:J.target.files[0]})})}),o.jsx("button",{style:X.button,onClick:ae,children:"Upload"}),o.jsx("button",{style:X.button,onClick:()=>{x("organisationDashboard"),E({...v,newLogo:null})},children:"Back"})]}),o.jsx("div",{style:{...X.section},children:o.jsx("p",{children:"Write up and warnings about Logo Upload"})})]})})}),m==="Documents"&&o.jsx("div",{style:{width:"100%"},children:o.jsxs("div",{style:X.profileContainer,children:[fe==="table"&&o.jsxs("div",{style:{...X.section,width:"100%"},children:[o.jsx("div",{style:{height:"40%",width:"100%"},children:o.jsxs("table",{style:X.table,children:[o.jsx("thead",{style:X.thead,children:o.jsxs("tr",{children:[o.jsx("th",{children:"Document"}),o.jsx("th",{children:"Validity"}),o.jsx("th",{children:"Verification"}),o.jsx("th",{children:"Action"})]})}),o.jsx("tbody",{children:v.documents&&v.documents.length>0?v.documents.map((J,M)=>o.jsxs("tr",{children:[o.jsx("td",{children:J.fileName}),o.jsx("td",{children:J.validity||"not set"}),o.jsx("td",{children:J.verification||"unverified"}),o.jsx("td",{children:o.jsx("button",{onClick:()=>{D("iframe"),K(J)},children:"View"})})]},M)):o.jsx("tr",{colSpan:"4",style:{textAlign:"right"},children:"No documents uploaded"})})]})}),o.jsx("button",{onClick:()=>{x("organisationDashboard")},children:"Close"}),o.jsx("button",{onClick:()=>{D("upload")},children:"Upload Document"})]}),fe==="iframe"&&o.jsx("div",{style:{...X.section,width:"100%",position:"relative",zIndex:1e3,pointerEvents:me?"none":"auto"},children:o.jsxs("div",{children:[o.jsx("span",{style:X.topCloseButton,onClick:()=>{D("table"),ne({}),se(!1)},children:"Close"}),o.jsx("iframe",{style:{height:"60vh",width:"100%"},src:ne.fileUrl}),o.jsxs("div",{style:X.docVerificationOverlay,children:[o.jsxs("div",{children:[o.jsx("h3",{children:"When does this document expire?"}),o.jsx("input",{style:X.input,type:"date",value:ne.validity||"",onChange:J=>K({...ne,validity:J.target.value})}),o.jsx("button",{style:{...X.button,display:ne.verification==="unverified"?"inline-block":"none"},onClick:ie,children:"Verify"}),o.jsx("button",{style:{...X.button,display:ne.verification==="verified"?"inline-block":"none"},onClick:de,children:"De-Verify"})]}),o.jsx("span",{style:X.topCloseButton,onClick:()=>se(!1),children:"Close"})]}),o.jsx("button",{style:{...X.button,display:ne.verification==="verified"?"none":"inline-block"},onClick:()=>se(!0),children:"Verify"}),o.jsx("button",{style:{...X.button,display:ne.verification==="verified"&&s<=3?"inline-block":"none"},onClick:()=>se(!0),children:"De-Verify"})]})}),fe==="upload"&&o.jsxs("div",{style:{...X.section,width:"100%"},children:[o.jsxs("div",{style:X.uploadfield,children:[o.jsxs("div",{style:X.uploadInput,children:[o.jsx("label",{children:"Upload File"}),o.jsx("input",{name:"uploads",type:"file",onChange:W,multiple:!0})]}),o.jsx("div",{style:X.uploadedFiles,children:ue.uploads&&ue.uploads.length>0?ue.uploads.map((J,M)=>o.jsxs("div",{style:X.uploadItem,children:[o.jsxs("span",{children:[M+1,". ",J.name]}),o.jsx("span",{style:X.removeFileButton,onClick:()=>ze(M),children:"X"})]},M)):o.jsx("p",{children:"No files uploaded yet."})})]}),o.jsx("button",{onClick:()=>{D("table"),ge([])},children:"Back"}),o.jsx("button",{style:{display:ue.uploads?"inline-block":"none"},onClick:q,children:"Upload"})]})]})})]})}function $p(e,t){const i=b.useRef(t);b.useEffect(function(){t!==i.current&&e.attributionControl!=null&&(i.current!=null&&e.attributionControl.removeAttribution(i.current),t!=null&&e.attributionControl.addAttribution(t)),i.current=t},[e,t])}const d_=1;function h_(e){return Object.freeze({__version:d_,map:e})}function f_(e,t){return Object.freeze({...e,...t})}const Hp=b.createContext(null),Vp=Hp.Provider;function Gp(){const e=b.useContext(Hp);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function p_(e){function t(i,s){const{instance:a,context:u}=e(i).current;return b.useImperativeHandle(s,()=>a),i.children==null?null:Zt.createElement(Vp,{value:u},i.children)}return b.forwardRef(t)}function m_(e){function t(i,s){const[a,u]=b.useState(!1),{instance:d}=e(i,u).current;b.useImperativeHandle(s,()=>d),b.useEffect(function(){a&&d.update()},[d,a,i.children]);const p=d._contentNode;return p?Ep.createPortal(i.children,p):null}return b.forwardRef(t)}function g_(e){function t(i,s){const{instance:a}=e(i).current;return b.useImperativeHandle(s,()=>a),null}return b.forwardRef(t)}function Kp(e,t){const i=b.useRef();b.useEffect(function(){return t!=null&&e.instance.on(t),i.current=t,function(){i.current!=null&&e.instance.off(i.current),i.current=null}},[e,t])}function Uu(e,t){const i=e.pane??t.pane;return i?{...e,pane:i}:e}function v_(e,t){return function(s,a){const u=Gp(),d=e(Uu(s,u),u);return $p(u.map,s.attribution),Kp(d.current,s.eventHandlers),t(d.current,u,s,a),d}}var Ul={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(i,s){s(t)})(mh,function(i){var s="1.9.4";function a(n){var r,l,c,h;for(l=1,c=arguments.length;l<c;l++){h=arguments[l];for(r in h)n[r]=h[r]}return n}var u=Object.create||function(){function n(){}return function(r){return n.prototype=r,new n}}();function d(n,r){var l=Array.prototype.slice;if(n.bind)return n.bind.apply(n,l.call(arguments,1));var c=l.call(arguments,2);return function(){return n.apply(r,c.length?c.concat(l.call(arguments)):arguments)}}var p=0;function f(n){return"_leaflet_id"in n||(n._leaflet_id=++p),n._leaflet_id}function m(n,r,l){var c,h,g,k;return k=function(){c=!1,h&&(g.apply(l,h),h=!1)},g=function(){c?h=arguments:(n.apply(l,arguments),setTimeout(k,r),c=!0)},g}function x(n,r,l){var c=r[1],h=r[0],g=c-h;return n===c&&l?n:((n-h)%g+g)%g+h}function j(){return!1}function S(n,r){if(r===!1)return n;var l=Math.pow(10,r===void 0?6:r);return Math.round(n*l)/l}function O(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}function C(n){return O(n).split(/\s+/)}function v(n,r){Object.prototype.hasOwnProperty.call(n,"options")||(n.options=n.options?u(n.options):{});for(var l in r)n.options[l]=r[l];return n.options}function E(n,r,l){var c=[];for(var h in n)c.push(encodeURIComponent(l?h.toUpperCase():h)+"="+encodeURIComponent(n[h]));return(!r||r.indexOf("?")===-1?"?":"&")+c.join("&")}var y=/\{ *([\w_ -]+) *\}/g;function _(n,r){return n.replace(y,function(l,c){var h=r[c];if(h===void 0)throw new Error("No value provided for variable "+l);return typeof h=="function"&&(h=h(r)),h})}var w=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"};function I(n,r){for(var l=0;l<n.length;l++)if(n[l]===r)return l;return-1}var U="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function G(n){return window["webkit"+n]||window["moz"+n]||window["ms"+n]}var $=0;function P(n){var r=+new Date,l=Math.max(0,16-(r-$));return $=r+l,window.setTimeout(n,l)}var T=window.requestAnimationFrame||G("RequestAnimationFrame")||P,N=window.cancelAnimationFrame||G("CancelAnimationFrame")||G("CancelRequestAnimationFrame")||function(n){window.clearTimeout(n)};function R(n,r,l){if(l&&T===P)n.call(r);else return T.call(window,d(n,r))}function Z(n){n&&N.call(window,n)}var ee={__proto__:null,extend:a,create:u,bind:d,get lastId(){return p},stamp:f,throttle:m,wrapNum:x,falseFn:j,formatNum:S,trim:O,splitWords:C,setOptions:v,getParamString:E,template:_,isArray:w,indexOf:I,emptyImageUrl:U,requestFn:T,cancelFn:N,requestAnimFrame:R,cancelAnimFrame:Z};function F(){}F.extend=function(n){var r=function(){v(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},l=r.__super__=this.prototype,c=u(l);c.constructor=r,r.prototype=c;for(var h in this)Object.prototype.hasOwnProperty.call(this,h)&&h!=="prototype"&&h!=="__super__"&&(r[h]=this[h]);return n.statics&&a(r,n.statics),n.includes&&(me(n.includes),a.apply(null,[c].concat(n.includes))),a(c,n),delete c.statics,delete c.includes,c.options&&(c.options=l.options?u(l.options):{},a(c.options,n.options)),c._initHooks=[],c.callInitHooks=function(){if(!this._initHooksCalled){l.callInitHooks&&l.callInitHooks.call(this),this._initHooksCalled=!0;for(var g=0,k=c._initHooks.length;g<k;g++)c._initHooks[g].call(this)}},r},F.include=function(n){var r=this.prototype.options;return a(this.prototype,n),n.options&&(this.prototype.options=r,this.mergeOptions(n.options)),this},F.mergeOptions=function(n){return a(this.prototype.options,n),this},F.addInitHook=function(n){var r=Array.prototype.slice.call(arguments,1),l=typeof n=="function"?n:function(){this[n].apply(this,r)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(l),this};function me(n){if(!(typeof L>"u"||!L||!L.Mixin)){n=w(n)?n:[n];for(var r=0;r<n.length;r++)n[r]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var se={on:function(n,r,l){if(typeof n=="object")for(var c in n)this._on(c,n[c],r);else{n=C(n);for(var h=0,g=n.length;h<g;h++)this._on(n[h],r,l)}return this},off:function(n,r,l){if(!arguments.length)delete this._events;else if(typeof n=="object")for(var c in n)this._off(c,n[c],r);else{n=C(n);for(var h=arguments.length===1,g=0,k=n.length;g<k;g++)h?this._off(n[g]):this._off(n[g],r,l)}return this},_on:function(n,r,l,c){if(typeof r!="function"){console.warn("wrong listener type: "+typeof r);return}if(this._listens(n,r,l)===!1){l===this&&(l=void 0);var h={fn:r,ctx:l};c&&(h.once=!0),this._events=this._events||{},this._events[n]=this._events[n]||[],this._events[n].push(h)}},_off:function(n,r,l){var c,h,g;if(this._events&&(c=this._events[n],!!c)){if(arguments.length===1){if(this._firingCount)for(h=0,g=c.length;h<g;h++)c[h].fn=j;delete this._events[n];return}if(typeof r!="function"){console.warn("wrong listener type: "+typeof r);return}var k=this._listens(n,r,l);if(k!==!1){var z=c[k];this._firingCount&&(z.fn=j,this._events[n]=c=c.slice()),c.splice(k,1)}}},fire:function(n,r,l){if(!this.listens(n,l))return this;var c=a({},r,{type:n,target:this,sourceTarget:r&&r.sourceTarget||this});if(this._events){var h=this._events[n];if(h){this._firingCount=this._firingCount+1||1;for(var g=0,k=h.length;g<k;g++){var z=h[g],B=z.fn;z.once&&this.off(n,B,z.ctx),B.call(z.ctx||this,c)}this._firingCount--}}return l&&this._propagateEvent(c),this},listens:function(n,r,l,c){typeof n!="string"&&console.warn('"string" type argument expected');var h=r;typeof r!="function"&&(c=!!r,h=void 0,l=void 0);var g=this._events&&this._events[n];if(g&&g.length&&this._listens(n,h,l)!==!1)return!0;if(c){for(var k in this._eventParents)if(this._eventParents[k].listens(n,r,l,c))return!0}return!1},_listens:function(n,r,l){if(!this._events)return!1;var c=this._events[n]||[];if(!r)return!!c.length;l===this&&(l=void 0);for(var h=0,g=c.length;h<g;h++)if(c[h].fn===r&&c[h].ctx===l)return h;return!1},once:function(n,r,l){if(typeof n=="object")for(var c in n)this._on(c,n[c],r,!0);else{n=C(n);for(var h=0,g=n.length;h<g;h++)this._on(n[h],r,l,!0)}return this},addEventParent:function(n){return this._eventParents=this._eventParents||{},this._eventParents[f(n)]=n,this},removeEventParent:function(n){return this._eventParents&&delete this._eventParents[f(n)],this},_propagateEvent:function(n){for(var r in this._eventParents)this._eventParents[r].fire(n.type,a({layer:n.target,propagatedFrom:n.target},n),!0)}};se.addEventListener=se.on,se.removeEventListener=se.clearAllEventListeners=se.off,se.addOneTimeEventListener=se.once,se.fireEvent=se.fire,se.hasEventListeners=se.listens;var fe=F.extend(se);function D(n,r,l){this.x=l?Math.round(n):n,this.y=l?Math.round(r):r}var ne=Math.trunc||function(n){return n>0?Math.floor(n):Math.ceil(n)};D.prototype={clone:function(){return new D(this.x,this.y)},add:function(n){return this.clone()._add(K(n))},_add:function(n){return this.x+=n.x,this.y+=n.y,this},subtract:function(n){return this.clone()._subtract(K(n))},_subtract:function(n){return this.x-=n.x,this.y-=n.y,this},divideBy:function(n){return this.clone()._divideBy(n)},_divideBy:function(n){return this.x/=n,this.y/=n,this},multiplyBy:function(n){return this.clone()._multiplyBy(n)},_multiplyBy:function(n){return this.x*=n,this.y*=n,this},scaleBy:function(n){return new D(this.x*n.x,this.y*n.y)},unscaleBy:function(n){return new D(this.x/n.x,this.y/n.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ne(this.x),this.y=ne(this.y),this},distanceTo:function(n){n=K(n);var r=n.x-this.x,l=n.y-this.y;return Math.sqrt(r*r+l*l)},equals:function(n){return n=K(n),n.x===this.x&&n.y===this.y},contains:function(n){return n=K(n),Math.abs(n.x)<=Math.abs(this.x)&&Math.abs(n.y)<=Math.abs(this.y)},toString:function(){return"Point("+S(this.x)+", "+S(this.y)+")"}};function K(n,r,l){return n instanceof D?n:w(n)?new D(n[0],n[1]):n==null?n:typeof n=="object"&&"x"in n&&"y"in n?new D(n.x,n.y):new D(n,r,l)}function ue(n,r){if(n)for(var l=r?[n,r]:n,c=0,h=l.length;c<h;c++)this.extend(l[c])}ue.prototype={extend:function(n){var r,l;if(!n)return this;if(n instanceof D||typeof n[0]=="number"||"x"in n)r=l=K(n);else if(n=ge(n),r=n.min,l=n.max,!r||!l)return this;return!this.min&&!this.max?(this.min=r.clone(),this.max=l.clone()):(this.min.x=Math.min(r.x,this.min.x),this.max.x=Math.max(l.x,this.max.x),this.min.y=Math.min(r.y,this.min.y),this.max.y=Math.max(l.y,this.max.y)),this},getCenter:function(n){return K((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,n)},getBottomLeft:function(){return K(this.min.x,this.max.y)},getTopRight:function(){return K(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(n){var r,l;return typeof n[0]=="number"||n instanceof D?n=K(n):n=ge(n),n instanceof ue?(r=n.min,l=n.max):r=l=n,r.x>=this.min.x&&l.x<=this.max.x&&r.y>=this.min.y&&l.y<=this.max.y},intersects:function(n){n=ge(n);var r=this.min,l=this.max,c=n.min,h=n.max,g=h.x>=r.x&&c.x<=l.x,k=h.y>=r.y&&c.y<=l.y;return g&&k},overlaps:function(n){n=ge(n);var r=this.min,l=this.max,c=n.min,h=n.max,g=h.x>r.x&&c.x<l.x,k=h.y>r.y&&c.y<l.y;return g&&k},isValid:function(){return!!(this.min&&this.max)},pad:function(n){var r=this.min,l=this.max,c=Math.abs(r.x-l.x)*n,h=Math.abs(r.y-l.y)*n;return ge(K(r.x-c,r.y-h),K(l.x+c,l.y+h))},equals:function(n){return n?(n=ge(n),this.min.equals(n.getTopLeft())&&this.max.equals(n.getBottomRight())):!1}};function ge(n,r){return!n||n instanceof ue?n:new ue(n,r)}function Pe(n,r){if(n)for(var l=r?[n,r]:n,c=0,h=l.length;c<h;c++)this.extend(l[c])}Pe.prototype={extend:function(n){var r=this._southWest,l=this._northEast,c,h;if(n instanceof Q)c=n,h=n;else if(n instanceof Pe){if(c=n._southWest,h=n._northEast,!c||!h)return this}else return n?this.extend(he(n)||we(n)):this;return!r&&!l?(this._southWest=new Q(c.lat,c.lng),this._northEast=new Q(h.lat,h.lng)):(r.lat=Math.min(c.lat,r.lat),r.lng=Math.min(c.lng,r.lng),l.lat=Math.max(h.lat,l.lat),l.lng=Math.max(h.lng,l.lng)),this},pad:function(n){var r=this._southWest,l=this._northEast,c=Math.abs(r.lat-l.lat)*n,h=Math.abs(r.lng-l.lng)*n;return new Pe(new Q(r.lat-c,r.lng-h),new Q(l.lat+c,l.lng+h))},getCenter:function(){return new Q((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Q(this.getNorth(),this.getWest())},getSouthEast:function(){return new Q(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(n){typeof n[0]=="number"||n instanceof Q||"lat"in n?n=he(n):n=we(n);var r=this._southWest,l=this._northEast,c,h;return n instanceof Pe?(c=n.getSouthWest(),h=n.getNorthEast()):c=h=n,c.lat>=r.lat&&h.lat<=l.lat&&c.lng>=r.lng&&h.lng<=l.lng},intersects:function(n){n=we(n);var r=this._southWest,l=this._northEast,c=n.getSouthWest(),h=n.getNorthEast(),g=h.lat>=r.lat&&c.lat<=l.lat,k=h.lng>=r.lng&&c.lng<=l.lng;return g&&k},overlaps:function(n){n=we(n);var r=this._southWest,l=this._northEast,c=n.getSouthWest(),h=n.getNorthEast(),g=h.lat>r.lat&&c.lat<l.lat,k=h.lng>r.lng&&c.lng<l.lng;return g&&k},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(n,r){return n?(n=we(n),this._southWest.equals(n.getSouthWest(),r)&&this._northEast.equals(n.getNorthEast(),r)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function we(n,r){return n instanceof Pe?n:new Pe(n,r)}function Q(n,r,l){if(isNaN(n)||isNaN(r))throw new Error("Invalid LatLng object: ("+n+", "+r+")");this.lat=+n,this.lng=+r,l!==void 0&&(this.alt=+l)}Q.prototype={equals:function(n,r){if(!n)return!1;n=he(n);var l=Math.max(Math.abs(this.lat-n.lat),Math.abs(this.lng-n.lng));return l<=(r===void 0?1e-9:r)},toString:function(n){return"LatLng("+S(this.lat,n)+", "+S(this.lng,n)+")"},distanceTo:function(n){return ae.distance(this,he(n))},wrap:function(){return ae.wrapLatLng(this)},toBounds:function(n){var r=180*n/40075017,l=r/Math.cos(Math.PI/180*this.lat);return we([this.lat-r,this.lng-l],[this.lat+r,this.lng+l])},clone:function(){return new Q(this.lat,this.lng,this.alt)}};function he(n,r,l){return n instanceof Q?n:w(n)&&typeof n[0]!="object"?n.length===3?new Q(n[0],n[1],n[2]):n.length===2?new Q(n[0],n[1]):null:n==null?n:typeof n=="object"&&"lat"in n?new Q(n.lat,"lng"in n?n.lng:n.lon,n.alt):r===void 0?null:new Q(n,r,l)}var te={latLngToPoint:function(n,r){var l=this.projection.project(n),c=this.scale(r);return this.transformation._transform(l,c)},pointToLatLng:function(n,r){var l=this.scale(r),c=this.transformation.untransform(n,l);return this.projection.unproject(c)},project:function(n){return this.projection.project(n)},unproject:function(n){return this.projection.unproject(n)},scale:function(n){return 256*Math.pow(2,n)},zoom:function(n){return Math.log(n/256)/Math.LN2},getProjectedBounds:function(n){if(this.infinite)return null;var r=this.projection.bounds,l=this.scale(n),c=this.transformation.transform(r.min,l),h=this.transformation.transform(r.max,l);return new ue(c,h)},infinite:!1,wrapLatLng:function(n){var r=this.wrapLng?x(n.lng,this.wrapLng,!0):n.lng,l=this.wrapLat?x(n.lat,this.wrapLat,!0):n.lat,c=n.alt;return new Q(l,r,c)},wrapLatLngBounds:function(n){var r=n.getCenter(),l=this.wrapLatLng(r),c=r.lat-l.lat,h=r.lng-l.lng;if(c===0&&h===0)return n;var g=n.getSouthWest(),k=n.getNorthEast(),z=new Q(g.lat-c,g.lng-h),B=new Q(k.lat-c,k.lng-h);return new Pe(z,B)}},ae=a({},te,{wrapLng:[-180,180],R:6371e3,distance:function(n,r){var l=Math.PI/180,c=n.lat*l,h=r.lat*l,g=Math.sin((r.lat-n.lat)*l/2),k=Math.sin((r.lng-n.lng)*l/2),z=g*g+Math.cos(c)*Math.cos(h)*k*k,B=2*Math.atan2(Math.sqrt(z),Math.sqrt(1-z));return this.R*B}}),W=6378137,ze={R:W,MAX_LATITUDE:85.0511287798,project:function(n){var r=Math.PI/180,l=this.MAX_LATITUDE,c=Math.max(Math.min(l,n.lat),-l),h=Math.sin(c*r);return new D(this.R*n.lng*r,this.R*Math.log((1+h)/(1-h))/2)},unproject:function(n){var r=180/Math.PI;return new Q((2*Math.atan(Math.exp(n.y/this.R))-Math.PI/2)*r,n.x*r/this.R)},bounds:function(){var n=W*Math.PI;return new ue([-n,-n],[n,n])}()};function q(n,r,l,c){if(w(n)){this._a=n[0],this._b=n[1],this._c=n[2],this._d=n[3];return}this._a=n,this._b=r,this._c=l,this._d=c}q.prototype={transform:function(n,r){return this._transform(n.clone(),r)},_transform:function(n,r){return r=r||1,n.x=r*(this._a*n.x+this._b),n.y=r*(this._c*n.y+this._d),n},untransform:function(n,r){return r=r||1,new D((n.x/r-this._b)/this._a,(n.y/r-this._d)/this._c)}};function ie(n,r,l,c){return new q(n,r,l,c)}var de=a({},ae,{code:"EPSG:3857",projection:ze,transformation:function(){var n=.5/(Math.PI*ze.R);return ie(n,.5,-n,.5)}()}),X=a({},de,{code:"EPSG:900913"});function vt(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function J(n,r){var l="",c,h,g,k,z,B;for(c=0,g=n.length;c<g;c++){for(z=n[c],h=0,k=z.length;h<k;h++)B=z[h],l+=(h?"L":"M")+B.x+" "+B.y;l+=r?ce.svg?"z":"x":""}return l||"M0 0"}var M=document.documentElement.style,A="ActiveXObject"in window,V=A&&!document.addEventListener,oe="msLaunchUri"in navigator&&!("documentMode"in document),Ce=Vt("webkit"),io=Vt("android"),Ki=Vt("android 2")||Vt("android 3"),Qp=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),qp=io&&Vt("Google")&&Qp<537&&!("AudioNode"in window),Ws=!!window.opera,$u=!oe&&Vt("chrome"),Hu=Vt("gecko")&&!Ce&&!Ws&&!A,Jp=!$u&&Vt("safari"),Vu=Vt("phantom"),Gu="OTransition"in M,Xp=navigator.platform.indexOf("Win")===0,Ku=A&&"transition"in M,$s="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ki,Yu="MozPerspective"in M,em=!window.L_DISABLE_3D&&(Ku||$s||Yu)&&!Gu&&!Vu,Yi=typeof orientation<"u"||Vt("mobile"),tm=Yi&&Ce,nm=Yi&&$s,Qu=!window.PointerEvent&&window.MSPointerEvent,qu=!!(window.PointerEvent||Qu),Ju="ontouchstart"in window||!!window.TouchEvent,im=!window.L_NO_TOUCH&&(Ju||qu),rm=Yi&&Ws,om=Yi&&Hu,sm=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,am=function(){var n=!1;try{var r=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("testPassiveEventSupport",j,r),window.removeEventListener("testPassiveEventSupport",j,r)}catch{}return n}(),lm=function(){return!!document.createElement("canvas").getContext}(),Hs=!!(document.createElementNS&&vt("svg").createSVGRect),um=!!Hs&&function(){var n=document.createElement("div");return n.innerHTML="<svg/>",(n.firstChild&&n.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),cm=!Hs&&function(){try{var n=document.createElement("div");n.innerHTML='<v:shape adj="1"/>';var r=n.firstChild;return r.style.behavior="url(#default#VML)",r&&typeof r.adj=="object"}catch{return!1}}(),dm=navigator.platform.indexOf("Mac")===0,hm=navigator.platform.indexOf("Linux")===0;function Vt(n){return navigator.userAgent.toLowerCase().indexOf(n)>=0}var ce={ie:A,ielt9:V,edge:oe,webkit:Ce,android:io,android23:Ki,androidStock:qp,opera:Ws,chrome:$u,gecko:Hu,safari:Jp,phantom:Vu,opera12:Gu,win:Xp,ie3d:Ku,webkit3d:$s,gecko3d:Yu,any3d:em,mobile:Yi,mobileWebkit:tm,mobileWebkit3d:nm,msPointer:Qu,pointer:qu,touch:im,touchNative:Ju,mobileOpera:rm,mobileGecko:om,retina:sm,passiveEvents:am,canvas:lm,svg:Hs,vml:cm,inlineSvg:um,mac:dm,linux:hm},Xu=ce.msPointer?"MSPointerDown":"pointerdown",ec=ce.msPointer?"MSPointerMove":"pointermove",tc=ce.msPointer?"MSPointerUp":"pointerup",nc=ce.msPointer?"MSPointerCancel":"pointercancel",Vs={touchstart:Xu,touchmove:ec,touchend:tc,touchcancel:nc},ic={touchstart:ym,touchmove:ro,touchend:ro,touchcancel:ro},li={},rc=!1;function fm(n,r,l){return r==="touchstart"&&vm(),ic[r]?(l=ic[r].bind(this,l),n.addEventListener(Vs[r],l,!1),l):(console.warn("wrong event specified:",r),j)}function pm(n,r,l){if(!Vs[r]){console.warn("wrong event specified:",r);return}n.removeEventListener(Vs[r],l,!1)}function mm(n){li[n.pointerId]=n}function gm(n){li[n.pointerId]&&(li[n.pointerId]=n)}function oc(n){delete li[n.pointerId]}function vm(){rc||(document.addEventListener(Xu,mm,!0),document.addEventListener(ec,gm,!0),document.addEventListener(tc,oc,!0),document.addEventListener(nc,oc,!0),rc=!0)}function ro(n,r){if(r.pointerType!==(r.MSPOINTER_TYPE_MOUSE||"mouse")){r.touches=[];for(var l in li)r.touches.push(li[l]);r.changedTouches=[r],n(r)}}function ym(n,r){r.MSPOINTER_TYPE_TOUCH&&r.pointerType===r.MSPOINTER_TYPE_TOUCH&&qe(r),ro(n,r)}function xm(n){var r={},l,c;for(c in n)l=n[c],r[c]=l&&l.bind?l.bind(n):l;return n=r,r.type="dblclick",r.detail=2,r.isTrusted=!1,r._simulated=!0,r}var _m=200;function wm(n,r){n.addEventListener("dblclick",r);var l=0,c;function h(g){if(g.detail!==1){c=g.detail;return}if(!(g.pointerType==="mouse"||g.sourceCapabilities&&!g.sourceCapabilities.firesTouchEvents)){var k=cc(g);if(!(k.some(function(B){return B instanceof HTMLLabelElement&&B.attributes.for})&&!k.some(function(B){return B instanceof HTMLInputElement||B instanceof HTMLSelectElement}))){var z=Date.now();z-l<=_m?(c++,c===2&&r(xm(g))):c=1,l=z}}}return n.addEventListener("click",h),{dblclick:r,simDblclick:h}}function Cm(n,r){n.removeEventListener("dblclick",r.dblclick),n.removeEventListener("click",r.simDblclick)}var Gs=ao(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Qi=ao(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),sc=Qi==="webkitTransition"||Qi==="OTransition"?Qi+"End":"transitionend";function ac(n){return typeof n=="string"?document.getElementById(n):n}function qi(n,r){var l=n.style[r]||n.currentStyle&&n.currentStyle[r];if((!l||l==="auto")&&document.defaultView){var c=document.defaultView.getComputedStyle(n,null);l=c?c[r]:null}return l==="auto"?null:l}function ke(n,r,l){var c=document.createElement(n);return c.className=r||"",l&&l.appendChild(c),c}function Ie(n){var r=n.parentNode;r&&r.removeChild(n)}function oo(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function ui(n){var r=n.parentNode;r&&r.lastChild!==n&&r.appendChild(n)}function ci(n){var r=n.parentNode;r&&r.firstChild!==n&&r.insertBefore(n,r.firstChild)}function Ks(n,r){if(n.classList!==void 0)return n.classList.contains(r);var l=so(n);return l.length>0&&new RegExp("(^|\\s)"+r+"(\\s|$)").test(l)}function ye(n,r){if(n.classList!==void 0)for(var l=C(r),c=0,h=l.length;c<h;c++)n.classList.add(l[c]);else if(!Ks(n,r)){var g=so(n);Ys(n,(g?g+" ":"")+r)}}function Fe(n,r){n.classList!==void 0?n.classList.remove(r):Ys(n,O((" "+so(n)+" ").replace(" "+r+" "," ")))}function Ys(n,r){n.className.baseVal===void 0?n.className=r:n.className.baseVal=r}function so(n){return n.correspondingElement&&(n=n.correspondingElement),n.className.baseVal===void 0?n.className:n.className.baseVal}function St(n,r){"opacity"in n.style?n.style.opacity=r:"filter"in n.style&&jm(n,r)}function jm(n,r){var l=!1,c="DXImageTransform.Microsoft.Alpha";try{l=n.filters.item(c)}catch{if(r===1)return}r=Math.round(r*100),l?(l.Enabled=r!==100,l.Opacity=r):n.style.filter+=" progid:"+c+"(opacity="+r+")"}function ao(n){for(var r=document.documentElement.style,l=0;l<n.length;l++)if(n[l]in r)return n[l];return!1}function Un(n,r,l){var c=r||new D(0,0);n.style[Gs]=(ce.ie3d?"translate("+c.x+"px,"+c.y+"px)":"translate3d("+c.x+"px,"+c.y+"px,0)")+(l?" scale("+l+")":"")}function Ze(n,r){n._leaflet_pos=r,ce.any3d?Un(n,r):(n.style.left=r.x+"px",n.style.top=r.y+"px")}function Zn(n){return n._leaflet_pos||new D(0,0)}var Ji,Xi,Qs;if("onselectstart"in document)Ji=function(){ve(window,"selectstart",qe)},Xi=function(){Ee(window,"selectstart",qe)};else{var er=ao(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ji=function(){if(er){var n=document.documentElement.style;Qs=n[er],n[er]="none"}},Xi=function(){er&&(document.documentElement.style[er]=Qs,Qs=void 0)}}function qs(){ve(window,"dragstart",qe)}function Js(){Ee(window,"dragstart",qe)}var lo,Xs;function ea(n){for(;n.tabIndex===-1;)n=n.parentNode;n.style&&(uo(),lo=n,Xs=n.style.outlineStyle,n.style.outlineStyle="none",ve(window,"keydown",uo))}function uo(){lo&&(lo.style.outlineStyle=Xs,lo=void 0,Xs=void 0,Ee(window,"keydown",uo))}function lc(n){do n=n.parentNode;while((!n.offsetWidth||!n.offsetHeight)&&n!==document.body);return n}function ta(n){var r=n.getBoundingClientRect();return{x:r.width/n.offsetWidth||1,y:r.height/n.offsetHeight||1,boundingClientRect:r}}var Sm={__proto__:null,TRANSFORM:Gs,TRANSITION:Qi,TRANSITION_END:sc,get:ac,getStyle:qi,create:ke,remove:Ie,empty:oo,toFront:ui,toBack:ci,hasClass:Ks,addClass:ye,removeClass:Fe,setClass:Ys,getClass:so,setOpacity:St,testProp:ao,setTransform:Un,setPosition:Ze,getPosition:Zn,get disableTextSelection(){return Ji},get enableTextSelection(){return Xi},disableImageDrag:qs,enableImageDrag:Js,preventOutline:ea,restoreOutline:uo,getSizedParentNode:lc,getScale:ta};function ve(n,r,l,c){if(r&&typeof r=="object")for(var h in r)ia(n,h,r[h],l);else{r=C(r);for(var g=0,k=r.length;g<k;g++)ia(n,r[g],l,c)}return this}var Gt="_leaflet_events";function Ee(n,r,l,c){if(arguments.length===1)uc(n),delete n[Gt];else if(r&&typeof r=="object")for(var h in r)ra(n,h,r[h],l);else if(r=C(r),arguments.length===2)uc(n,function(z){return I(r,z)!==-1});else for(var g=0,k=r.length;g<k;g++)ra(n,r[g],l,c);return this}function uc(n,r){for(var l in n[Gt]){var c=l.split(/\d/)[0];(!r||r(c))&&ra(n,c,null,null,l)}}var na={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ia(n,r,l,c){var h=r+f(l)+(c?"_"+f(c):"");if(n[Gt]&&n[Gt][h])return this;var g=function(z){return l.call(c||n,z||window.event)},k=g;!ce.touchNative&&ce.pointer&&r.indexOf("touch")===0?g=fm(n,r,g):ce.touch&&r==="dblclick"?g=wm(n,g):"addEventListener"in n?r==="touchstart"||r==="touchmove"||r==="wheel"||r==="mousewheel"?n.addEventListener(na[r]||r,g,ce.passiveEvents?{passive:!1}:!1):r==="mouseenter"||r==="mouseleave"?(g=function(z){z=z||window.event,sa(n,z)&&k(z)},n.addEventListener(na[r],g,!1)):n.addEventListener(r,k,!1):n.attachEvent("on"+r,g),n[Gt]=n[Gt]||{},n[Gt][h]=g}function ra(n,r,l,c,h){h=h||r+f(l)+(c?"_"+f(c):"");var g=n[Gt]&&n[Gt][h];if(!g)return this;!ce.touchNative&&ce.pointer&&r.indexOf("touch")===0?pm(n,r,g):ce.touch&&r==="dblclick"?Cm(n,g):"removeEventListener"in n?n.removeEventListener(na[r]||r,g,!1):n.detachEvent("on"+r,g),n[Gt][h]=null}function Wn(n){return n.stopPropagation?n.stopPropagation():n.originalEvent?n.originalEvent._stopped=!0:n.cancelBubble=!0,this}function oa(n){return ia(n,"wheel",Wn),this}function tr(n){return ve(n,"mousedown touchstart dblclick contextmenu",Wn),n._leaflet_disable_click=!0,this}function qe(n){return n.preventDefault?n.preventDefault():n.returnValue=!1,this}function $n(n){return qe(n),Wn(n),this}function cc(n){if(n.composedPath)return n.composedPath();for(var r=[],l=n.target;l;)r.push(l),l=l.parentNode;return r}function dc(n,r){if(!r)return new D(n.clientX,n.clientY);var l=ta(r),c=l.boundingClientRect;return new D((n.clientX-c.left)/l.x-r.clientLeft,(n.clientY-c.top)/l.y-r.clientTop)}var bm=ce.linux&&ce.chrome?window.devicePixelRatio:ce.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function hc(n){return ce.edge?n.wheelDeltaY/2:n.deltaY&&n.deltaMode===0?-n.deltaY/bm:n.deltaY&&n.deltaMode===1?-n.deltaY*20:n.deltaY&&n.deltaMode===2?-n.deltaY*60:n.deltaX||n.deltaZ?0:n.wheelDelta?(n.wheelDeltaY||n.wheelDelta)/2:n.detail&&Math.abs(n.detail)<32765?-n.detail*20:n.detail?n.detail/-32765*60:0}function sa(n,r){var l=r.relatedTarget;if(!l)return!0;try{for(;l&&l!==n;)l=l.parentNode}catch{return!1}return l!==n}var km={__proto__:null,on:ve,off:Ee,stopPropagation:Wn,disableScrollPropagation:oa,disableClickPropagation:tr,preventDefault:qe,stop:$n,getPropagationPath:cc,getMousePosition:dc,getWheelDelta:hc,isExternalTarget:sa,addListener:ve,removeListener:Ee},fc=fe.extend({run:function(n,r,l,c){this.stop(),this._el=n,this._inProgress=!0,this._duration=l||.25,this._easeOutPower=1/Math.max(c||.5,.2),this._startPos=Zn(n),this._offset=r.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=R(this._animate,this),this._step()},_step:function(n){var r=+new Date-this._startTime,l=this._duration*1e3;r<l?this._runFrame(this._easeOut(r/l),n):(this._runFrame(1),this._complete())},_runFrame:function(n,r){var l=this._startPos.add(this._offset.multiplyBy(n));r&&l._round(),Ze(this._el,l),this.fire("step")},_complete:function(){Z(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(n){return 1-Math.pow(1-n,this._easeOutPower)}}),Se=fe.extend({options:{crs:de,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(n,r){r=v(this,r),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(n),this._initLayout(),this._onResize=d(this._onResize,this),this._initEvents(),r.maxBounds&&this.setMaxBounds(r.maxBounds),r.zoom!==void 0&&(this._zoom=this._limitZoom(r.zoom)),r.center&&r.zoom!==void 0&&this.setView(he(r.center),r.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Qi&&ce.any3d&&!ce.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ve(this._proxy,sc,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(n,r,l){if(r=r===void 0?this._zoom:this._limitZoom(r),n=this._limitCenter(he(n),r,this.options.maxBounds),l=l||{},this._stop(),this._loaded&&!l.reset&&l!==!0){l.animate!==void 0&&(l.zoom=a({animate:l.animate},l.zoom),l.pan=a({animate:l.animate,duration:l.duration},l.pan));var c=this._zoom!==r?this._tryAnimatedZoom&&this._tryAnimatedZoom(n,r,l.zoom):this._tryAnimatedPan(n,l.pan);if(c)return clearTimeout(this._sizeTimer),this}return this._resetView(n,r,l.pan&&l.pan.noMoveStart),this},setZoom:function(n,r){return this._loaded?this.setView(this.getCenter(),n,{zoom:r}):(this._zoom=n,this)},zoomIn:function(n,r){return n=n||(ce.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+n,r)},zoomOut:function(n,r){return n=n||(ce.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-n,r)},setZoomAround:function(n,r,l){var c=this.getZoomScale(r),h=this.getSize().divideBy(2),g=n instanceof D?n:this.latLngToContainerPoint(n),k=g.subtract(h).multiplyBy(1-1/c),z=this.containerPointToLatLng(h.add(k));return this.setView(z,r,{zoom:l})},_getBoundsCenterZoom:function(n,r){r=r||{},n=n.getBounds?n.getBounds():we(n);var l=K(r.paddingTopLeft||r.padding||[0,0]),c=K(r.paddingBottomRight||r.padding||[0,0]),h=this.getBoundsZoom(n,!1,l.add(c));if(h=typeof r.maxZoom=="number"?Math.min(r.maxZoom,h):h,h===1/0)return{center:n.getCenter(),zoom:h};var g=c.subtract(l).divideBy(2),k=this.project(n.getSouthWest(),h),z=this.project(n.getNorthEast(),h),B=this.unproject(k.add(z).divideBy(2).add(g),h);return{center:B,zoom:h}},fitBounds:function(n,r){if(n=we(n),!n.isValid())throw new Error("Bounds are not valid.");var l=this._getBoundsCenterZoom(n,r);return this.setView(l.center,l.zoom,r)},fitWorld:function(n){return this.fitBounds([[-90,-180],[90,180]],n)},panTo:function(n,r){return this.setView(n,this._zoom,{pan:r})},panBy:function(n,r){if(n=K(n).round(),r=r||{},!n.x&&!n.y)return this.fire("moveend");if(r.animate!==!0&&!this.getSize().contains(n))return this._resetView(this.unproject(this.project(this.getCenter()).add(n)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new fc,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),r.noMoveStart||this.fire("movestart"),r.animate!==!1){ye(this._mapPane,"leaflet-pan-anim");var l=this._getMapPanePos().subtract(n).round();this._panAnim.run(this._mapPane,l,r.duration||.25,r.easeLinearity)}else this._rawPanBy(n),this.fire("move").fire("moveend");return this},flyTo:function(n,r,l){if(l=l||{},l.animate===!1||!ce.any3d)return this.setView(n,r,l);this._stop();var c=this.project(this.getCenter()),h=this.project(n),g=this.getSize(),k=this._zoom;n=he(n),r=r===void 0?k:r;var z=Math.max(g.x,g.y),B=z*this.getZoomScale(k,r),H=h.distanceTo(c)||1,re=1.42,pe=re*re;function xe(We){var Co=We?-1:1,pg=We?B:z,mg=B*B-z*z+Co*pe*pe*H*H,gg=2*pg*pe*H,va=mg/gg,Gc=Math.sqrt(va*va+1)-va,vg=Gc<1e-9?-18:Math.log(Gc);return vg}function ot(We){return(Math.exp(We)-Math.exp(-We))/2}function Ke(We){return(Math.exp(We)+Math.exp(-We))/2}function kt(We){return ot(We)/Ke(We)}var dt=xe(0);function gi(We){return z*(Ke(dt)/Ke(dt+re*We))}function cg(We){return z*(Ke(dt)*kt(dt+re*We)-ot(dt))/pe}function dg(We){return 1-Math.pow(1-We,1.5)}var hg=Date.now(),Hc=(xe(1)-dt)/re,fg=l.duration?1e3*l.duration:1e3*Hc*.8;function Vc(){var We=(Date.now()-hg)/fg,Co=dg(We)*Hc;We<=1?(this._flyToFrame=R(Vc,this),this._move(this.unproject(c.add(h.subtract(c).multiplyBy(cg(Co)/H)),k),this.getScaleZoom(z/gi(Co),k),{flyTo:!0})):this._move(n,r)._moveEnd(!0)}return this._moveStart(!0,l.noMoveStart),Vc.call(this),this},flyToBounds:function(n,r){var l=this._getBoundsCenterZoom(n,r);return this.flyTo(l.center,l.zoom,r)},setMaxBounds:function(n){return n=we(n),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),n.isValid()?(this.options.maxBounds=n,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(n){var r=this.options.minZoom;return this.options.minZoom=n,this._loaded&&r!==n&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(n):this},setMaxZoom:function(n){var r=this.options.maxZoom;return this.options.maxZoom=n,this._loaded&&r!==n&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(n):this},panInsideBounds:function(n,r){this._enforcingBounds=!0;var l=this.getCenter(),c=this._limitCenter(l,this._zoom,we(n));return l.equals(c)||this.panTo(c,r),this._enforcingBounds=!1,this},panInside:function(n,r){r=r||{};var l=K(r.paddingTopLeft||r.padding||[0,0]),c=K(r.paddingBottomRight||r.padding||[0,0]),h=this.project(this.getCenter()),g=this.project(n),k=this.getPixelBounds(),z=ge([k.min.add(l),k.max.subtract(c)]),B=z.getSize();if(!z.contains(g)){this._enforcingBounds=!0;var H=g.subtract(z.getCenter()),re=z.extend(g).getSize().subtract(B);h.x+=H.x<0?-re.x:re.x,h.y+=H.y<0?-re.y:re.y,this.panTo(this.unproject(h),r),this._enforcingBounds=!1}return this},invalidateSize:function(n){if(!this._loaded)return this;n=a({animate:!1,pan:!0},n===!0?{animate:!0}:n);var r=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var l=this.getSize(),c=r.divideBy(2).round(),h=l.divideBy(2).round(),g=c.subtract(h);return!g.x&&!g.y?this:(n.animate&&n.pan?this.panBy(g):(n.pan&&this._rawPanBy(g),this.fire("move"),n.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(d(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:r,newSize:l}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(n){if(n=this._locateOptions=a({timeout:1e4,watch:!1},n),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var r=d(this._handleGeolocationResponse,this),l=d(this._handleGeolocationError,this);return n.watch?this._locationWatchId=navigator.geolocation.watchPosition(r,l,n):navigator.geolocation.getCurrentPosition(r,l,n),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(n){if(this._container._leaflet_id){var r=n.code,l=n.message||(r===1?"permission denied":r===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:r,message:"Geolocation error: "+l+"."})}},_handleGeolocationResponse:function(n){if(this._container._leaflet_id){var r=n.coords.latitude,l=n.coords.longitude,c=new Q(r,l),h=c.toBounds(n.coords.accuracy*2),g=this._locateOptions;if(g.setView){var k=this.getBoundsZoom(h);this.setView(c,g.maxZoom?Math.min(k,g.maxZoom):k)}var z={latlng:c,bounds:h,timestamp:n.timestamp};for(var B in n.coords)typeof n.coords[B]=="number"&&(z[B]=n.coords[B]);this.fire("locationfound",z)}},addHandler:function(n,r){if(!r)return this;var l=this[n]=new r(this);return this._handlers.push(l),this.options[n]&&l.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Ie(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Z(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var n;for(n in this._layers)this._layers[n].remove();for(n in this._panes)Ie(this._panes[n]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(n,r){var l="leaflet-pane"+(n?" leaflet-"+n.replace("Pane","")+"-pane":""),c=ke("div",l,r||this._mapPane);return n&&(this._panes[n]=c),c},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var n=this.getPixelBounds(),r=this.unproject(n.getBottomLeft()),l=this.unproject(n.getTopRight());return new Pe(r,l)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(n,r,l){n=we(n),l=K(l||[0,0]);var c=this.getZoom()||0,h=this.getMinZoom(),g=this.getMaxZoom(),k=n.getNorthWest(),z=n.getSouthEast(),B=this.getSize().subtract(l),H=ge(this.project(z,c),this.project(k,c)).getSize(),re=ce.any3d?this.options.zoomSnap:1,pe=B.x/H.x,xe=B.y/H.y,ot=r?Math.max(pe,xe):Math.min(pe,xe);return c=this.getScaleZoom(ot,c),re&&(c=Math.round(c/(re/100))*(re/100),c=r?Math.ceil(c/re)*re:Math.floor(c/re)*re),Math.max(h,Math.min(g,c))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new D(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(n,r){var l=this._getTopLeftPoint(n,r);return new ue(l,l.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(n){return this.options.crs.getProjectedBounds(n===void 0?this.getZoom():n)},getPane:function(n){return typeof n=="string"?this._panes[n]:n},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(n,r){var l=this.options.crs;return r=r===void 0?this._zoom:r,l.scale(n)/l.scale(r)},getScaleZoom:function(n,r){var l=this.options.crs;r=r===void 0?this._zoom:r;var c=l.zoom(n*l.scale(r));return isNaN(c)?1/0:c},project:function(n,r){return r=r===void 0?this._zoom:r,this.options.crs.latLngToPoint(he(n),r)},unproject:function(n,r){return r=r===void 0?this._zoom:r,this.options.crs.pointToLatLng(K(n),r)},layerPointToLatLng:function(n){var r=K(n).add(this.getPixelOrigin());return this.unproject(r)},latLngToLayerPoint:function(n){var r=this.project(he(n))._round();return r._subtract(this.getPixelOrigin())},wrapLatLng:function(n){return this.options.crs.wrapLatLng(he(n))},wrapLatLngBounds:function(n){return this.options.crs.wrapLatLngBounds(we(n))},distance:function(n,r){return this.options.crs.distance(he(n),he(r))},containerPointToLayerPoint:function(n){return K(n).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(n){return K(n).add(this._getMapPanePos())},containerPointToLatLng:function(n){var r=this.containerPointToLayerPoint(K(n));return this.layerPointToLatLng(r)},latLngToContainerPoint:function(n){return this.layerPointToContainerPoint(this.latLngToLayerPoint(he(n)))},mouseEventToContainerPoint:function(n){return dc(n,this._container)},mouseEventToLayerPoint:function(n){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(n))},mouseEventToLatLng:function(n){return this.layerPointToLatLng(this.mouseEventToLayerPoint(n))},_initContainer:function(n){var r=this._container=ac(n);if(r){if(r._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ve(r,"scroll",this._onScroll,this),this._containerId=f(r)},_initLayout:function(){var n=this._container;this._fadeAnimated=this.options.fadeAnimation&&ce.any3d,ye(n,"leaflet-container"+(ce.touch?" leaflet-touch":"")+(ce.retina?" leaflet-retina":"")+(ce.ielt9?" leaflet-oldie":"")+(ce.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var r=qi(n,"position");r!=="absolute"&&r!=="relative"&&r!=="fixed"&&r!=="sticky"&&(n.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var n=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ze(this._mapPane,new D(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ye(n.markerPane,"leaflet-zoom-hide"),ye(n.shadowPane,"leaflet-zoom-hide"))},_resetView:function(n,r,l){Ze(this._mapPane,new D(0,0));var c=!this._loaded;this._loaded=!0,r=this._limitZoom(r),this.fire("viewprereset");var h=this._zoom!==r;this._moveStart(h,l)._move(n,r)._moveEnd(h),this.fire("viewreset"),c&&this.fire("load")},_moveStart:function(n,r){return n&&this.fire("zoomstart"),r||this.fire("movestart"),this},_move:function(n,r,l,c){r===void 0&&(r=this._zoom);var h=this._zoom!==r;return this._zoom=r,this._lastCenter=n,this._pixelOrigin=this._getNewPixelOrigin(n),c?l&&l.pinch&&this.fire("zoom",l):((h||l&&l.pinch)&&this.fire("zoom",l),this.fire("move",l)),this},_moveEnd:function(n){return n&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Z(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(n){Ze(this._mapPane,this._getMapPanePos().subtract(n))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(n){this._targets={},this._targets[f(this._container)]=this;var r=n?Ee:ve;r(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&r(window,"resize",this._onResize,this),ce.any3d&&this.options.transform3DLimit&&(n?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Z(this._resizeRequest),this._resizeRequest=R(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var n=this._getMapPanePos();Math.max(Math.abs(n.x),Math.abs(n.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(n,r){for(var l=[],c,h=r==="mouseout"||r==="mouseover",g=n.target||n.srcElement,k=!1;g;){if(c=this._targets[f(g)],c&&(r==="click"||r==="preclick")&&this._draggableMoved(c)){k=!0;break}if(c&&c.listens(r,!0)&&(h&&!sa(g,n)||(l.push(c),h))||g===this._container)break;g=g.parentNode}return!l.length&&!k&&!h&&this.listens(r,!0)&&(l=[this]),l},_isClickDisabled:function(n){for(;n&&n!==this._container;){if(n._leaflet_disable_click)return!0;n=n.parentNode}},_handleDOMEvent:function(n){var r=n.target||n.srcElement;if(!(!this._loaded||r._leaflet_disable_events||n.type==="click"&&this._isClickDisabled(r))){var l=n.type;l==="mousedown"&&ea(r),this._fireDOMEvent(n,l)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(n,r,l){if(n.type==="click"){var c=a({},n);c.type="preclick",this._fireDOMEvent(c,c.type,l)}var h=this._findEventTargets(n,r);if(l){for(var g=[],k=0;k<l.length;k++)l[k].listens(r,!0)&&g.push(l[k]);h=g.concat(h)}if(h.length){r==="contextmenu"&&qe(n);var z=h[0],B={originalEvent:n};if(n.type!=="keypress"&&n.type!=="keydown"&&n.type!=="keyup"){var H=z.getLatLng&&(!z._radius||z._radius<=10);B.containerPoint=H?this.latLngToContainerPoint(z.getLatLng()):this.mouseEventToContainerPoint(n),B.layerPoint=this.containerPointToLayerPoint(B.containerPoint),B.latlng=H?z.getLatLng():this.layerPointToLatLng(B.layerPoint)}for(k=0;k<h.length;k++)if(h[k].fire(r,B,!0),B.originalEvent._stopped||h[k].options.bubblingMouseEvents===!1&&I(this._mouseEvents,r)!==-1)return}},_draggableMoved:function(n){return n=n.dragging&&n.dragging.enabled()?n:this,n.dragging&&n.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var n=0,r=this._handlers.length;n<r;n++)this._handlers[n].disable()},whenReady:function(n,r){return this._loaded?n.call(r||this,{target:this}):this.on("load",n,r),this},_getMapPanePos:function(){return Zn(this._mapPane)||new D(0,0)},_moved:function(){var n=this._getMapPanePos();return n&&!n.equals([0,0])},_getTopLeftPoint:function(n,r){var l=n&&r!==void 0?this._getNewPixelOrigin(n,r):this.getPixelOrigin();return l.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(n,r){var l=this.getSize()._divideBy(2);return this.project(n,r)._subtract(l)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(n,r,l){var c=this._getNewPixelOrigin(l,r);return this.project(n,r)._subtract(c)},_latLngBoundsToNewLayerBounds:function(n,r,l){var c=this._getNewPixelOrigin(l,r);return ge([this.project(n.getSouthWest(),r)._subtract(c),this.project(n.getNorthWest(),r)._subtract(c),this.project(n.getSouthEast(),r)._subtract(c),this.project(n.getNorthEast(),r)._subtract(c)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(n){return this.latLngToLayerPoint(n).subtract(this._getCenterLayerPoint())},_limitCenter:function(n,r,l){if(!l)return n;var c=this.project(n,r),h=this.getSize().divideBy(2),g=new ue(c.subtract(h),c.add(h)),k=this._getBoundsOffset(g,l,r);return Math.abs(k.x)<=1&&Math.abs(k.y)<=1?n:this.unproject(c.add(k),r)},_limitOffset:function(n,r){if(!r)return n;var l=this.getPixelBounds(),c=new ue(l.min.add(n),l.max.add(n));return n.add(this._getBoundsOffset(c,r))},_getBoundsOffset:function(n,r,l){var c=ge(this.project(r.getNorthEast(),l),this.project(r.getSouthWest(),l)),h=c.min.subtract(n.min),g=c.max.subtract(n.max),k=this._rebound(h.x,-g.x),z=this._rebound(h.y,-g.y);return new D(k,z)},_rebound:function(n,r){return n+r>0?Math.round(n-r)/2:Math.max(0,Math.ceil(n))-Math.max(0,Math.floor(r))},_limitZoom:function(n){var r=this.getMinZoom(),l=this.getMaxZoom(),c=ce.any3d?this.options.zoomSnap:1;return c&&(n=Math.round(n/c)*c),Math.max(r,Math.min(l,n))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Fe(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(n,r){var l=this._getCenterOffset(n)._trunc();return(r&&r.animate)!==!0&&!this.getSize().contains(l)?!1:(this.panBy(l,r),!0)},_createAnimProxy:function(){var n=this._proxy=ke("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(n),this.on("zoomanim",function(r){var l=Gs,c=this._proxy.style[l];Un(this._proxy,this.project(r.center,r.zoom),this.getZoomScale(r.zoom,1)),c===this._proxy.style[l]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Ie(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var n=this.getCenter(),r=this.getZoom();Un(this._proxy,this.project(n,r),this.getZoomScale(r,1))},_catchTransitionEnd:function(n){this._animatingZoom&&n.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(n,r,l){if(this._animatingZoom)return!0;if(l=l||{},!this._zoomAnimated||l.animate===!1||this._nothingToAnimate()||Math.abs(r-this._zoom)>this.options.zoomAnimationThreshold)return!1;var c=this.getZoomScale(r),h=this._getCenterOffset(n)._divideBy(1-1/c);return l.animate!==!0&&!this.getSize().contains(h)?!1:(R(function(){this._moveStart(!0,l.noMoveStart||!1)._animateZoom(n,r,!0)},this),!0)},_animateZoom:function(n,r,l,c){this._mapPane&&(l&&(this._animatingZoom=!0,this._animateToCenter=n,this._animateToZoom=r,ye(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:n,zoom:r,noUpdate:c}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(d(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Fe(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Pm(n,r){return new Se(n,r)}var It=F.extend({options:{position:"topright"},initialize:function(n){v(this,n)},getPosition:function(){return this.options.position},setPosition:function(n){var r=this._map;return r&&r.removeControl(this),this.options.position=n,r&&r.addControl(this),this},getContainer:function(){return this._container},addTo:function(n){this.remove(),this._map=n;var r=this._container=this.onAdd(n),l=this.getPosition(),c=n._controlCorners[l];return ye(r,"leaflet-control"),l.indexOf("bottom")!==-1?c.insertBefore(r,c.firstChild):c.appendChild(r),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Ie(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(n){this._map&&n&&n.screenX>0&&n.screenY>0&&this._map.getContainer().focus()}}),nr=function(n){return new It(n)};Se.include({addControl:function(n){return n.addTo(this),this},removeControl:function(n){return n.remove(),this},_initControlPos:function(){var n=this._controlCorners={},r="leaflet-",l=this._controlContainer=ke("div",r+"control-container",this._container);function c(h,g){var k=r+h+" "+r+g;n[h+g]=ke("div",k,l)}c("top","left"),c("top","right"),c("bottom","left"),c("bottom","right")},_clearControlPos:function(){for(var n in this._controlCorners)Ie(this._controlCorners[n]);Ie(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var pc=It.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(n,r,l,c){return l<c?-1:c<l?1:0}},initialize:function(n,r,l){v(this,l),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var c in n)this._addLayer(n[c],c);for(c in r)this._addLayer(r[c],c,!0)},onAdd:function(n){this._initLayout(),this._update(),this._map=n,n.on("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(n){return It.prototype.addTo.call(this,n),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var n=0;n<this._layers.length;n++)this._layers[n].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(n,r){return this._addLayer(n,r),this._map?this._update():this},addOverlay:function(n,r){return this._addLayer(n,r,!0),this._map?this._update():this},removeLayer:function(n){n.off("add remove",this._onLayerChange,this);var r=this._getLayer(f(n));return r&&this._layers.splice(this._layers.indexOf(r),1),this._map?this._update():this},expand:function(){ye(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var n=this._map.getSize().y-(this._container.offsetTop+50);return n<this._section.clientHeight?(ye(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=n+"px"):Fe(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Fe(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var n="leaflet-control-layers",r=this._container=ke("div",n),l=this.options.collapsed;r.setAttribute("aria-haspopup",!0),tr(r),oa(r);var c=this._section=ke("section",n+"-list");l&&(this._map.on("click",this.collapse,this),ve(r,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var h=this._layersLink=ke("a",n+"-toggle",r);h.href="#",h.title="Layers",h.setAttribute("role","button"),ve(h,{keydown:function(g){g.keyCode===13&&this._expandSafely()},click:function(g){qe(g),this._expandSafely()}},this),l||this.expand(),this._baseLayersList=ke("div",n+"-base",c),this._separator=ke("div",n+"-separator",c),this._overlaysList=ke("div",n+"-overlays",c),r.appendChild(c)},_getLayer:function(n){for(var r=0;r<this._layers.length;r++)if(this._layers[r]&&f(this._layers[r].layer)===n)return this._layers[r]},_addLayer:function(n,r,l){this._map&&n.on("add remove",this._onLayerChange,this),this._layers.push({layer:n,name:r,overlay:l}),this.options.sortLayers&&this._layers.sort(d(function(c,h){return this.options.sortFunction(c.layer,h.layer,c.name,h.name)},this)),this.options.autoZIndex&&n.setZIndex&&(this._lastZIndex++,n.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;oo(this._baseLayersList),oo(this._overlaysList),this._layerControlInputs=[];var n,r,l,c,h=0;for(l=0;l<this._layers.length;l++)c=this._layers[l],this._addItem(c),r=r||c.overlay,n=n||!c.overlay,h+=c.overlay?0:1;return this.options.hideSingleBase&&(n=n&&h>1,this._baseLayersList.style.display=n?"":"none"),this._separator.style.display=r&&n?"":"none",this},_onLayerChange:function(n){this._handlingClick||this._update();var r=this._getLayer(f(n.target)),l=r.overlay?n.type==="add"?"overlayadd":"overlayremove":n.type==="add"?"baselayerchange":null;l&&this._map.fire(l,r)},_createRadioElement:function(n,r){var l='<input type="radio" class="leaflet-control-layers-selector" name="'+n+'"'+(r?' checked="checked"':"")+"/>",c=document.createElement("div");return c.innerHTML=l,c.firstChild},_addItem:function(n){var r=document.createElement("label"),l=this._map.hasLayer(n.layer),c;n.overlay?(c=document.createElement("input"),c.type="checkbox",c.className="leaflet-control-layers-selector",c.defaultChecked=l):c=this._createRadioElement("leaflet-base-layers_"+f(this),l),this._layerControlInputs.push(c),c.layerId=f(n.layer),ve(c,"click",this._onInputClick,this);var h=document.createElement("span");h.innerHTML=" "+n.name;var g=document.createElement("span");r.appendChild(g),g.appendChild(c),g.appendChild(h);var k=n.overlay?this._overlaysList:this._baseLayersList;return k.appendChild(r),this._checkDisabledLayers(),r},_onInputClick:function(){if(!this._preventClick){var n=this._layerControlInputs,r,l,c=[],h=[];this._handlingClick=!0;for(var g=n.length-1;g>=0;g--)r=n[g],l=this._getLayer(r.layerId).layer,r.checked?c.push(l):r.checked||h.push(l);for(g=0;g<h.length;g++)this._map.hasLayer(h[g])&&this._map.removeLayer(h[g]);for(g=0;g<c.length;g++)this._map.hasLayer(c[g])||this._map.addLayer(c[g]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var n=this._layerControlInputs,r,l,c=this._map.getZoom(),h=n.length-1;h>=0;h--)r=n[h],l=this._getLayer(r.layerId).layer,r.disabled=l.options.minZoom!==void 0&&c<l.options.minZoom||l.options.maxZoom!==void 0&&c>l.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var n=this._section;this._preventClick=!0,ve(n,"click",qe),this.expand();var r=this;setTimeout(function(){Ee(n,"click",qe),r._preventClick=!1})}}),Tm=function(n,r,l){return new pc(n,r,l)},aa=It.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(n){var r="leaflet-control-zoom",l=ke("div",r+" leaflet-bar"),c=this.options;return this._zoomInButton=this._createButton(c.zoomInText,c.zoomInTitle,r+"-in",l,this._zoomIn),this._zoomOutButton=this._createButton(c.zoomOutText,c.zoomOutTitle,r+"-out",l,this._zoomOut),this._updateDisabled(),n.on("zoomend zoomlevelschange",this._updateDisabled,this),l},onRemove:function(n){n.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(n){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(n.shiftKey?3:1))},_zoomOut:function(n){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(n.shiftKey?3:1))},_createButton:function(n,r,l,c,h){var g=ke("a",l,c);return g.innerHTML=n,g.href="#",g.title=r,g.setAttribute("role","button"),g.setAttribute("aria-label",r),tr(g),ve(g,"click",$n),ve(g,"click",h,this),ve(g,"click",this._refocusOnMap,this),g},_updateDisabled:function(){var n=this._map,r="leaflet-disabled";Fe(this._zoomInButton,r),Fe(this._zoomOutButton,r),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||n._zoom===n.getMinZoom())&&(ye(this._zoomOutButton,r),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||n._zoom===n.getMaxZoom())&&(ye(this._zoomInButton,r),this._zoomInButton.setAttribute("aria-disabled","true"))}});Se.mergeOptions({zoomControl:!0}),Se.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new aa,this.addControl(this.zoomControl))});var Em=function(n){return new aa(n)},mc=It.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(n){var r="leaflet-control-scale",l=ke("div",r),c=this.options;return this._addScales(c,r+"-line",l),n.on(c.updateWhenIdle?"moveend":"move",this._update,this),n.whenReady(this._update,this),l},onRemove:function(n){n.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(n,r,l){n.metric&&(this._mScale=ke("div",r,l)),n.imperial&&(this._iScale=ke("div",r,l))},_update:function(){var n=this._map,r=n.getSize().y/2,l=n.distance(n.containerPointToLatLng([0,r]),n.containerPointToLatLng([this.options.maxWidth,r]));this._updateScales(l)},_updateScales:function(n){this.options.metric&&n&&this._updateMetric(n),this.options.imperial&&n&&this._updateImperial(n)},_updateMetric:function(n){var r=this._getRoundNum(n),l=r<1e3?r+" m":r/1e3+" km";this._updateScale(this._mScale,l,r/n)},_updateImperial:function(n){var r=n*3.2808399,l,c,h;r>5280?(l=r/5280,c=this._getRoundNum(l),this._updateScale(this._iScale,c+" mi",c/l)):(h=this._getRoundNum(r),this._updateScale(this._iScale,h+" ft",h/r))},_updateScale:function(n,r,l){n.style.width=Math.round(this.options.maxWidth*l)+"px",n.innerHTML=r},_getRoundNum:function(n){var r=Math.pow(10,(Math.floor(n)+"").length-1),l=n/r;return l=l>=10?10:l>=5?5:l>=3?3:l>=2?2:1,r*l}}),Lm=function(n){return new mc(n)},Om='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',la=It.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ce.inlineSvg?Om+" ":"")+"Leaflet</a>"},initialize:function(n){v(this,n),this._attributions={}},onAdd:function(n){n.attributionControl=this,this._container=ke("div","leaflet-control-attribution"),tr(this._container);for(var r in n._layers)n._layers[r].getAttribution&&this.addAttribution(n._layers[r].getAttribution());return this._update(),n.on("layeradd",this._addAttribution,this),this._container},onRemove:function(n){n.off("layeradd",this._addAttribution,this)},_addAttribution:function(n){n.layer.getAttribution&&(this.addAttribution(n.layer.getAttribution()),n.layer.once("remove",function(){this.removeAttribution(n.layer.getAttribution())},this))},setPrefix:function(n){return this.options.prefix=n,this._update(),this},addAttribution:function(n){return n?(this._attributions[n]||(this._attributions[n]=0),this._attributions[n]++,this._update(),this):this},removeAttribution:function(n){return n?(this._attributions[n]&&(this._attributions[n]--,this._update()),this):this},_update:function(){if(this._map){var n=[];for(var r in this._attributions)this._attributions[r]&&n.push(r);var l=[];this.options.prefix&&l.push(this.options.prefix),n.length&&l.push(n.join(", ")),this._container.innerHTML=l.join(' <span aria-hidden="true">|</span> ')}}});Se.mergeOptions({attributionControl:!0}),Se.addInitHook(function(){this.options.attributionControl&&new la().addTo(this)});var Nm=function(n){return new la(n)};It.Layers=pc,It.Zoom=aa,It.Scale=mc,It.Attribution=la,nr.layers=Tm,nr.zoom=Em,nr.scale=Lm,nr.attribution=Nm;var Kt=F.extend({initialize:function(n){this._map=n},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Kt.addTo=function(n,r){return n.addHandler(r,this),this};var zm={Events:se},gc=ce.touch?"touchstart mousedown":"mousedown",gn=fe.extend({options:{clickTolerance:3},initialize:function(n,r,l,c){v(this,c),this._element=n,this._dragStartTarget=r||n,this._preventOutline=l},enable:function(){this._enabled||(ve(this._dragStartTarget,gc,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(gn._dragging===this&&this.finishDrag(!0),Ee(this._dragStartTarget,gc,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(n){if(this._enabled&&(this._moved=!1,!Ks(this._element,"leaflet-zoom-anim"))){if(n.touches&&n.touches.length!==1){gn._dragging===this&&this.finishDrag();return}if(!(gn._dragging||n.shiftKey||n.which!==1&&n.button!==1&&!n.touches)&&(gn._dragging=this,this._preventOutline&&ea(this._element),qs(),Ji(),!this._moving)){this.fire("down");var r=n.touches?n.touches[0]:n,l=lc(this._element);this._startPoint=new D(r.clientX,r.clientY),this._startPos=Zn(this._element),this._parentScale=ta(l);var c=n.type==="mousedown";ve(document,c?"mousemove":"touchmove",this._onMove,this),ve(document,c?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(n){if(this._enabled){if(n.touches&&n.touches.length>1){this._moved=!0;return}var r=n.touches&&n.touches.length===1?n.touches[0]:n,l=new D(r.clientX,r.clientY)._subtract(this._startPoint);!l.x&&!l.y||Math.abs(l.x)+Math.abs(l.y)<this.options.clickTolerance||(l.x/=this._parentScale.x,l.y/=this._parentScale.y,qe(n),this._moved||(this.fire("dragstart"),this._moved=!0,ye(document.body,"leaflet-dragging"),this._lastTarget=n.target||n.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ye(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(l),this._moving=!0,this._lastEvent=n,this._updatePosition())}},_updatePosition:function(){var n={originalEvent:this._lastEvent};this.fire("predrag",n),Ze(this._element,this._newPos),this.fire("drag",n)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(n){Fe(document.body,"leaflet-dragging"),this._lastTarget&&(Fe(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ee(document,"mousemove touchmove",this._onMove,this),Ee(document,"mouseup touchend touchcancel",this._onUp,this),Js(),Xi();var r=this._moved&&this._moving;this._moving=!1,gn._dragging=!1,r&&this.fire("dragend",{noInertia:n,distance:this._newPos.distanceTo(this._startPos)})}});function vc(n,r,l){var c,h=[1,4,2,8],g,k,z,B,H,re,pe,xe;for(g=0,re=n.length;g<re;g++)n[g]._code=Hn(n[g],r);for(z=0;z<4;z++){for(pe=h[z],c=[],g=0,re=n.length,k=re-1;g<re;k=g++)B=n[g],H=n[k],B._code&pe?H._code&pe||(xe=co(H,B,pe,r,l),xe._code=Hn(xe,r),c.push(xe)):(H._code&pe&&(xe=co(H,B,pe,r,l),xe._code=Hn(xe,r),c.push(xe)),c.push(B));n=c}return n}function yc(n,r){var l,c,h,g,k,z,B,H,re;if(!n||n.length===0)throw new Error("latlngs not passed");bt(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var pe=he([0,0]),xe=we(n),ot=xe.getNorthWest().distanceTo(xe.getSouthWest())*xe.getNorthEast().distanceTo(xe.getNorthWest());ot<1700&&(pe=ua(n));var Ke=n.length,kt=[];for(l=0;l<Ke;l++){var dt=he(n[l]);kt.push(r.project(he([dt.lat-pe.lat,dt.lng-pe.lng])))}for(z=B=H=0,l=0,c=Ke-1;l<Ke;c=l++)h=kt[l],g=kt[c],k=h.y*g.x-g.y*h.x,B+=(h.x+g.x)*k,H+=(h.y+g.y)*k,z+=k*3;z===0?re=kt[0]:re=[B/z,H/z];var gi=r.unproject(K(re));return he([gi.lat+pe.lat,gi.lng+pe.lng])}function ua(n){for(var r=0,l=0,c=0,h=0;h<n.length;h++){var g=he(n[h]);r+=g.lat,l+=g.lng,c++}return he([r/c,l/c])}var Mm={__proto__:null,clipPolygon:vc,polygonCenter:yc,centroid:ua};function xc(n,r){if(!r||!n.length)return n.slice();var l=r*r;return n=Am(n,l),n=Bm(n,l),n}function _c(n,r,l){return Math.sqrt(ir(n,r,l,!0))}function Im(n,r,l){return ir(n,r,l)}function Bm(n,r){var l=n.length,c=typeof Uint8Array<"u"?Uint8Array:Array,h=new c(l);h[0]=h[l-1]=1,ca(n,h,r,0,l-1);var g,k=[];for(g=0;g<l;g++)h[g]&&k.push(n[g]);return k}function ca(n,r,l,c,h){var g=0,k,z,B;for(z=c+1;z<=h-1;z++)B=ir(n[z],n[c],n[h],!0),B>g&&(k=z,g=B);g>l&&(r[k]=1,ca(n,r,l,c,k),ca(n,r,l,k,h))}function Am(n,r){for(var l=[n[0]],c=1,h=0,g=n.length;c<g;c++)Rm(n[c],n[h])>r&&(l.push(n[c]),h=c);return h<g-1&&l.push(n[g-1]),l}var wc;function Cc(n,r,l,c,h){var g=c?wc:Hn(n,l),k=Hn(r,l),z,B,H;for(wc=k;;){if(!(g|k))return[n,r];if(g&k)return!1;z=g||k,B=co(n,r,z,l,h),H=Hn(B,l),z===g?(n=B,g=H):(r=B,k=H)}}function co(n,r,l,c,h){var g=r.x-n.x,k=r.y-n.y,z=c.min,B=c.max,H,re;return l&8?(H=n.x+g*(B.y-n.y)/k,re=B.y):l&4?(H=n.x+g*(z.y-n.y)/k,re=z.y):l&2?(H=B.x,re=n.y+k*(B.x-n.x)/g):l&1&&(H=z.x,re=n.y+k*(z.x-n.x)/g),new D(H,re,h)}function Hn(n,r){var l=0;return n.x<r.min.x?l|=1:n.x>r.max.x&&(l|=2),n.y<r.min.y?l|=4:n.y>r.max.y&&(l|=8),l}function Rm(n,r){var l=r.x-n.x,c=r.y-n.y;return l*l+c*c}function ir(n,r,l,c){var h=r.x,g=r.y,k=l.x-h,z=l.y-g,B=k*k+z*z,H;return B>0&&(H=((n.x-h)*k+(n.y-g)*z)/B,H>1?(h=l.x,g=l.y):H>0&&(h+=k*H,g+=z*H)),k=n.x-h,z=n.y-g,c?k*k+z*z:new D(h,g)}function bt(n){return!w(n[0])||typeof n[0][0]!="object"&&typeof n[0][0]<"u"}function jc(n){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),bt(n)}function Sc(n,r){var l,c,h,g,k,z,B,H;if(!n||n.length===0)throw new Error("latlngs not passed");bt(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var re=he([0,0]),pe=we(n),xe=pe.getNorthWest().distanceTo(pe.getSouthWest())*pe.getNorthEast().distanceTo(pe.getNorthWest());xe<1700&&(re=ua(n));var ot=n.length,Ke=[];for(l=0;l<ot;l++){var kt=he(n[l]);Ke.push(r.project(he([kt.lat-re.lat,kt.lng-re.lng])))}for(l=0,c=0;l<ot-1;l++)c+=Ke[l].distanceTo(Ke[l+1])/2;if(c===0)H=Ke[0];else for(l=0,g=0;l<ot-1;l++)if(k=Ke[l],z=Ke[l+1],h=k.distanceTo(z),g+=h,g>c){B=(g-c)/h,H=[z.x-B*(z.x-k.x),z.y-B*(z.y-k.y)];break}var dt=r.unproject(K(H));return he([dt.lat+re.lat,dt.lng+re.lng])}var Dm={__proto__:null,simplify:xc,pointToSegmentDistance:_c,closestPointOnSegment:Im,clipSegment:Cc,_getEdgeIntersection:co,_getBitCode:Hn,_sqClosestPointOnSegment:ir,isFlat:bt,_flat:jc,polylineCenter:Sc},da={project:function(n){return new D(n.lng,n.lat)},unproject:function(n){return new Q(n.y,n.x)},bounds:new ue([-180,-90],[180,90])},ha={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ue([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(n){var r=Math.PI/180,l=this.R,c=n.lat*r,h=this.R_MINOR/l,g=Math.sqrt(1-h*h),k=g*Math.sin(c),z=Math.tan(Math.PI/4-c/2)/Math.pow((1-k)/(1+k),g/2);return c=-l*Math.log(Math.max(z,1e-10)),new D(n.lng*r*l,c)},unproject:function(n){for(var r=180/Math.PI,l=this.R,c=this.R_MINOR/l,h=Math.sqrt(1-c*c),g=Math.exp(-n.y/l),k=Math.PI/2-2*Math.atan(g),z=0,B=.1,H;z<15&&Math.abs(B)>1e-7;z++)H=h*Math.sin(k),H=Math.pow((1-H)/(1+H),h/2),B=Math.PI/2-2*Math.atan(g*H)-k,k+=B;return new Q(k*r,n.x*r/l)}},Fm={__proto__:null,LonLat:da,Mercator:ha,SphericalMercator:ze},Um=a({},ae,{code:"EPSG:3395",projection:ha,transformation:function(){var n=.5/(Math.PI*ha.R);return ie(n,.5,-n,.5)}()}),bc=a({},ae,{code:"EPSG:4326",projection:da,transformation:ie(1/180,1,-1/180,.5)}),Zm=a({},te,{projection:da,transformation:ie(1,0,-1,0),scale:function(n){return Math.pow(2,n)},zoom:function(n){return Math.log(n)/Math.LN2},distance:function(n,r){var l=r.lng-n.lng,c=r.lat-n.lat;return Math.sqrt(l*l+c*c)},infinite:!0});te.Earth=ae,te.EPSG3395=Um,te.EPSG3857=de,te.EPSG900913=X,te.EPSG4326=bc,te.Simple=Zm;var Bt=fe.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(n){return n.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(n){return n&&n.removeLayer(this),this},getPane:function(n){return this._map.getPane(n?this.options[n]||n:this.options.pane)},addInteractiveTarget:function(n){return this._map._targets[f(n)]=this,this},removeInteractiveTarget:function(n){return delete this._map._targets[f(n)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(n){var r=n.target;if(r.hasLayer(this)){if(this._map=r,this._zoomAnimated=r._zoomAnimated,this.getEvents){var l=this.getEvents();r.on(l,this),this.once("remove",function(){r.off(l,this)},this)}this.onAdd(r),this.fire("add"),r.fire("layeradd",{layer:this})}}});Se.include({addLayer:function(n){if(!n._layerAdd)throw new Error("The provided object is not a Layer.");var r=f(n);return this._layers[r]?this:(this._layers[r]=n,n._mapToAdd=this,n.beforeAdd&&n.beforeAdd(this),this.whenReady(n._layerAdd,n),this)},removeLayer:function(n){var r=f(n);return this._layers[r]?(this._loaded&&n.onRemove(this),delete this._layers[r],this._loaded&&(this.fire("layerremove",{layer:n}),n.fire("remove")),n._map=n._mapToAdd=null,this):this},hasLayer:function(n){return f(n)in this._layers},eachLayer:function(n,r){for(var l in this._layers)n.call(r,this._layers[l]);return this},_addLayers:function(n){n=n?w(n)?n:[n]:[];for(var r=0,l=n.length;r<l;r++)this.addLayer(n[r])},_addZoomLimit:function(n){(!isNaN(n.options.maxZoom)||!isNaN(n.options.minZoom))&&(this._zoomBoundLayers[f(n)]=n,this._updateZoomLevels())},_removeZoomLimit:function(n){var r=f(n);this._zoomBoundLayers[r]&&(delete this._zoomBoundLayers[r],this._updateZoomLevels())},_updateZoomLevels:function(){var n=1/0,r=-1/0,l=this._getZoomSpan();for(var c in this._zoomBoundLayers){var h=this._zoomBoundLayers[c].options;n=h.minZoom===void 0?n:Math.min(n,h.minZoom),r=h.maxZoom===void 0?r:Math.max(r,h.maxZoom)}this._layersMaxZoom=r===-1/0?void 0:r,this._layersMinZoom=n===1/0?void 0:n,l!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var di=Bt.extend({initialize:function(n,r){v(this,r),this._layers={};var l,c;if(n)for(l=0,c=n.length;l<c;l++)this.addLayer(n[l])},addLayer:function(n){var r=this.getLayerId(n);return this._layers[r]=n,this._map&&this._map.addLayer(n),this},removeLayer:function(n){var r=n in this._layers?n:this.getLayerId(n);return this._map&&this._layers[r]&&this._map.removeLayer(this._layers[r]),delete this._layers[r],this},hasLayer:function(n){var r=typeof n=="number"?n:this.getLayerId(n);return r in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(n){var r=Array.prototype.slice.call(arguments,1),l,c;for(l in this._layers)c=this._layers[l],c[n]&&c[n].apply(c,r);return this},onAdd:function(n){this.eachLayer(n.addLayer,n)},onRemove:function(n){this.eachLayer(n.removeLayer,n)},eachLayer:function(n,r){for(var l in this._layers)n.call(r,this._layers[l]);return this},getLayer:function(n){return this._layers[n]},getLayers:function(){var n=[];return this.eachLayer(n.push,n),n},setZIndex:function(n){return this.invoke("setZIndex",n)},getLayerId:function(n){return f(n)}}),Wm=function(n,r){return new di(n,r)},tn=di.extend({addLayer:function(n){return this.hasLayer(n)?this:(n.addEventParent(this),di.prototype.addLayer.call(this,n),this.fire("layeradd",{layer:n}))},removeLayer:function(n){return this.hasLayer(n)?(n in this._layers&&(n=this._layers[n]),n.removeEventParent(this),di.prototype.removeLayer.call(this,n),this.fire("layerremove",{layer:n})):this},setStyle:function(n){return this.invoke("setStyle",n)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var n=new Pe;for(var r in this._layers){var l=this._layers[r];n.extend(l.getBounds?l.getBounds():l.getLatLng())}return n}}),$m=function(n,r){return new tn(n,r)},hi=F.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(n){v(this,n)},createIcon:function(n){return this._createIcon("icon",n)},createShadow:function(n){return this._createIcon("shadow",n)},_createIcon:function(n,r){var l=this._getIconUrl(n);if(!l){if(n==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var c=this._createImg(l,r&&r.tagName==="IMG"?r:null);return this._setIconStyles(c,n),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),c},_setIconStyles:function(n,r){var l=this.options,c=l[r+"Size"];typeof c=="number"&&(c=[c,c]);var h=K(c),g=K(r==="shadow"&&l.shadowAnchor||l.iconAnchor||h&&h.divideBy(2,!0));n.className="leaflet-marker-"+r+" "+(l.className||""),g&&(n.style.marginLeft=-g.x+"px",n.style.marginTop=-g.y+"px"),h&&(n.style.width=h.x+"px",n.style.height=h.y+"px")},_createImg:function(n,r){return r=r||document.createElement("img"),r.src=n,r},_getIconUrl:function(n){return ce.retina&&this.options[n+"RetinaUrl"]||this.options[n+"Url"]}});function Hm(n){return new hi(n)}var rr=hi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(n){return typeof rr.imagePath!="string"&&(rr.imagePath=this._detectIconPath()),(this.options.imagePath||rr.imagePath)+hi.prototype._getIconUrl.call(this,n)},_stripUrl:function(n){var r=function(l,c,h){var g=c.exec(l);return g&&g[h]};return n=r(n,/^url\((['"])?(.+)\1\)$/,2),n&&r(n,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var n=ke("div","leaflet-default-icon-path",document.body),r=qi(n,"background-image")||qi(n,"backgroundImage");if(document.body.removeChild(n),r=this._stripUrl(r),r)return r;var l=document.querySelector('link[href$="leaflet.css"]');return l?l.href.substring(0,l.href.length-11-1):""}}),kc=Kt.extend({initialize:function(n){this._marker=n},addHooks:function(){var n=this._marker._icon;this._draggable||(this._draggable=new gn(n,n,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ye(n,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Fe(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(n){var r=this._marker,l=r._map,c=this._marker.options.autoPanSpeed,h=this._marker.options.autoPanPadding,g=Zn(r._icon),k=l.getPixelBounds(),z=l.getPixelOrigin(),B=ge(k.min._subtract(z).add(h),k.max._subtract(z).subtract(h));if(!B.contains(g)){var H=K((Math.max(B.max.x,g.x)-B.max.x)/(k.max.x-B.max.x)-(Math.min(B.min.x,g.x)-B.min.x)/(k.min.x-B.min.x),(Math.max(B.max.y,g.y)-B.max.y)/(k.max.y-B.max.y)-(Math.min(B.min.y,g.y)-B.min.y)/(k.min.y-B.min.y)).multiplyBy(c);l.panBy(H,{animate:!1}),this._draggable._newPos._add(H),this._draggable._startPos._add(H),Ze(r._icon,this._draggable._newPos),this._onDrag(n),this._panRequest=R(this._adjustPan.bind(this,n))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(n){this._marker.options.autoPan&&(Z(this._panRequest),this._panRequest=R(this._adjustPan.bind(this,n)))},_onDrag:function(n){var r=this._marker,l=r._shadow,c=Zn(r._icon),h=r._map.layerPointToLatLng(c);l&&Ze(l,c),r._latlng=h,n.latlng=h,n.oldLatLng=this._oldLatLng,r.fire("move",n).fire("drag",n)},_onDragEnd:function(n){Z(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",n)}}),ho=Bt.extend({options:{icon:new rr,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(n,r){v(this,r),this._latlng=he(n)},onAdd:function(n){this._zoomAnimated=this._zoomAnimated&&n.options.markerZoomAnimation,this._zoomAnimated&&n.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(n){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&n.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(n){var r=this._latlng;return this._latlng=he(n),this.update(),this.fire("move",{oldLatLng:r,latlng:this._latlng})},setZIndexOffset:function(n){return this.options.zIndexOffset=n,this.update()},getIcon:function(){return this.options.icon},setIcon:function(n){return this.options.icon=n,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var n=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(n)}return this},_initIcon:function(){var n=this.options,r="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),l=n.icon.createIcon(this._icon),c=!1;l!==this._icon&&(this._icon&&this._removeIcon(),c=!0,n.title&&(l.title=n.title),l.tagName==="IMG"&&(l.alt=n.alt||"")),ye(l,r),n.keyboard&&(l.tabIndex="0",l.setAttribute("role","button")),this._icon=l,n.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ve(l,"focus",this._panOnFocus,this);var h=n.icon.createShadow(this._shadow),g=!1;h!==this._shadow&&(this._removeShadow(),g=!0),h&&(ye(h,r),h.alt=""),this._shadow=h,n.opacity<1&&this._updateOpacity(),c&&this.getPane().appendChild(this._icon),this._initInteraction(),h&&g&&this.getPane(n.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ee(this._icon,"focus",this._panOnFocus,this),Ie(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Ie(this._shadow),this._shadow=null},_setPos:function(n){this._icon&&Ze(this._icon,n),this._shadow&&Ze(this._shadow,n),this._zIndex=n.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(n){this._icon&&(this._icon.style.zIndex=this._zIndex+n)},_animateZoom:function(n){var r=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center).round();this._setPos(r)},_initInteraction:function(){if(this.options.interactive&&(ye(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),kc)){var n=this.options.draggable;this.dragging&&(n=this.dragging.enabled(),this.dragging.disable()),this.dragging=new kc(this),n&&this.dragging.enable()}},setOpacity:function(n){return this.options.opacity=n,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var n=this.options.opacity;this._icon&&St(this._icon,n),this._shadow&&St(this._shadow,n)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var n=this._map;if(n){var r=this.options.icon.options,l=r.iconSize?K(r.iconSize):K(0,0),c=r.iconAnchor?K(r.iconAnchor):K(0,0);n.panInside(this._latlng,{paddingTopLeft:c,paddingBottomRight:l.subtract(c)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Vm(n,r){return new ho(n,r)}var vn=Bt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(n){this._renderer=n.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(n){return v(this,n),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&n&&Object.prototype.hasOwnProperty.call(n,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),fo=vn.extend({options:{fill:!0,radius:10},initialize:function(n,r){v(this,r),this._latlng=he(n),this._radius=this.options.radius},setLatLng:function(n){var r=this._latlng;return this._latlng=he(n),this.redraw(),this.fire("move",{oldLatLng:r,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(n){return this.options.radius=this._radius=n,this.redraw()},getRadius:function(){return this._radius},setStyle:function(n){var r=n&&n.radius||this._radius;return vn.prototype.setStyle.call(this,n),this.setRadius(r),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var n=this._radius,r=this._radiusY||n,l=this._clickTolerance(),c=[n+l,r+l];this._pxBounds=new ue(this._point.subtract(c),this._point.add(c))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(n){return n.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Gm(n,r){return new fo(n,r)}var fa=fo.extend({initialize:function(n,r,l){if(typeof r=="number"&&(r=a({},l,{radius:r})),v(this,r),this._latlng=he(n),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(n){return this._mRadius=n,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var n=[this._radius,this._radiusY||this._radius];return new Pe(this._map.layerPointToLatLng(this._point.subtract(n)),this._map.layerPointToLatLng(this._point.add(n)))},setStyle:vn.prototype.setStyle,_project:function(){var n=this._latlng.lng,r=this._latlng.lat,l=this._map,c=l.options.crs;if(c.distance===ae.distance){var h=Math.PI/180,g=this._mRadius/ae.R/h,k=l.project([r+g,n]),z=l.project([r-g,n]),B=k.add(z).divideBy(2),H=l.unproject(B).lat,re=Math.acos((Math.cos(g*h)-Math.sin(r*h)*Math.sin(H*h))/(Math.cos(r*h)*Math.cos(H*h)))/h;(isNaN(re)||re===0)&&(re=g/Math.cos(Math.PI/180*r)),this._point=B.subtract(l.getPixelOrigin()),this._radius=isNaN(re)?0:B.x-l.project([H,n-re]).x,this._radiusY=B.y-k.y}else{var pe=c.unproject(c.project(this._latlng).subtract([this._mRadius,0]));this._point=l.latLngToLayerPoint(this._latlng),this._radius=this._point.x-l.latLngToLayerPoint(pe).x}this._updateBounds()}});function Km(n,r,l){return new fa(n,r,l)}var nn=vn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(n,r){v(this,r),this._setLatLngs(n)},getLatLngs:function(){return this._latlngs},setLatLngs:function(n){return this._setLatLngs(n),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(n){for(var r=1/0,l=null,c=ir,h,g,k=0,z=this._parts.length;k<z;k++)for(var B=this._parts[k],H=1,re=B.length;H<re;H++){h=B[H-1],g=B[H];var pe=c(n,h,g,!0);pe<r&&(r=pe,l=c(n,h,g))}return l&&(l.distance=Math.sqrt(r)),l},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Sc(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(n,r){return r=r||this._defaultShape(),n=he(n),r.push(n),this._bounds.extend(n),this.redraw()},_setLatLngs:function(n){this._bounds=new Pe,this._latlngs=this._convertLatLngs(n)},_defaultShape:function(){return bt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(n){for(var r=[],l=bt(n),c=0,h=n.length;c<h;c++)l?(r[c]=he(n[c]),this._bounds.extend(r[c])):r[c]=this._convertLatLngs(n[c]);return r},_project:function(){var n=new ue;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,n),this._bounds.isValid()&&n.isValid()&&(this._rawPxBounds=n,this._updateBounds())},_updateBounds:function(){var n=this._clickTolerance(),r=new D(n,n);this._rawPxBounds&&(this._pxBounds=new ue([this._rawPxBounds.min.subtract(r),this._rawPxBounds.max.add(r)]))},_projectLatlngs:function(n,r,l){var c=n[0]instanceof Q,h=n.length,g,k;if(c){for(k=[],g=0;g<h;g++)k[g]=this._map.latLngToLayerPoint(n[g]),l.extend(k[g]);r.push(k)}else for(g=0;g<h;g++)this._projectLatlngs(n[g],r,l)},_clipPoints:function(){var n=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}var r=this._parts,l,c,h,g,k,z,B;for(l=0,h=0,g=this._rings.length;l<g;l++)for(B=this._rings[l],c=0,k=B.length;c<k-1;c++)z=Cc(B[c],B[c+1],n,c,!0),z&&(r[h]=r[h]||[],r[h].push(z[0]),(z[1]!==B[c+1]||c===k-2)&&(r[h].push(z[1]),h++))}},_simplifyPoints:function(){for(var n=this._parts,r=this.options.smoothFactor,l=0,c=n.length;l<c;l++)n[l]=xc(n[l],r)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(n,r){var l,c,h,g,k,z,B=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(l=0,g=this._parts.length;l<g;l++)for(z=this._parts[l],c=0,k=z.length,h=k-1;c<k;h=c++)if(!(!r&&c===0)&&_c(n,z[h],z[c])<=B)return!0;return!1}});function Ym(n,r){return new nn(n,r)}nn._flat=jc;var fi=nn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return yc(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(n){var r=nn.prototype._convertLatLngs.call(this,n),l=r.length;return l>=2&&r[0]instanceof Q&&r[0].equals(r[l-1])&&r.pop(),r},_setLatLngs:function(n){nn.prototype._setLatLngs.call(this,n),bt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return bt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var n=this._renderer._bounds,r=this.options.weight,l=new D(r,r);if(n=new ue(n.min.subtract(l),n.max.add(l)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}for(var c=0,h=this._rings.length,g;c<h;c++)g=vc(this._rings[c],n,!0),g.length&&this._parts.push(g)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(n){var r=!1,l,c,h,g,k,z,B,H;if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(g=0,B=this._parts.length;g<B;g++)for(l=this._parts[g],k=0,H=l.length,z=H-1;k<H;z=k++)c=l[k],h=l[z],c.y>n.y!=h.y>n.y&&n.x<(h.x-c.x)*(n.y-c.y)/(h.y-c.y)+c.x&&(r=!r);return r||nn.prototype._containsPoint.call(this,n,!0)}});function Qm(n,r){return new fi(n,r)}var rn=tn.extend({initialize:function(n,r){v(this,r),this._layers={},n&&this.addData(n)},addData:function(n){var r=w(n)?n:n.features,l,c,h;if(r){for(l=0,c=r.length;l<c;l++)h=r[l],(h.geometries||h.geometry||h.features||h.coordinates)&&this.addData(h);return this}var g=this.options;if(g.filter&&!g.filter(n))return this;var k=po(n,g);return k?(k.feature=vo(n),k.defaultOptions=k.options,this.resetStyle(k),g.onEachFeature&&g.onEachFeature(n,k),this.addLayer(k)):this},resetStyle:function(n){return n===void 0?this.eachLayer(this.resetStyle,this):(n.options=a({},n.defaultOptions),this._setLayerStyle(n,this.options.style),this)},setStyle:function(n){return this.eachLayer(function(r){this._setLayerStyle(r,n)},this)},_setLayerStyle:function(n,r){n.setStyle&&(typeof r=="function"&&(r=r(n.feature)),n.setStyle(r))}});function po(n,r){var l=n.type==="Feature"?n.geometry:n,c=l?l.coordinates:null,h=[],g=r&&r.pointToLayer,k=r&&r.coordsToLatLng||pa,z,B,H,re;if(!c&&!l)return null;switch(l.type){case"Point":return z=k(c),Pc(g,n,z,r);case"MultiPoint":for(H=0,re=c.length;H<re;H++)z=k(c[H]),h.push(Pc(g,n,z,r));return new tn(h);case"LineString":case"MultiLineString":return B=mo(c,l.type==="LineString"?0:1,k),new nn(B,r);case"Polygon":case"MultiPolygon":return B=mo(c,l.type==="Polygon"?1:2,k),new fi(B,r);case"GeometryCollection":for(H=0,re=l.geometries.length;H<re;H++){var pe=po({geometry:l.geometries[H],type:"Feature",properties:n.properties},r);pe&&h.push(pe)}return new tn(h);case"FeatureCollection":for(H=0,re=l.features.length;H<re;H++){var xe=po(l.features[H],r);xe&&h.push(xe)}return new tn(h);default:throw new Error("Invalid GeoJSON object.")}}function Pc(n,r,l,c){return n?n(r,l):new ho(l,c&&c.markersInheritOptions&&c)}function pa(n){return new Q(n[1],n[0],n[2])}function mo(n,r,l){for(var c=[],h=0,g=n.length,k;h<g;h++)k=r?mo(n[h],r-1,l):(l||pa)(n[h]),c.push(k);return c}function ma(n,r){return n=he(n),n.alt!==void 0?[S(n.lng,r),S(n.lat,r),S(n.alt,r)]:[S(n.lng,r),S(n.lat,r)]}function go(n,r,l,c){for(var h=[],g=0,k=n.length;g<k;g++)h.push(r?go(n[g],bt(n[g])?0:r-1,l,c):ma(n[g],c));return!r&&l&&h.length>0&&h.push(h[0].slice()),h}function pi(n,r){return n.feature?a({},n.feature,{geometry:r}):vo(r)}function vo(n){return n.type==="Feature"||n.type==="FeatureCollection"?n:{type:"Feature",properties:{},geometry:n}}var ga={toGeoJSON:function(n){return pi(this,{type:"Point",coordinates:ma(this.getLatLng(),n)})}};ho.include(ga),fa.include(ga),fo.include(ga),nn.include({toGeoJSON:function(n){var r=!bt(this._latlngs),l=go(this._latlngs,r?1:0,!1,n);return pi(this,{type:(r?"Multi":"")+"LineString",coordinates:l})}}),fi.include({toGeoJSON:function(n){var r=!bt(this._latlngs),l=r&&!bt(this._latlngs[0]),c=go(this._latlngs,l?2:r?1:0,!0,n);return r||(c=[c]),pi(this,{type:(l?"Multi":"")+"Polygon",coordinates:c})}}),di.include({toMultiPoint:function(n){var r=[];return this.eachLayer(function(l){r.push(l.toGeoJSON(n).geometry.coordinates)}),pi(this,{type:"MultiPoint",coordinates:r})},toGeoJSON:function(n){var r=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(r==="MultiPoint")return this.toMultiPoint(n);var l=r==="GeometryCollection",c=[];return this.eachLayer(function(h){if(h.toGeoJSON){var g=h.toGeoJSON(n);if(l)c.push(g.geometry);else{var k=vo(g);k.type==="FeatureCollection"?c.push.apply(c,k.features):c.push(k)}}}),l?pi(this,{geometries:c,type:"GeometryCollection"}):{type:"FeatureCollection",features:c}}});function Tc(n,r){return new rn(n,r)}var qm=Tc,yo=Bt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(n,r,l){this._url=n,this._bounds=we(r),v(this,l)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ye(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Ie(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(n){return this.options.opacity=n,this._image&&this._updateOpacity(),this},setStyle:function(n){return n.opacity&&this.setOpacity(n.opacity),this},bringToFront:function(){return this._map&&ui(this._image),this},bringToBack:function(){return this._map&&ci(this._image),this},setUrl:function(n){return this._url=n,this._image&&(this._image.src=n),this},setBounds:function(n){return this._bounds=we(n),this._map&&this._reset(),this},getEvents:function(){var n={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var n=this._url.tagName==="IMG",r=this._image=n?this._url:ke("img");if(ye(r,"leaflet-image-layer"),this._zoomAnimated&&ye(r,"leaflet-zoom-animated"),this.options.className&&ye(r,this.options.className),r.onselectstart=j,r.onmousemove=j,r.onload=d(this.fire,this,"load"),r.onerror=d(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(r.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),n){this._url=r.src;return}r.src=this._url,r.alt=this.options.alt},_animateZoom:function(n){var r=this._map.getZoomScale(n.zoom),l=this._map._latLngBoundsToNewLayerBounds(this._bounds,n.zoom,n.center).min;Un(this._image,l,r)},_reset:function(){var n=this._image,r=new ue(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),l=r.getSize();Ze(n,r.min),n.style.width=l.x+"px",n.style.height=l.y+"px"},_updateOpacity:function(){St(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var n=this.options.errorOverlayUrl;n&&this._url!==n&&(this._url=n,this._image.src=n)},getCenter:function(){return this._bounds.getCenter()}}),Jm=function(n,r,l){return new yo(n,r,l)},Ec=yo.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var n=this._url.tagName==="VIDEO",r=this._image=n?this._url:ke("video");if(ye(r,"leaflet-image-layer"),this._zoomAnimated&&ye(r,"leaflet-zoom-animated"),this.options.className&&ye(r,this.options.className),r.onselectstart=j,r.onmousemove=j,r.onloadeddata=d(this.fire,this,"load"),n){for(var l=r.getElementsByTagName("source"),c=[],h=0;h<l.length;h++)c.push(l[h].src);this._url=l.length>0?c:[r.src];return}w(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(r.style,"objectFit")&&(r.style.objectFit="fill"),r.autoplay=!!this.options.autoplay,r.loop=!!this.options.loop,r.muted=!!this.options.muted,r.playsInline=!!this.options.playsInline;for(var g=0;g<this._url.length;g++){var k=ke("source");k.src=this._url[g],r.appendChild(k)}}});function Xm(n,r,l){return new Ec(n,r,l)}var Lc=yo.extend({_initImage:function(){var n=this._image=this._url;ye(n,"leaflet-image-layer"),this._zoomAnimated&&ye(n,"leaflet-zoom-animated"),this.options.className&&ye(n,this.options.className),n.onselectstart=j,n.onmousemove=j}});function eg(n,r,l){return new Lc(n,r,l)}var Yt=Bt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(n,r){n&&(n instanceof Q||w(n))?(this._latlng=he(n),v(this,r)):(v(this,n),this._source=r),this.options.content&&(this._content=this.options.content)},openOn:function(n){return n=arguments.length?n:this._source._map,n.hasLayer(this)||n.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(n){return this._map?this.close():(arguments.length?this._source=n:n=this._source,this._prepareOpen(),this.openOn(n._map)),this},onAdd:function(n){this._zoomAnimated=n._zoomAnimated,this._container||this._initLayout(),n._fadeAnimated&&St(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),n._fadeAnimated&&St(this._container,1),this.bringToFront(),this.options.interactive&&(ye(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(n){n._fadeAnimated?(St(this._container,0),this._removeTimeout=setTimeout(d(Ie,void 0,this._container),200)):Ie(this._container),this.options.interactive&&(Fe(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(n){return this._latlng=he(n),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(n){return this._content=n,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var n={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ui(this._container),this},bringToBack:function(){return this._map&&ci(this._container),this},_prepareOpen:function(n){var r=this._source;if(!r._map)return!1;if(r instanceof tn){r=null;var l=this._source._layers;for(var c in l)if(l[c]._map){r=l[c];break}if(!r)return!1;this._source=r}if(!n)if(r.getCenter)n=r.getCenter();else if(r.getLatLng)n=r.getLatLng();else if(r.getBounds)n=r.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(n),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var n=this._contentNode,r=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof r=="string")n.innerHTML=r;else{for(;n.hasChildNodes();)n.removeChild(n.firstChild);n.appendChild(r)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var n=this._map.latLngToLayerPoint(this._latlng),r=K(this.options.offset),l=this._getAnchor();this._zoomAnimated?Ze(this._container,n.add(l)):r=r.add(n).add(l);var c=this._containerBottom=-r.y,h=this._containerLeft=-Math.round(this._containerWidth/2)+r.x;this._container.style.bottom=c+"px",this._container.style.left=h+"px"}},_getAnchor:function(){return[0,0]}});Se.include({_initOverlay:function(n,r,l,c){var h=r;return h instanceof n||(h=new n(c).setContent(r)),l&&h.setLatLng(l),h}}),Bt.include({_initOverlay:function(n,r,l,c){var h=l;return h instanceof n?(v(h,c),h._source=this):(h=r&&!c?r:new n(c,this),h.setContent(l)),h}});var xo=Yt.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(n){return n=arguments.length?n:this._source._map,!n.hasLayer(this)&&n._popup&&n._popup.options.autoClose&&n.removeLayer(n._popup),n._popup=this,Yt.prototype.openOn.call(this,n)},onAdd:function(n){Yt.prototype.onAdd.call(this,n),n.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof vn||this._source.on("preclick",Wn))},onRemove:function(n){Yt.prototype.onRemove.call(this,n),n.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof vn||this._source.off("preclick",Wn))},getEvents:function(){var n=Yt.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(n.preclick=this.close),this.options.keepInView&&(n.moveend=this._adjustPan),n},_initLayout:function(){var n="leaflet-popup",r=this._container=ke("div",n+" "+(this.options.className||"")+" leaflet-zoom-animated"),l=this._wrapper=ke("div",n+"-content-wrapper",r);if(this._contentNode=ke("div",n+"-content",l),tr(r),oa(this._contentNode),ve(r,"contextmenu",Wn),this._tipContainer=ke("div",n+"-tip-container",r),this._tip=ke("div",n+"-tip",this._tipContainer),this.options.closeButton){var c=this._closeButton=ke("a",n+"-close-button",r);c.setAttribute("role","button"),c.setAttribute("aria-label","Close popup"),c.href="#close",c.innerHTML='<span aria-hidden="true">&#215;</span>',ve(c,"click",function(h){qe(h),this.close()},this)}},_updateLayout:function(){var n=this._contentNode,r=n.style;r.width="",r.whiteSpace="nowrap";var l=n.offsetWidth;l=Math.min(l,this.options.maxWidth),l=Math.max(l,this.options.minWidth),r.width=l+1+"px",r.whiteSpace="",r.height="";var c=n.offsetHeight,h=this.options.maxHeight,g="leaflet-popup-scrolled";h&&c>h?(r.height=h+"px",ye(n,g)):Fe(n,g),this._containerWidth=this._container.offsetWidth},_animateZoom:function(n){var r=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center),l=this._getAnchor();Ze(this._container,r.add(l))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var n=this._map,r=parseInt(qi(this._container,"marginBottom"),10)||0,l=this._container.offsetHeight+r,c=this._containerWidth,h=new D(this._containerLeft,-l-this._containerBottom);h._add(Zn(this._container));var g=n.layerPointToContainerPoint(h),k=K(this.options.autoPanPadding),z=K(this.options.autoPanPaddingTopLeft||k),B=K(this.options.autoPanPaddingBottomRight||k),H=n.getSize(),re=0,pe=0;g.x+c+B.x>H.x&&(re=g.x+c-H.x+B.x),g.x-re-z.x<0&&(re=g.x-z.x),g.y+l+B.y>H.y&&(pe=g.y+l-H.y+B.y),g.y-pe-z.y<0&&(pe=g.y-z.y),(re||pe)&&(this.options.keepInView&&(this._autopanning=!0),n.fire("autopanstart").panBy([re,pe]))}},_getAnchor:function(){return K(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),tg=function(n,r){return new xo(n,r)};Se.mergeOptions({closePopupOnClick:!0}),Se.include({openPopup:function(n,r,l){return this._initOverlay(xo,n,r,l).openOn(this),this},closePopup:function(n){return n=arguments.length?n:this._popup,n&&n.close(),this}}),Bt.include({bindPopup:function(n,r){return this._popup=this._initOverlay(xo,this._popup,n,r),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(n){return this._popup&&(this instanceof tn||(this._popup._source=this),this._popup._prepareOpen(n||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(n){return this._popup&&this._popup.setContent(n),this},getPopup:function(){return this._popup},_openPopup:function(n){if(!(!this._popup||!this._map)){$n(n);var r=n.layer||n.target;if(this._popup._source===r&&!(r instanceof vn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(n.latlng);return}this._popup._source=r,this.openPopup(n.latlng)}},_movePopup:function(n){this._popup.setLatLng(n.latlng)},_onKeyPress:function(n){n.originalEvent.keyCode===13&&this._openPopup(n)}});var _o=Yt.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(n){Yt.prototype.onAdd.call(this,n),this.setOpacity(this.options.opacity),n.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(n){Yt.prototype.onRemove.call(this,n),n.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var n=Yt.prototype.getEvents.call(this);return this.options.permanent||(n.preclick=this.close),n},_initLayout:function(){var n="leaflet-tooltip",r=n+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ke("div",r),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+f(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(n){var r,l,c=this._map,h=this._container,g=c.latLngToContainerPoint(c.getCenter()),k=c.layerPointToContainerPoint(n),z=this.options.direction,B=h.offsetWidth,H=h.offsetHeight,re=K(this.options.offset),pe=this._getAnchor();z==="top"?(r=B/2,l=H):z==="bottom"?(r=B/2,l=0):z==="center"?(r=B/2,l=H/2):z==="right"?(r=0,l=H/2):z==="left"?(r=B,l=H/2):k.x<g.x?(z="right",r=0,l=H/2):(z="left",r=B+(re.x+pe.x)*2,l=H/2),n=n.subtract(K(r,l,!0)).add(re).add(pe),Fe(h,"leaflet-tooltip-right"),Fe(h,"leaflet-tooltip-left"),Fe(h,"leaflet-tooltip-top"),Fe(h,"leaflet-tooltip-bottom"),ye(h,"leaflet-tooltip-"+z),Ze(h,n)},_updatePosition:function(){var n=this._map.latLngToLayerPoint(this._latlng);this._setPosition(n)},setOpacity:function(n){this.options.opacity=n,this._container&&St(this._container,n)},_animateZoom:function(n){var r=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center);this._setPosition(r)},_getAnchor:function(){return K(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),ng=function(n,r){return new _o(n,r)};Se.include({openTooltip:function(n,r,l){return this._initOverlay(_o,n,r,l).openOn(this),this},closeTooltip:function(n){return n.close(),this}}),Bt.include({bindTooltip:function(n,r){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(_o,this._tooltip,n,r),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(n){if(!(!n&&this._tooltipHandlersAdded)){var r=n?"off":"on",l={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?l.add=this._openTooltip:(l.mouseover=this._openTooltip,l.mouseout=this.closeTooltip,l.click=this._openTooltip,this._map?this._addFocusListeners():l.add=this._addFocusListeners),this._tooltip.options.sticky&&(l.mousemove=this._moveTooltip),this[r](l),this._tooltipHandlersAdded=!n}},openTooltip:function(n){return this._tooltip&&(this instanceof tn||(this._tooltip._source=this),this._tooltip._prepareOpen(n)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(n){return this._tooltip&&this._tooltip.setContent(n),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(n){var r=typeof n.getElement=="function"&&n.getElement();r&&(ve(r,"focus",function(){this._tooltip._source=n,this.openTooltip()},this),ve(r,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(n){var r=typeof n.getElement=="function"&&n.getElement();r&&r.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(n){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var r=this;this._map.once("moveend",function(){r._openOnceFlag=!1,r._openTooltip(n)});return}this._tooltip._source=n.layer||n.target,this.openTooltip(this._tooltip.options.sticky?n.latlng:void 0)}},_moveTooltip:function(n){var r=n.latlng,l,c;this._tooltip.options.sticky&&n.originalEvent&&(l=this._map.mouseEventToContainerPoint(n.originalEvent),c=this._map.containerPointToLayerPoint(l),r=this._map.layerPointToLatLng(c)),this._tooltip.setLatLng(r)}});var Oc=hi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(n){var r=n&&n.tagName==="DIV"?n:document.createElement("div"),l=this.options;if(l.html instanceof Element?(oo(r),r.appendChild(l.html)):r.innerHTML=l.html!==!1?l.html:"",l.bgPos){var c=K(l.bgPos);r.style.backgroundPosition=-c.x+"px "+-c.y+"px"}return this._setIconStyles(r,"icon"),r},createShadow:function(){return null}});function ig(n){return new Oc(n)}hi.Default=rr;var or=Bt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ce.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(n){v(this,n)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(n){n._addZoomLimit(this)},onRemove:function(n){this._removeAllTiles(),Ie(this._container),n._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ui(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ci(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(n){return this.options.opacity=n,this._updateOpacity(),this},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var n=this._clampZoom(this._map.getZoom());n!==this._tileZoom&&(this._tileZoom=n,this._updateLevels()),this._update()}return this},getEvents:function(){var n={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=m(this._onMoveEnd,this.options.updateInterval,this)),n.move=this._onMove),this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},createTile:function(){return document.createElement("div")},getTileSize:function(){var n=this.options.tileSize;return n instanceof D?n:new D(n,n)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(n){for(var r=this.getPane().children,l=-n(-1/0,1/0),c=0,h=r.length,g;c<h;c++)g=r[c].style.zIndex,r[c]!==this._container&&g&&(l=n(l,+g));isFinite(l)&&(this.options.zIndex=l+n(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ce.ielt9){St(this._container,this.options.opacity);var n=+new Date,r=!1,l=!1;for(var c in this._tiles){var h=this._tiles[c];if(!(!h.current||!h.loaded)){var g=Math.min(1,(n-h.loaded)/200);St(h.el,g),g<1?r=!0:(h.active?l=!0:this._onOpaqueTile(h),h.active=!0)}}l&&!this._noPrune&&this._pruneTiles(),r&&(Z(this._fadeFrame),this._fadeFrame=R(this._updateOpacity,this))}},_onOpaqueTile:j,_initContainer:function(){this._container||(this._container=ke("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var n=this._tileZoom,r=this.options.maxZoom;if(n!==void 0){for(var l in this._levels)l=Number(l),this._levels[l].el.children.length||l===n?(this._levels[l].el.style.zIndex=r-Math.abs(n-l),this._onUpdateLevel(l)):(Ie(this._levels[l].el),this._removeTilesAtZoom(l),this._onRemoveLevel(l),delete this._levels[l]);var c=this._levels[n],h=this._map;return c||(c=this._levels[n]={},c.el=ke("div","leaflet-tile-container leaflet-zoom-animated",this._container),c.el.style.zIndex=r,c.origin=h.project(h.unproject(h.getPixelOrigin()),n).round(),c.zoom=n,this._setZoomTransform(c,h.getCenter(),h.getZoom()),j(c.el.offsetWidth),this._onCreateLevel(c)),this._level=c,c}},_onUpdateLevel:j,_onRemoveLevel:j,_onCreateLevel:j,_pruneTiles:function(){if(this._map){var n,r,l=this._map.getZoom();if(l>this.options.maxZoom||l<this.options.minZoom){this._removeAllTiles();return}for(n in this._tiles)r=this._tiles[n],r.retain=r.current;for(n in this._tiles)if(r=this._tiles[n],r.current&&!r.active){var c=r.coords;this._retainParent(c.x,c.y,c.z,c.z-5)||this._retainChildren(c.x,c.y,c.z,c.z+2)}for(n in this._tiles)this._tiles[n].retain||this._removeTile(n)}},_removeTilesAtZoom:function(n){for(var r in this._tiles)this._tiles[r].coords.z===n&&this._removeTile(r)},_removeAllTiles:function(){for(var n in this._tiles)this._removeTile(n)},_invalidateAll:function(){for(var n in this._levels)Ie(this._levels[n].el),this._onRemoveLevel(Number(n)),delete this._levels[n];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(n,r,l,c){var h=Math.floor(n/2),g=Math.floor(r/2),k=l-1,z=new D(+h,+g);z.z=+k;var B=this._tileCoordsToKey(z),H=this._tiles[B];return H&&H.active?(H.retain=!0,!0):(H&&H.loaded&&(H.retain=!0),k>c?this._retainParent(h,g,k,c):!1)},_retainChildren:function(n,r,l,c){for(var h=2*n;h<2*n+2;h++)for(var g=2*r;g<2*r+2;g++){var k=new D(h,g);k.z=l+1;var z=this._tileCoordsToKey(k),B=this._tiles[z];if(B&&B.active){B.retain=!0;continue}else B&&B.loaded&&(B.retain=!0);l+1<c&&this._retainChildren(h,g,l+1,c)}},_resetView:function(n){var r=n&&(n.pinch||n.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),r,r)},_animateZoom:function(n){this._setView(n.center,n.zoom,!0,n.noUpdate)},_clampZoom:function(n){var r=this.options;return r.minNativeZoom!==void 0&&n<r.minNativeZoom?r.minNativeZoom:r.maxNativeZoom!==void 0&&r.maxNativeZoom<n?r.maxNativeZoom:n},_setView:function(n,r,l,c){var h=Math.round(r);this.options.maxZoom!==void 0&&h>this.options.maxZoom||this.options.minZoom!==void 0&&h<this.options.minZoom?h=void 0:h=this._clampZoom(h);var g=this.options.updateWhenZooming&&h!==this._tileZoom;(!c||g)&&(this._tileZoom=h,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),h!==void 0&&this._update(n),l||this._pruneTiles(),this._noPrune=!!l),this._setZoomTransforms(n,r)},_setZoomTransforms:function(n,r){for(var l in this._levels)this._setZoomTransform(this._levels[l],n,r)},_setZoomTransform:function(n,r,l){var c=this._map.getZoomScale(l,n.zoom),h=n.origin.multiplyBy(c).subtract(this._map._getNewPixelOrigin(r,l)).round();ce.any3d?Un(n.el,h,c):Ze(n.el,h)},_resetGrid:function(){var n=this._map,r=n.options.crs,l=this._tileSize=this.getTileSize(),c=this._tileZoom,h=this._map.getPixelWorldBounds(this._tileZoom);h&&(this._globalTileRange=this._pxBoundsToTileRange(h)),this._wrapX=r.wrapLng&&!this.options.noWrap&&[Math.floor(n.project([0,r.wrapLng[0]],c).x/l.x),Math.ceil(n.project([0,r.wrapLng[1]],c).x/l.y)],this._wrapY=r.wrapLat&&!this.options.noWrap&&[Math.floor(n.project([r.wrapLat[0],0],c).y/l.x),Math.ceil(n.project([r.wrapLat[1],0],c).y/l.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(n){var r=this._map,l=r._animatingZoom?Math.max(r._animateToZoom,r.getZoom()):r.getZoom(),c=r.getZoomScale(l,this._tileZoom),h=r.project(n,this._tileZoom).floor(),g=r.getSize().divideBy(c*2);return new ue(h.subtract(g),h.add(g))},_update:function(n){var r=this._map;if(r){var l=this._clampZoom(r.getZoom());if(n===void 0&&(n=r.getCenter()),this._tileZoom!==void 0){var c=this._getTiledPixelBounds(n),h=this._pxBoundsToTileRange(c),g=h.getCenter(),k=[],z=this.options.keepBuffer,B=new ue(h.getBottomLeft().subtract([z,-z]),h.getTopRight().add([z,-z]));if(!(isFinite(h.min.x)&&isFinite(h.min.y)&&isFinite(h.max.x)&&isFinite(h.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var H in this._tiles){var re=this._tiles[H].coords;(re.z!==this._tileZoom||!B.contains(new D(re.x,re.y)))&&(this._tiles[H].current=!1)}if(Math.abs(l-this._tileZoom)>1){this._setView(n,l);return}for(var pe=h.min.y;pe<=h.max.y;pe++)for(var xe=h.min.x;xe<=h.max.x;xe++){var ot=new D(xe,pe);if(ot.z=this._tileZoom,!!this._isValidTile(ot)){var Ke=this._tiles[this._tileCoordsToKey(ot)];Ke?Ke.current=!0:k.push(ot)}}if(k.sort(function(dt,gi){return dt.distanceTo(g)-gi.distanceTo(g)}),k.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var kt=document.createDocumentFragment();for(xe=0;xe<k.length;xe++)this._addTile(k[xe],kt);this._level.el.appendChild(kt)}}}},_isValidTile:function(n){var r=this._map.options.crs;if(!r.infinite){var l=this._globalTileRange;if(!r.wrapLng&&(n.x<l.min.x||n.x>l.max.x)||!r.wrapLat&&(n.y<l.min.y||n.y>l.max.y))return!1}if(!this.options.bounds)return!0;var c=this._tileCoordsToBounds(n);return we(this.options.bounds).overlaps(c)},_keyToBounds:function(n){return this._tileCoordsToBounds(this._keyToTileCoords(n))},_tileCoordsToNwSe:function(n){var r=this._map,l=this.getTileSize(),c=n.scaleBy(l),h=c.add(l),g=r.unproject(c,n.z),k=r.unproject(h,n.z);return[g,k]},_tileCoordsToBounds:function(n){var r=this._tileCoordsToNwSe(n),l=new Pe(r[0],r[1]);return this.options.noWrap||(l=this._map.wrapLatLngBounds(l)),l},_tileCoordsToKey:function(n){return n.x+":"+n.y+":"+n.z},_keyToTileCoords:function(n){var r=n.split(":"),l=new D(+r[0],+r[1]);return l.z=+r[2],l},_removeTile:function(n){var r=this._tiles[n];r&&(Ie(r.el),delete this._tiles[n],this.fire("tileunload",{tile:r.el,coords:this._keyToTileCoords(n)}))},_initTile:function(n){ye(n,"leaflet-tile");var r=this.getTileSize();n.style.width=r.x+"px",n.style.height=r.y+"px",n.onselectstart=j,n.onmousemove=j,ce.ielt9&&this.options.opacity<1&&St(n,this.options.opacity)},_addTile:function(n,r){var l=this._getTilePos(n),c=this._tileCoordsToKey(n),h=this.createTile(this._wrapCoords(n),d(this._tileReady,this,n));this._initTile(h),this.createTile.length<2&&R(d(this._tileReady,this,n,null,h)),Ze(h,l),this._tiles[c]={el:h,coords:n,current:!0},r.appendChild(h),this.fire("tileloadstart",{tile:h,coords:n})},_tileReady:function(n,r,l){r&&this.fire("tileerror",{error:r,tile:l,coords:n});var c=this._tileCoordsToKey(n);l=this._tiles[c],l&&(l.loaded=+new Date,this._map._fadeAnimated?(St(l.el,0),Z(this._fadeFrame),this._fadeFrame=R(this._updateOpacity,this)):(l.active=!0,this._pruneTiles()),r||(ye(l.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:l.el,coords:n})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ce.ielt9||!this._map._fadeAnimated?R(this._pruneTiles,this):setTimeout(d(this._pruneTiles,this),250)))},_getTilePos:function(n){return n.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(n){var r=new D(this._wrapX?x(n.x,this._wrapX):n.x,this._wrapY?x(n.y,this._wrapY):n.y);return r.z=n.z,r},_pxBoundsToTileRange:function(n){var r=this.getTileSize();return new ue(n.min.unscaleBy(r).floor(),n.max.unscaleBy(r).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var n in this._tiles)if(!this._tiles[n].loaded)return!1;return!0}});function rg(n){return new or(n)}var mi=or.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(n,r){this._url=n,r=v(this,r),r.detectRetina&&ce.retina&&r.maxZoom>0?(r.tileSize=Math.floor(r.tileSize/2),r.zoomReverse?(r.zoomOffset--,r.minZoom=Math.min(r.maxZoom,r.minZoom+1)):(r.zoomOffset++,r.maxZoom=Math.max(r.minZoom,r.maxZoom-1)),r.minZoom=Math.max(0,r.minZoom)):r.zoomReverse?r.minZoom=Math.min(r.maxZoom,r.minZoom):r.maxZoom=Math.max(r.minZoom,r.maxZoom),typeof r.subdomains=="string"&&(r.subdomains=r.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(n,r){return this._url===n&&r===void 0&&(r=!0),this._url=n,r||this.redraw(),this},createTile:function(n,r){var l=document.createElement("img");return ve(l,"load",d(this._tileOnLoad,this,r,l)),ve(l,"error",d(this._tileOnError,this,r,l)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(l.referrerPolicy=this.options.referrerPolicy),l.alt="",l.src=this.getTileUrl(n),l},getTileUrl:function(n){var r={r:ce.retina?"@2x":"",s:this._getSubdomain(n),x:n.x,y:n.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var l=this._globalTileRange.max.y-n.y;this.options.tms&&(r.y=l),r["-y"]=l}return _(this._url,a(r,this.options))},_tileOnLoad:function(n,r){ce.ielt9?setTimeout(d(n,this,null,r),0):n(null,r)},_tileOnError:function(n,r,l){var c=this.options.errorTileUrl;c&&r.getAttribute("src")!==c&&(r.src=c),n(l,r)},_onTileRemove:function(n){n.tile.onload=null},_getZoomForUrl:function(){var n=this._tileZoom,r=this.options.maxZoom,l=this.options.zoomReverse,c=this.options.zoomOffset;return l&&(n=r-n),n+c},_getSubdomain:function(n){var r=Math.abs(n.x+n.y)%this.options.subdomains.length;return this.options.subdomains[r]},_abortLoading:function(){var n,r;for(n in this._tiles)if(this._tiles[n].coords.z!==this._tileZoom&&(r=this._tiles[n].el,r.onload=j,r.onerror=j,!r.complete)){r.src=U;var l=this._tiles[n].coords;Ie(r),delete this._tiles[n],this.fire("tileabort",{tile:r,coords:l})}},_removeTile:function(n){var r=this._tiles[n];if(r)return r.el.setAttribute("src",U),or.prototype._removeTile.call(this,n)},_tileReady:function(n,r,l){if(!(!this._map||l&&l.getAttribute("src")===U))return or.prototype._tileReady.call(this,n,r,l)}});function Nc(n,r){return new mi(n,r)}var zc=mi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(n,r){this._url=n;var l=a({},this.defaultWmsParams);for(var c in r)c in this.options||(l[c]=r[c]);r=v(this,r);var h=r.detectRetina&&ce.retina?2:1,g=this.getTileSize();l.width=g.x*h,l.height=g.y*h,this.wmsParams=l},onAdd:function(n){this._crs=this.options.crs||n.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var r=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[r]=this._crs.code,mi.prototype.onAdd.call(this,n)},getTileUrl:function(n){var r=this._tileCoordsToNwSe(n),l=this._crs,c=ge(l.project(r[0]),l.project(r[1])),h=c.min,g=c.max,k=(this._wmsVersion>=1.3&&this._crs===bc?[h.y,h.x,g.y,g.x]:[h.x,h.y,g.x,g.y]).join(","),z=mi.prototype.getTileUrl.call(this,n);return z+E(this.wmsParams,z,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+k},setParams:function(n,r){return a(this.wmsParams,n),r||this.redraw(),this}});function og(n,r){return new zc(n,r)}mi.WMS=zc,Nc.wms=og;var on=Bt.extend({options:{padding:.1},initialize:function(n){v(this,n),f(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ye(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var n={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(n.zoomanim=this._onAnimZoom),n},_onAnimZoom:function(n){this._updateTransform(n.center,n.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(n,r){var l=this._map.getZoomScale(r,this._zoom),c=this._map.getSize().multiplyBy(.5+this.options.padding),h=this._map.project(this._center,r),g=c.multiplyBy(-l).add(h).subtract(this._map._getNewPixelOrigin(n,r));ce.any3d?Un(this._container,g,l):Ze(this._container,g)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var n in this._layers)this._layers[n]._reset()},_onZoomEnd:function(){for(var n in this._layers)this._layers[n]._project()},_updatePaths:function(){for(var n in this._layers)this._layers[n]._update()},_update:function(){var n=this.options.padding,r=this._map.getSize(),l=this._map.containerPointToLayerPoint(r.multiplyBy(-n)).round();this._bounds=new ue(l,l.add(r.multiplyBy(1+n*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Mc=on.extend({options:{tolerance:0},getEvents:function(){var n=on.prototype.getEvents.call(this);return n.viewprereset=this._onViewPreReset,n},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){on.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var n=this._container=document.createElement("canvas");ve(n,"mousemove",this._onMouseMove,this),ve(n,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ve(n,"mouseout",this._handleMouseOut,this),n._leaflet_disable_events=!0,this._ctx=n.getContext("2d")},_destroyContainer:function(){Z(this._redrawRequest),delete this._ctx,Ie(this._container),Ee(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var n;this._redrawBounds=null;for(var r in this._layers)n=this._layers[r],n._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){on.prototype._update.call(this);var n=this._bounds,r=this._container,l=n.getSize(),c=ce.retina?2:1;Ze(r,n.min),r.width=c*l.x,r.height=c*l.y,r.style.width=l.x+"px",r.style.height=l.y+"px",ce.retina&&this._ctx.scale(2,2),this._ctx.translate(-n.min.x,-n.min.y),this.fire("update")}},_reset:function(){on.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(n){this._updateDashArray(n),this._layers[f(n)]=n;var r=n._order={layer:n,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=r),this._drawLast=r,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(n){this._requestRedraw(n)},_removePath:function(n){var r=n._order,l=r.next,c=r.prev;l?l.prev=c:this._drawLast=c,c?c.next=l:this._drawFirst=l,delete n._order,delete this._layers[f(n)],this._requestRedraw(n)},_updatePath:function(n){this._extendRedrawBounds(n),n._project(),n._update(),this._requestRedraw(n)},_updateStyle:function(n){this._updateDashArray(n),this._requestRedraw(n)},_updateDashArray:function(n){if(typeof n.options.dashArray=="string"){var r=n.options.dashArray.split(/[, ]+/),l=[],c,h;for(h=0;h<r.length;h++){if(c=Number(r[h]),isNaN(c))return;l.push(c)}n.options._dashArray=l}else n.options._dashArray=n.options.dashArray},_requestRedraw:function(n){this._map&&(this._extendRedrawBounds(n),this._redrawRequest=this._redrawRequest||R(this._redraw,this))},_extendRedrawBounds:function(n){if(n._pxBounds){var r=(n.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ue,this._redrawBounds.extend(n._pxBounds.min.subtract([r,r])),this._redrawBounds.extend(n._pxBounds.max.add([r,r]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var n=this._redrawBounds;if(n){var r=n.getSize();this._ctx.clearRect(n.min.x,n.min.y,r.x,r.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var n,r=this._redrawBounds;if(this._ctx.save(),r){var l=r.getSize();this._ctx.beginPath(),this._ctx.rect(r.min.x,r.min.y,l.x,l.y),this._ctx.clip()}this._drawing=!0;for(var c=this._drawFirst;c;c=c.next)n=c.layer,(!r||n._pxBounds&&n._pxBounds.intersects(r))&&n._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(n,r){if(this._drawing){var l,c,h,g,k=n._parts,z=k.length,B=this._ctx;if(z){for(B.beginPath(),l=0;l<z;l++){for(c=0,h=k[l].length;c<h;c++)g=k[l][c],B[c?"lineTo":"moveTo"](g.x,g.y);r&&B.closePath()}this._fillStroke(B,n)}}},_updateCircle:function(n){if(!(!this._drawing||n._empty())){var r=n._point,l=this._ctx,c=Math.max(Math.round(n._radius),1),h=(Math.max(Math.round(n._radiusY),1)||c)/c;h!==1&&(l.save(),l.scale(1,h)),l.beginPath(),l.arc(r.x,r.y/h,c,0,Math.PI*2,!1),h!==1&&l.restore(),this._fillStroke(l,n)}},_fillStroke:function(n,r){var l=r.options;l.fill&&(n.globalAlpha=l.fillOpacity,n.fillStyle=l.fillColor||l.color,n.fill(l.fillRule||"evenodd")),l.stroke&&l.weight!==0&&(n.setLineDash&&n.setLineDash(r.options&&r.options._dashArray||[]),n.globalAlpha=l.opacity,n.lineWidth=l.weight,n.strokeStyle=l.color,n.lineCap=l.lineCap,n.lineJoin=l.lineJoin,n.stroke())},_onClick:function(n){for(var r=this._map.mouseEventToLayerPoint(n),l,c,h=this._drawFirst;h;h=h.next)l=h.layer,l.options.interactive&&l._containsPoint(r)&&(!(n.type==="click"||n.type==="preclick")||!this._map._draggableMoved(l))&&(c=l);this._fireEvent(c?[c]:!1,n)},_onMouseMove:function(n){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var r=this._map.mouseEventToLayerPoint(n);this._handleMouseHover(n,r)}},_handleMouseOut:function(n){var r=this._hoveredLayer;r&&(Fe(this._container,"leaflet-interactive"),this._fireEvent([r],n,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(n,r){if(!this._mouseHoverThrottled){for(var l,c,h=this._drawFirst;h;h=h.next)l=h.layer,l.options.interactive&&l._containsPoint(r)&&(c=l);c!==this._hoveredLayer&&(this._handleMouseOut(n),c&&(ye(this._container,"leaflet-interactive"),this._fireEvent([c],n,"mouseover"),this._hoveredLayer=c)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,n),this._mouseHoverThrottled=!0,setTimeout(d(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(n,r,l){this._map._fireDOMEvent(r,l||r.type,n)},_bringToFront:function(n){var r=n._order;if(r){var l=r.next,c=r.prev;if(l)l.prev=c;else return;c?c.next=l:l&&(this._drawFirst=l),r.prev=this._drawLast,this._drawLast.next=r,r.next=null,this._drawLast=r,this._requestRedraw(n)}},_bringToBack:function(n){var r=n._order;if(r){var l=r.next,c=r.prev;if(c)c.next=l;else return;l?l.prev=c:c&&(this._drawLast=c),r.prev=null,r.next=this._drawFirst,this._drawFirst.prev=r,this._drawFirst=r,this._requestRedraw(n)}}});function Ic(n){return ce.canvas?new Mc(n):null}var sr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(n){return document.createElement("<lvml:"+n+' class="lvml">')}}catch{}return function(n){return document.createElement("<"+n+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),sg={_initContainer:function(){this._container=ke("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(on.prototype._update.call(this),this.fire("update"))},_initPath:function(n){var r=n._container=sr("shape");ye(r,"leaflet-vml-shape "+(this.options.className||"")),r.coordsize="1 1",n._path=sr("path"),r.appendChild(n._path),this._updateStyle(n),this._layers[f(n)]=n},_addPath:function(n){var r=n._container;this._container.appendChild(r),n.options.interactive&&n.addInteractiveTarget(r)},_removePath:function(n){var r=n._container;Ie(r),n.removeInteractiveTarget(r),delete this._layers[f(n)]},_updateStyle:function(n){var r=n._stroke,l=n._fill,c=n.options,h=n._container;h.stroked=!!c.stroke,h.filled=!!c.fill,c.stroke?(r||(r=n._stroke=sr("stroke")),h.appendChild(r),r.weight=c.weight+"px",r.color=c.color,r.opacity=c.opacity,c.dashArray?r.dashStyle=w(c.dashArray)?c.dashArray.join(" "):c.dashArray.replace(/( *, *)/g," "):r.dashStyle="",r.endcap=c.lineCap.replace("butt","flat"),r.joinstyle=c.lineJoin):r&&(h.removeChild(r),n._stroke=null),c.fill?(l||(l=n._fill=sr("fill")),h.appendChild(l),l.color=c.fillColor||c.color,l.opacity=c.fillOpacity):l&&(h.removeChild(l),n._fill=null)},_updateCircle:function(n){var r=n._point.round(),l=Math.round(n._radius),c=Math.round(n._radiusY||l);this._setPath(n,n._empty()?"M0 0":"AL "+r.x+","+r.y+" "+l+","+c+" 0,"+65535*360)},_setPath:function(n,r){n._path.v=r},_bringToFront:function(n){ui(n._container)},_bringToBack:function(n){ci(n._container)}},wo=ce.vml?sr:vt,ar=on.extend({_initContainer:function(){this._container=wo("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=wo("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Ie(this._container),Ee(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){on.prototype._update.call(this);var n=this._bounds,r=n.getSize(),l=this._container;(!this._svgSize||!this._svgSize.equals(r))&&(this._svgSize=r,l.setAttribute("width",r.x),l.setAttribute("height",r.y)),Ze(l,n.min),l.setAttribute("viewBox",[n.min.x,n.min.y,r.x,r.y].join(" ")),this.fire("update")}},_initPath:function(n){var r=n._path=wo("path");n.options.className&&ye(r,n.options.className),n.options.interactive&&ye(r,"leaflet-interactive"),this._updateStyle(n),this._layers[f(n)]=n},_addPath:function(n){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(n._path),n.addInteractiveTarget(n._path)},_removePath:function(n){Ie(n._path),n.removeInteractiveTarget(n._path),delete this._layers[f(n)]},_updatePath:function(n){n._project(),n._update()},_updateStyle:function(n){var r=n._path,l=n.options;r&&(l.stroke?(r.setAttribute("stroke",l.color),r.setAttribute("stroke-opacity",l.opacity),r.setAttribute("stroke-width",l.weight),r.setAttribute("stroke-linecap",l.lineCap),r.setAttribute("stroke-linejoin",l.lineJoin),l.dashArray?r.setAttribute("stroke-dasharray",l.dashArray):r.removeAttribute("stroke-dasharray"),l.dashOffset?r.setAttribute("stroke-dashoffset",l.dashOffset):r.removeAttribute("stroke-dashoffset")):r.setAttribute("stroke","none"),l.fill?(r.setAttribute("fill",l.fillColor||l.color),r.setAttribute("fill-opacity",l.fillOpacity),r.setAttribute("fill-rule",l.fillRule||"evenodd")):r.setAttribute("fill","none"))},_updatePoly:function(n,r){this._setPath(n,J(n._parts,r))},_updateCircle:function(n){var r=n._point,l=Math.max(Math.round(n._radius),1),c=Math.max(Math.round(n._radiusY),1)||l,h="a"+l+","+c+" 0 1,0 ",g=n._empty()?"M0 0":"M"+(r.x-l)+","+r.y+h+l*2+",0 "+h+-l*2+",0 ";this._setPath(n,g)},_setPath:function(n,r){n._path.setAttribute("d",r)},_bringToFront:function(n){ui(n._path)},_bringToBack:function(n){ci(n._path)}});ce.vml&&ar.include(sg);function Bc(n){return ce.svg||ce.vml?new ar(n):null}Se.include({getRenderer:function(n){var r=n.options.renderer||this._getPaneRenderer(n.options.pane)||this.options.renderer||this._renderer;return r||(r=this._renderer=this._createRenderer()),this.hasLayer(r)||this.addLayer(r),r},_getPaneRenderer:function(n){if(n==="overlayPane"||n===void 0)return!1;var r=this._paneRenderers[n];return r===void 0&&(r=this._createRenderer({pane:n}),this._paneRenderers[n]=r),r},_createRenderer:function(n){return this.options.preferCanvas&&Ic(n)||Bc(n)}});var Ac=fi.extend({initialize:function(n,r){fi.prototype.initialize.call(this,this._boundsToLatLngs(n),r)},setBounds:function(n){return this.setLatLngs(this._boundsToLatLngs(n))},_boundsToLatLngs:function(n){return n=we(n),[n.getSouthWest(),n.getNorthWest(),n.getNorthEast(),n.getSouthEast()]}});function ag(n,r){return new Ac(n,r)}ar.create=wo,ar.pointsToPath=J,rn.geometryToLayer=po,rn.coordsToLatLng=pa,rn.coordsToLatLngs=mo,rn.latLngToCoords=ma,rn.latLngsToCoords=go,rn.getFeature=pi,rn.asFeature=vo,Se.mergeOptions({boxZoom:!0});var Rc=Kt.extend({initialize:function(n){this._map=n,this._container=n._container,this._pane=n._panes.overlayPane,this._resetStateTimeout=0,n.on("unload",this._destroy,this)},addHooks:function(){ve(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ee(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Ie(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(n){if(!n.shiftKey||n.which!==1&&n.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Ji(),qs(),this._startPoint=this._map.mouseEventToContainerPoint(n),ve(document,{contextmenu:$n,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(n){this._moved||(this._moved=!0,this._box=ke("div","leaflet-zoom-box",this._container),ye(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(n);var r=new ue(this._point,this._startPoint),l=r.getSize();Ze(this._box,r.min),this._box.style.width=l.x+"px",this._box.style.height=l.y+"px"},_finish:function(){this._moved&&(Ie(this._box),Fe(this._container,"leaflet-crosshair")),Xi(),Js(),Ee(document,{contextmenu:$n,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(n){if(!(n.which!==1&&n.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(d(this._resetState,this),0);var r=new Pe(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(r).fire("boxzoomend",{boxZoomBounds:r})}},_onKeyDown:function(n){n.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Se.addInitHook("addHandler","boxZoom",Rc),Se.mergeOptions({doubleClickZoom:!0});var Dc=Kt.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(n){var r=this._map,l=r.getZoom(),c=r.options.zoomDelta,h=n.originalEvent.shiftKey?l-c:l+c;r.options.doubleClickZoom==="center"?r.setZoom(h):r.setZoomAround(n.containerPoint,h)}});Se.addInitHook("addHandler","doubleClickZoom",Dc),Se.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Fc=Kt.extend({addHooks:function(){if(!this._draggable){var n=this._map;this._draggable=new gn(n._mapPane,n._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),n.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),n.on("zoomend",this._onZoomEnd,this),n.whenReady(this._onZoomEnd,this))}ye(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Fe(this._map._container,"leaflet-grab"),Fe(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var n=this._map;if(n._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var r=we(this._map.options.maxBounds);this._offsetLimit=ge(this._map.latLngToContainerPoint(r.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(r.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;n.fire("movestart").fire("dragstart"),n.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(n){if(this._map.options.inertia){var r=this._lastTime=+new Date,l=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(l),this._times.push(r),this._prunePositions(r)}this._map.fire("move",n).fire("drag",n)},_prunePositions:function(n){for(;this._positions.length>1&&n-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var n=this._map.getSize().divideBy(2),r=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=r.subtract(n).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(n,r){return n-(n-r)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var n=this._draggable._newPos.subtract(this._draggable._startPos),r=this._offsetLimit;n.x<r.min.x&&(n.x=this._viscousLimit(n.x,r.min.x)),n.y<r.min.y&&(n.y=this._viscousLimit(n.y,r.min.y)),n.x>r.max.x&&(n.x=this._viscousLimit(n.x,r.max.x)),n.y>r.max.y&&(n.y=this._viscousLimit(n.y,r.max.y)),this._draggable._newPos=this._draggable._startPos.add(n)}},_onPreDragWrap:function(){var n=this._worldWidth,r=Math.round(n/2),l=this._initialWorldOffset,c=this._draggable._newPos.x,h=(c-r+l)%n+r-l,g=(c+r+l)%n-r-l,k=Math.abs(h+l)<Math.abs(g+l)?h:g;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=k},_onDragEnd:function(n){var r=this._map,l=r.options,c=!l.inertia||n.noInertia||this._times.length<2;if(r.fire("dragend",n),c)r.fire("moveend");else{this._prunePositions(+new Date);var h=this._lastPos.subtract(this._positions[0]),g=(this._lastTime-this._times[0])/1e3,k=l.easeLinearity,z=h.multiplyBy(k/g),B=z.distanceTo([0,0]),H=Math.min(l.inertiaMaxSpeed,B),re=z.multiplyBy(H/B),pe=H/(l.inertiaDeceleration*k),xe=re.multiplyBy(-pe/2).round();!xe.x&&!xe.y?r.fire("moveend"):(xe=r._limitOffset(xe,r.options.maxBounds),R(function(){r.panBy(xe,{duration:pe,easeLinearity:k,noMoveStart:!0,animate:!0})}))}}});Se.addInitHook("addHandler","dragging",Fc),Se.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Uc=Kt.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(n){this._map=n,this._setPanDelta(n.options.keyboardPanDelta),this._setZoomDelta(n.options.zoomDelta)},addHooks:function(){var n=this._map._container;n.tabIndex<=0&&(n.tabIndex="0"),ve(n,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ee(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var n=document.body,r=document.documentElement,l=n.scrollTop||r.scrollTop,c=n.scrollLeft||r.scrollLeft;this._map._container.focus(),window.scrollTo(c,l)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(n){var r=this._panKeys={},l=this.keyCodes,c,h;for(c=0,h=l.left.length;c<h;c++)r[l.left[c]]=[-1*n,0];for(c=0,h=l.right.length;c<h;c++)r[l.right[c]]=[n,0];for(c=0,h=l.down.length;c<h;c++)r[l.down[c]]=[0,n];for(c=0,h=l.up.length;c<h;c++)r[l.up[c]]=[0,-1*n]},_setZoomDelta:function(n){var r=this._zoomKeys={},l=this.keyCodes,c,h;for(c=0,h=l.zoomIn.length;c<h;c++)r[l.zoomIn[c]]=n;for(c=0,h=l.zoomOut.length;c<h;c++)r[l.zoomOut[c]]=-n},_addHooks:function(){ve(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ee(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(n){if(!(n.altKey||n.ctrlKey||n.metaKey)){var r=n.keyCode,l=this._map,c;if(r in this._panKeys){if(!l._panAnim||!l._panAnim._inProgress)if(c=this._panKeys[r],n.shiftKey&&(c=K(c).multiplyBy(3)),l.options.maxBounds&&(c=l._limitOffset(K(c),l.options.maxBounds)),l.options.worldCopyJump){var h=l.wrapLatLng(l.unproject(l.project(l.getCenter()).add(c)));l.panTo(h)}else l.panBy(c)}else if(r in this._zoomKeys)l.setZoom(l.getZoom()+(n.shiftKey?3:1)*this._zoomKeys[r]);else if(r===27&&l._popup&&l._popup.options.closeOnEscapeKey)l.closePopup();else return;$n(n)}}});Se.addInitHook("addHandler","keyboard",Uc),Se.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Zc=Kt.extend({addHooks:function(){ve(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ee(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(n){var r=hc(n),l=this._map.options.wheelDebounceTime;this._delta+=r,this._lastMousePos=this._map.mouseEventToContainerPoint(n),this._startTime||(this._startTime=+new Date);var c=Math.max(l-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(d(this._performZoom,this),c),$n(n)},_performZoom:function(){var n=this._map,r=n.getZoom(),l=this._map.options.zoomSnap||0;n._stop();var c=this._delta/(this._map.options.wheelPxPerZoomLevel*4),h=4*Math.log(2/(1+Math.exp(-Math.abs(c))))/Math.LN2,g=l?Math.ceil(h/l)*l:h,k=n._limitZoom(r+(this._delta>0?g:-g))-r;this._delta=0,this._startTime=null,k&&(n.options.scrollWheelZoom==="center"?n.setZoom(r+k):n.setZoomAround(this._lastMousePos,r+k))}});Se.addInitHook("addHandler","scrollWheelZoom",Zc);var lg=600;Se.mergeOptions({tapHold:ce.touchNative&&ce.safari&&ce.mobile,tapTolerance:15});var Wc=Kt.extend({addHooks:function(){ve(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ee(this._map._container,"touchstart",this._onDown,this)},_onDown:function(n){if(clearTimeout(this._holdTimeout),n.touches.length===1){var r=n.touches[0];this._startPos=this._newPos=new D(r.clientX,r.clientY),this._holdTimeout=setTimeout(d(function(){this._cancel(),this._isTapValid()&&(ve(document,"touchend",qe),ve(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",r))},this),lg),ve(document,"touchend touchcancel contextmenu",this._cancel,this),ve(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function n(){Ee(document,"touchend",qe),Ee(document,"touchend touchcancel",n)},_cancel:function(){clearTimeout(this._holdTimeout),Ee(document,"touchend touchcancel contextmenu",this._cancel,this),Ee(document,"touchmove",this._onMove,this)},_onMove:function(n){var r=n.touches[0];this._newPos=new D(r.clientX,r.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(n,r){var l=new MouseEvent(n,{bubbles:!0,cancelable:!0,view:window,screenX:r.screenX,screenY:r.screenY,clientX:r.clientX,clientY:r.clientY});l._simulated=!0,r.target.dispatchEvent(l)}});Se.addInitHook("addHandler","tapHold",Wc),Se.mergeOptions({touchZoom:ce.touch,bounceAtZoomLimits:!0});var $c=Kt.extend({addHooks:function(){ye(this._map._container,"leaflet-touch-zoom"),ve(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Fe(this._map._container,"leaflet-touch-zoom"),Ee(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(n){var r=this._map;if(!(!n.touches||n.touches.length!==2||r._animatingZoom||this._zooming)){var l=r.mouseEventToContainerPoint(n.touches[0]),c=r.mouseEventToContainerPoint(n.touches[1]);this._centerPoint=r.getSize()._divideBy(2),this._startLatLng=r.containerPointToLatLng(this._centerPoint),r.options.touchZoom!=="center"&&(this._pinchStartLatLng=r.containerPointToLatLng(l.add(c)._divideBy(2))),this._startDist=l.distanceTo(c),this._startZoom=r.getZoom(),this._moved=!1,this._zooming=!0,r._stop(),ve(document,"touchmove",this._onTouchMove,this),ve(document,"touchend touchcancel",this._onTouchEnd,this),qe(n)}},_onTouchMove:function(n){if(!(!n.touches||n.touches.length!==2||!this._zooming)){var r=this._map,l=r.mouseEventToContainerPoint(n.touches[0]),c=r.mouseEventToContainerPoint(n.touches[1]),h=l.distanceTo(c)/this._startDist;if(this._zoom=r.getScaleZoom(h,this._startZoom),!r.options.bounceAtZoomLimits&&(this._zoom<r.getMinZoom()&&h<1||this._zoom>r.getMaxZoom()&&h>1)&&(this._zoom=r._limitZoom(this._zoom)),r.options.touchZoom==="center"){if(this._center=this._startLatLng,h===1)return}else{var g=l._add(c)._divideBy(2)._subtract(this._centerPoint);if(h===1&&g.x===0&&g.y===0)return;this._center=r.unproject(r.project(this._pinchStartLatLng,this._zoom).subtract(g),this._zoom)}this._moved||(r._moveStart(!0,!1),this._moved=!0),Z(this._animRequest);var k=d(r._move,r,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=R(k,this,!0),qe(n)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Z(this._animRequest),Ee(document,"touchmove",this._onTouchMove,this),Ee(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Se.addInitHook("addHandler","touchZoom",$c),Se.BoxZoom=Rc,Se.DoubleClickZoom=Dc,Se.Drag=Fc,Se.Keyboard=Uc,Se.ScrollWheelZoom=Zc,Se.TapHold=Wc,Se.TouchZoom=$c,i.Bounds=ue,i.Browser=ce,i.CRS=te,i.Canvas=Mc,i.Circle=fa,i.CircleMarker=fo,i.Class=F,i.Control=It,i.DivIcon=Oc,i.DivOverlay=Yt,i.DomEvent=km,i.DomUtil=Sm,i.Draggable=gn,i.Evented=fe,i.FeatureGroup=tn,i.GeoJSON=rn,i.GridLayer=or,i.Handler=Kt,i.Icon=hi,i.ImageOverlay=yo,i.LatLng=Q,i.LatLngBounds=Pe,i.Layer=Bt,i.LayerGroup=di,i.LineUtil=Dm,i.Map=Se,i.Marker=ho,i.Mixin=zm,i.Path=vn,i.Point=D,i.PolyUtil=Mm,i.Polygon=fi,i.Polyline=nn,i.Popup=xo,i.PosAnimation=fc,i.Projection=Fm,i.Rectangle=Ac,i.Renderer=on,i.SVG=ar,i.SVGOverlay=Lc,i.TileLayer=mi,i.Tooltip=_o,i.Transformation=q,i.Util=ee,i.VideoOverlay=Ec,i.bind=d,i.bounds=ge,i.canvas=Ic,i.circle=Km,i.circleMarker=Gm,i.control=nr,i.divIcon=ig,i.extend=a,i.featureGroup=$m,i.geoJSON=Tc,i.geoJson=qm,i.gridLayer=rg,i.icon=Hm,i.imageOverlay=Jm,i.latLng=he,i.latLngBounds=we,i.layerGroup=Wm,i.map=Pm,i.marker=Vm,i.point=K,i.polygon=Qm,i.polyline=Ym,i.popup=tg,i.rectangle=ag,i.setOptions=v,i.stamp=f,i.svg=Bc,i.svgOverlay=eg,i.tileLayer=Nc,i.tooltip=ng,i.transformation=ie,i.version=s,i.videoOverlay=Xm;var ug=window.L;i.noConflict=function(){return window.L=ug,this},window.L=i})})(Ul,Ul.exports);var no=Ul.exports;const y_=Wl(no);function Zu(e,t,i){return Object.freeze({instance:e,context:t,container:i})}function Wu(e,t){return t==null?function(s,a){const u=b.useRef();return u.current||(u.current=e(s,a)),u}:function(s,a){const u=b.useRef();u.current||(u.current=e(s,a));const d=b.useRef(s),{instance:p}=u.current;return b.useEffect(function(){d.current!==s&&(t(p,s,d.current),d.current=s)},[p,s,a]),u}}function x_(e,t){b.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var u;(u=t.layerContainer)==null||u.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function Yp(e){return function(i){const s=Gp(),a=e(Uu(i,s),s);return $p(s.map,i.attribution),Kp(a.current,i.eventHandlers),x_(a.current,s),a}}function __(e,t){const i=Wu(e,t),s=Yp(i);return p_(s)}function w_(e,t){const i=Wu(e),s=v_(i,t);return m_(s)}function C_(e,t){const i=Wu(e,t),s=Yp(i);return g_(s)}function j_(e,t,i){const{opacity:s,zIndex:a}=t;s!=null&&s!==i.opacity&&e.setOpacity(s),a!=null&&a!==i.zIndex&&e.setZIndex(a)}function Zl(){return Zl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},Zl.apply(this,arguments)}function S_({bounds:e,boundsOptions:t,center:i,children:s,className:a,id:u,placeholder:d,style:p,whenReady:f,zoom:m,...x},j){const[S]=b.useState({className:a,id:u,style:p}),[O,C]=b.useState(null);b.useImperativeHandle(j,()=>(O==null?void 0:O.map)??null,[O]);const v=b.useCallback(y=>{if(y!==null&&O===null){const _=new no.Map(y,x);i!=null&&m!=null?_.setView(i,m):e!=null&&_.fitBounds(e,t),f!=null&&_.whenReady(f),C(h_(_))}},[]);b.useEffect(()=>()=>{O==null||O.map.remove()},[O]);const E=O?Zt.createElement(Vp,{value:O},s):d??null;return Zt.createElement("div",Zl({},S,{ref:v}),E)}const b_=b.forwardRef(S_),k_=__(function({position:t,...i},s){const a=new no.Marker(t,i);return Zu(a,f_(s,{overlayContainer:a}))},function(t,i,s){i.position!==s.position&&t.setLatLng(i.position),i.icon!=null&&i.icon!==s.icon&&t.setIcon(i.icon),i.zIndexOffset!=null&&i.zIndexOffset!==s.zIndexOffset&&t.setZIndexOffset(i.zIndexOffset),i.opacity!=null&&i.opacity!==s.opacity&&t.setOpacity(i.opacity),t.dragging!=null&&i.draggable!==s.draggable&&(i.draggable===!0?t.dragging.enable():t.dragging.disable())}),P_=w_(function(t,i){const s=new no.Popup(t,i.overlayContainer);return Zu(s,i)},function(t,i,{position:s},a){b.useEffect(function(){const{instance:d}=t;function p(m){m.popup===d&&(d.update(),a(!0))}function f(m){m.popup===d&&a(!1)}return i.map.on({popupopen:p,popupclose:f}),i.overlayContainer==null?(s!=null&&d.setLatLng(s),d.openOn(i.map)):i.overlayContainer.bindPopup(d),function(){var x;i.map.off({popupopen:p,popupclose:f}),(x=i.overlayContainer)==null||x.unbindPopup(),i.map.removeLayer(d)}},[t,i,a,s])}),T_=C_(function({url:t,...i},s){const a=new no.TileLayer(t,Uu(i,s));return Zu(a,s)},function(t,i,s){j_(t,i,s);const{url:a}=i;a!=null&&a!==s.url&&t.setUrl(a)}),E_=new y_.Icon({iconUrl:"https://cdn-icons-png.flaticon.com/256/2894/2894975.png",iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-30]}),L_=[{call_sign:"AMB-001",company:"Red Cross Ambulance",status:"Available",lat:9.06434,lng:7.48487,speed:0},{call_sign:"AMB-002",company:"Red Cross Ambulance",status:"On Duty",lat:9.0646,lng:7.4846,speed:45},{call_sign:"AMB-003",company:"Red Cross Ambulance",status:"Unavailable",lat:9.0642,lng:7.4878,speed:0},{call_sign:"AMB-004",company:"St John Ambulance",status:"Available",lat:9.0646,lng:7.48492,speed:30},{call_sign:"AMB-005",company:"Red Cross Ambulance",status:"On Duty",lat:9.0641,lng:7.48475,speed:25}],je={page:{width:"98%",height:"80vh",overflowY:"auto"},header:{height:"5%"},body:{width:"100%",height:"80%"},footer:{width:"95%",height:"15%"},container:{width:"95%",margin:"0 auto",padding:"20px",backgroundColor:"#ffffff",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)"},title:{fontSize:"1.5em",marginBottom:"20px",color:"#333",textAlign:"center"},label:{display:"block",fontSize:"0.9em",color:"#555",marginBottom:"8px"},input:{width:"100%",padding:"10px",marginBottom:"15px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"1em",backgroundColor:"white",color:"black"},textarea:{width:"100%",padding:"10px",marginBottom:"15px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"1em",resize:"vertical",minHeight:"80px",backgroundColor:"white",color:"black"},buttonContainer:{display:"flex",justifyContent:"space-between",gap:"10px",marginTop:"20px"},submitButton:{backgroundColor:"#4CAF50",color:"white",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"1em",flex:1},cancelButton:{backgroundColor:"#f44336",color:"white",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"1em",flex:1}};function O_(){const[e,t]=b.useState("triage"),[i,s]=b.useState("eligible"),[a,u]=b.useState({}),[d,p]=b.useState(0);b.useEffect(()=>{const m=async x=>{const j=`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(a.address)}`;try{const S=await fetch(j);if(!S.ok)throw new Error(`HTTP error! Status: ${S.status}`);const C=(await S.json())[0];return u({...a,location:C}),console.log(`Latitude: ${C.lat}, Longitude: ${C.lon}`),C}catch(S){console.error("Error geocoding the address:",S)}};a.address&&m(a.address)},[a.address]),b.useEffect(()=>{(()=>{let x=0;a.isRegisteredClient==="no"&&s("ineligible"),a.isBreathing==="no"&&(x+=10),a.hasPulse==="no"&&(x+=10),a.isConscious==="no"&&(x+=10),p(x)})()},[a]);const f=()=>{u({}),t("triage"),s("eligible")};return o.jsxs("div",{children:[e==="triage"&&o.jsxs("div",{style:je.page,children:[i=="eligible"&&o.jsxs("div",{children:[o.jsx("h3",{style:je.title,children:"Ambulance Triage"}),o.jsxs("p",{children:[o.jsx("strong",{children:"TRIAGE SCORE:"})," ",d]}),o.jsxs("label",{style:je.label,children:["Is Patient Registered on PrescribeNg Platform?:",o.jsxs("select",{value:a.isRegisteredClient,style:je.input,onChange:m=>u({...a,isRegisteredClient:m.target.value}),required:!0,children:[o.jsx("option",{value:"",children:"Select"}),o.jsx("option",{value:"yes",children:"Yes"}),o.jsx("option",{value:"no",children:"No"})]})]}),o.jsxs("label",{style:je.label,children:["Is Patient Breathing?:",o.jsxs("select",{value:a.isBreathing,style:je.input,onChange:m=>u({...a,isBreathing:m.target.value}),required:!0,children:[o.jsx("option",{value:"",children:"Select"}),o.jsx("option",{value:"yes",children:"Yes"}),o.jsx("option",{value:"no",children:"No"})]})]}),o.jsxs("label",{style:je.label,children:["Does patient have a pulse?:",o.jsxs("select",{value:a.hasPulse,style:je.input,onChange:m=>u({...a,hasPulse:m.target.value}),required:!0,children:[o.jsx("option",{value:"",children:"Select"}),o.jsx("option",{value:"yes",children:"Yes"}),o.jsx("option",{value:"no",children:"No"})]})]}),o.jsxs("label",{style:je.label,children:["Is patient conscious?:",o.jsxs("select",{value:a.isConscious,style:je.input,onChange:m=>u({...a,isConscious:m.target.value}),required:!0,children:[o.jsx("option",{value:"",children:"Select"}),o.jsx("option",{value:"yes",children:"Yes"}),o.jsx("option",{value:"no",children:"No"})]})]}),o.jsxs("label",{style:je.label,children:["Incident:",o.jsxs("select",{value:a.situation,style:je.input,onChange:m=>u({...a,situation:m.target.value}),required:!0,children:[o.jsx("option",{value:"",children:"Select"}),o.jsx("option",{value:"Found unresponsive",children:"Found unresponsive"}),o.jsx("option",{value:"Road Traffic Accident",children:"Road Traffic Accident"}),o.jsx("option",{value:"other reasons",children:"other"})]}),o.jsx("input",{value:a.location,style:je.input,onChange:m=>u({...a,address:m.target.value}),required:!0})]}),o.jsx("h3",{children:"Security Questions"}),o.jsxs("label",{style:je.label,children:["Patient's last name:",o.jsx("input",{value:a.patientLastName,style:je.input,onChange:m=>u({...a,patientLastName:m.target.value}),required:!0})]}),o.jsxs("label",{style:je.label,children:["Patient's first name:",o.jsx("input",{value:a.patientFirstName,style:je.input,onChange:m=>u({...a,patientFirstName:m.target.value}),required:!0})]}),o.jsxs("label",{style:je.label,children:["Patient's PPN:",o.jsx("input",{value:a.patientPPN,style:je.input,onChange:m=>u({...a,patientPPN:m.target.value}),required:!0})]}),o.jsxs("label",{style:je.label,children:["Caller's Details (First name/Last name/Phone number):",o.jsx("input",{value:a.callerDetails,style:je.input,onChange:m=>u({...a,callerDetails:m.target.value}),required:!0})]}),o.jsxs("label",{style:je.label,children:["Patient Address/Location:",o.jsx("input",{value:a.location,style:je.input,onChange:m=>u({...a,address:m.target.value}),required:!0})]}),o.jsxs("label",{style:je.label,children:["Coordinates:",o.jsx("input",{value:a.gps,style:je.input,readOnly:!0})]}),o.jsxs("div",{style:je.buttonContainer,children:[o.jsx("button",{style:je.submitButton,children:"Submit"}),o.jsx("button",{type:"button",style:je.cancelButton,onClick:()=>t("fleet"),children:"Cancel"})]})]}),i=="ineligible"&&o.jsxs("div",{children:[o.jsx("h3",{style:je.title,children:"Ineligible Client!!!"}),o.jsx("div",{style:je.buttonContainer,children:o.jsx("button",{type:"button",style:je.cancelButton,onClick:f,children:"Close"})})]})]}),e==="fleet"&&o.jsxs("div",{style:je.page,children:[o.jsx("h3",{style:je.header,children:"Service Locations"}),o.jsx("div",{style:je.body,children:o.jsxs(b_,{center:[9.0643401849788,7.4848690457152],zoom:13,style:{height:"500px",width:"100%"},children:[o.jsx(T_,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),L_.map((m,x)=>o.jsx(k_,{position:[m.lat,m.lng],icon:E_,children:o.jsxs(P_,{children:[o.jsx("strong",{children:"Call Sign:"})," ",m.call_sign," ",o.jsx("br",{}),o.jsx("strong",{children:"Company:"})," ",m.company," ",o.jsx("br",{}),o.jsx("strong",{children:"Status:"})," ",m.status," ",o.jsx("br",{}),o.jsx("strong",{children:"Speed:"})," ",m.speed," km/h"]})},x))]})}),o.jsx("div",{style:je.footer,children:"footer"})]})]})}function N_(){const{state:e}=b.useContext(Mt),{spineUrl:t,token:i,accessLevel:s,allStates:a}=e,[u,d]=b.useState([]),[p,f]=b.useState("page1"),[m,x]=b.useState({}),[j,S]=b.useState({organisationEmailOTP:"",kp1EmailOTP:"",kp1MobileOTP:"",kp2EmailOTP:"",kp2MobileOTP:""}),[O,C]=b.useState("");zt();const[v,E]=b.useState(!1);b.useEffect(()=>{(async()=>{E(!0);try{const N=await fetch(`${t}/organisations/fetch_approved_localities?state=${encodeURIComponent(m.state)}`,{method:"GET",headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"}});if(N.ok){const R=await N.json();d(R.localities)}else{const R=await N.json();alert(R.message)}}catch(N){console.error("Error fetching approved localities:",N),alert("An error occurred while fetching approved localities")}finally{E(!1)}})()},[m.state]);const y=async()=>{E(!0);try{const T=await fetch(`${t}/organisations/generate_organisation_email_otp?organisationEmail=${encodeURIComponent(m.organisationEmail)}`,{method:"GET",headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"}});if(T.ok){const N=await T.json();S({...j,organisationEmailOTP:N.organisationEmailOTP}),f("page3")}else{const N=await T.json();alert(N.message)}}catch(T){console.error("Submission error:",T),alert("An error occurred while generating otp")}finally{E(!1)}},_=async()=>{if(m.organisationEmailOTP!==j.organisationEmailOTP){alert("Invalid OTP!");return}else alert("Organisation Email verified!"),f("page4")},w=async()=>{E(!0);try{const T=await fetch(`${t}/organisations/generate_email_and_mobile_otp?email=${encodeURIComponent(m.kp1Email)}&mobile=${m.kp1Mobile}`,{method:"GET",headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"}});if(T.ok){const N=await T.json();S({...j,kp1EmailOTP:N.emailOTP,kp1MobileOTP:N.mobileOTP}),f("page5")}else{const N=await T.json();alert(N.message)}}catch(T){console.error("Submission error:",T),alert("An error occurred while generating otp")}finally{E(!1)}},I=async()=>{if(m.kp1EmailOTP!==j.kp1EmailOTP){alert("Invalid Email OTP!");return}else if(m.kp1MobileOTP!==j.kp1MobileOTP){alert("Invalid Mobile OTP!");return}else alert("Keyperson Email and Mobile number verified!"),f("page6")},U=async()=>{E(!0);try{const T=await fetch(`${t}/organisations/generate_email_and_mobile_otp?email=${encodeURIComponent(m.kp2Email)}&mobile=${m.kp2Mobile}`,{method:"GET",headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"}});if(T.ok){const N=await T.json();S({...j,kp2EmailOTP:N.emailOTP,kp2MobileOTP:N.mobileOTP}),f("page7")}else{const N=await T.json();alert(N.message)}}catch(T){console.error("Submission error:",T),alert("An error occurred while generating otp")}finally{E(!1)}},G=async()=>{if(m.kp2EmailOTP!==j.kp2EmailOTP){alert("Invalid Email OTP!");return}else if(m.kp2MobileOTP!==j.kp2MobileOTP){alert("Invalid Mobile OTP!");return}else alert("Keyperson Email and Mobile number verified!"),f("page8")},$=async()=>{if(confirm("Confirm submission")){const N={};Object.entries(m).forEach(([R,Z])=>{N[R]=Z});try{const R=await fetch(`${t}/organisations/organisation_signup`,{method:"POST",headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"},body:JSON.stringify(N)});if(R.ok){const Z=await R.json();C(Z.successMessage),f("page9")}else{const Z=await R.json();alert(Z.message)}}catch(R){console.error("Submission error:",R),alert("An error occurred creating new organisation")}finally{E(!1)}}else alert("New Organisation creation cancelled!")},P={container:{width:"90%",height:"65vh",margin:"0 auto",padding:"20px",backgroundColor:"#ffffff",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",overflowY:"auto"},title:{fontSize:"1.5em",marginBottom:"20px",color:"#333",textAlign:"center"},topSection:{backgroundColor:"white"},keyPerson1:{backgroundColor:"yellow"},keyPerson2:{backgroundColor:"grey"},label:{display:"block",fontSize:"0.9em",color:"#555",marginBottom:"8px"},input:{width:"100%",padding:"10px",marginBottom:"15px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"1em",backgroundColor:"white",color:"black"},textarea:{width:"100%",padding:"10px",marginBottom:"15px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"1em",resize:"vertical",minHeight:"80px",backgroundColor:"white",color:"black"},TCBody:{height:"60vh",width:"100%",overflowY:"auto",margin:"20px",textAlign:"left"},TCButton2:{height:"50px",width:"200px",borderRadius:"5px",backgroundColor:"#2C2C2C",color:"white",cursor:"pointer"},TCButton:{padding:"10px 20px",backgroundColor:"#007bff",color:"white",cursor:"pointer",borderRadius:"4px",textAlign:"center"},buttonContainer:{display:"flex",justifyContent:"space-between",gap:"10px",marginTop:"20px"},submitButton:{backgroundColor:"#4CAF50",color:"white",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"1em",flex:1},cancelButton:{backgroundColor:"#f44336",color:"white",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"1em",flex:1},specialOptions:{display:s<=3?"inline-block":"none"}};return o.jsxs("div",{style:{cursor:v?"wait":"default"},children:[p==="page1"&&o.jsxs("div",{children:[o.jsx("h2",{children:"Terms And Conditions"}),o.jsxs("div",{style:P.TCBody,children:[o.jsx("h3",{children:"GENERAL"}),o.jsxs("p",{children:[o.jsx("strong",{children:"Hospitals/Clinic:"})," Yada yadas"]}),o.jsx("br",{}),o.jsx("h3",{children:"PHARMACY"}),o.jsx("h3",{children:"HOSPITAL"}),o.jsxs("p",{children:[o.jsx("strong",{children:"Hospitals/Clinic:"})," Yada yadas"]}),o.jsx("br",{}),o.jsx("h3",{children:"SPONSOR ORGANISATIONS"}),o.jsxs("p",{children:[o.jsx("strong",{children:"Hospitals/Clinic:"})," Yada yadas"]}),o.jsx("br",{})]}),o.jsx("span",{style:P.TCButton,onClick:()=>f("page2"),children:"Agree"})]}),p==="page2"&&o.jsxs("div",{children:[o.jsx("h2",{children:"Organisation Data"}),o.jsxs("div",{style:P.container,children:[o.jsxs("label",{style:P.label,children:["Category:",o.jsxs("select",{type:"text",name:"category",value:m.category,onChange:T=>x({...m,category:T.target.value}),style:P.input,children:[o.jsx("option",{value:"",children:"Select Category"}),o.jsx("option",{value:"ambulance",children:"Ambulance Company"}),o.jsx("option",{value:"clinic",children:"Clinic"}),o.jsx("option",{value:"dental",children:"Dental Centre"}),o.jsx("option",{value:"hospital",children:"Hospital"}),o.jsx("option",{value:"pharmacy",children:"Pharmacy"}),o.jsx("option",{value:"physiotherapy",children:"Physiotherapy Centre"}),o.jsx("option",{value:"sponsor",children:"Sponsor Organisation"}),o.jsx("option",{value:"donor",children:"Donor Agency"}),o.jsx("option",{value:"scheme",children:"Scheme"})]})]}),o.jsxs("label",{style:P.label,children:["Name of Organisation:",o.jsx("input",{type:"text",name:"organisation",value:m.organisation,onChange:T=>x({...m,organisation:T.target.value}),style:P.input})]}),o.jsxs("label",{style:P.label,children:["CAC Registration Number:",o.jsx("input",{type:"text",name:"registrationNumber",value:m.registrationNumber,onChange:T=>x({...m,registrationNumber:T.target.value}),style:P.input})]}),o.jsxs("label",{style:P.label,children:["State:",o.jsxs("select",{type:"text",name:"state",value:m.state,onChange:T=>x({...m,state:T.target.value}),style:P.input,children:[o.jsx("option",{value:"",children:"Select"}),a.map(T=>o.jsx("option",{children:T},T))]})]}),o.jsxs("label",{style:P.label,children:["City/Town:",o.jsxs("select",{type:"text",name:"locality",value:m.locality,onChange:T=>x({...m,locality:T.target.value}),style:P.input,children:[o.jsx("option",{value:"",children:"Select"}),u.map(T=>o.jsx("option",{children:T},T))]})]}),o.jsxs("label",{style:P.label,children:["Address:",o.jsx("input",{type:"text",name:"address",value:m.address,onChange:T=>x({...m,address:T.target.value}),style:P.input})]}),o.jsxs("label",{style:P.label,children:["Postal Code:",o.jsx("input",{type:"text",name:"postcode",value:m.postcode,onChange:T=>x({...m,postcode:T.target.value}),style:P.input})]}),o.jsxs("label",{style:P.label,children:["GPS Coordinates:",o.jsx("input",{type:"text",name:"gps",value:m.gps,onChange:T=>x({...m,gps:T.target.value}),style:P.input})]}),o.jsxs("label",{style:P.label,children:["Telephone Number(s):",o.jsx("input",{type:"text",name:"organisationTelephone",value:m.organisationTelephone,onChange:T=>x({...m,organisationTelephone:T.target.value}),style:P.input})]}),o.jsxs("label",{style:P.label,children:["Organisation Email:",o.jsx("input",{type:"text",name:"organisationEmail",value:m.organisationEmail,onChange:T=>x({...m,organisationEmail:T.target.value}),style:P.input})]}),o.jsxs("label",{style:P.label,children:["Organisation's IPV4 Address... This is the only address where your account can be signed into:",o.jsx("input",{type:"text",name:"ipAddress",value:m.ipAddress,onChange:T=>x({...m,ipAddress:T.target.value}),style:P.input})]}),o.jsx("span",{style:P.TCButton,onClick:y,children:"Next Page"})]})]}),p==="page3"&&o.jsxs("div",{children:[o.jsx("h2",{children:"Organisation Email Verification"}),o.jsxs("div",{style:P.container,children:[o.jsx("input",{type:"text",name:"organisationEmailOTP",value:m.organisationEmailOTP,onChange:T=>x({...m,organisationEmailOTP:T.target.value}),style:P.input,placeholder:"Verification code..."}),o.jsx("span",{style:P.TCButton,onClick:_,children:"Verify"}),o.jsx("span",{style:P.TCButton,onClick:()=>f("page2"),children:"Back"})]})]}),p==="page4"&&o.jsxs("div",{children:[o.jsx("h2",{children:"Keyperson 1: "}),o.jsxs("div",{style:P.container,children:[o.jsxs("label",{style:P.label,children:["KeyPerson1 Title:",o.jsxs("select",{type:"text",value:m.kp1Title,onChange:T=>x({...m,kp1Title:T.target.value}),style:P.input,children:[o.jsx("option",{value:"",children:"Select Title"}),o.jsx("option",{value:"Dr.",children:"Dr."}),o.jsx("option",{value:"Mr.",children:"Mr."}),o.jsx("option",{value:"Mrs.",children:"Mrs."}),o.jsx("option",{value:"Ms.",children:"Ms."}),o.jsx("option",{value:"Prof.",children:"Prof."})]})]}),o.jsxs("label",{style:P.label,children:["Keyperson1 Last Name:",o.jsx("input",{type:"text",value:m.kp1LastName,onChange:T=>x({...m,kp1LastName:T.target.value}),style:P.input})]}),o.jsxs("label",{style:P.label,children:["Keyperson1 First Name:",o.jsx("input",{type:"text",value:m.kp1FirstName,onChange:T=>x({...m,kp1FirstName:T.target.value}),style:P.input})]}),o.jsxs("label",{style:P.label,children:["Keyperson1 Department:",o.jsx("input",{type:"text",value:m.kp1Department,onChange:T=>x({...m,kp1Department:T.target.value}),style:P.input})]}),o.jsxs("label",{style:P.label,children:["Keyperson1 Role:",o.jsx("input",{type:"text",value:m.kp1Role,onChange:T=>x({...m,kp1Role:T.target.value}),style:P.input})]}),o.jsxs("label",{style:P.label,children:["Keyperson1 Employee ID:",o.jsx("input",{type:"text",value:m.kp1UserID,onChange:T=>x({...m,kp1UserID:T.target.value}),style:P.input})]}),o.jsxs("label",{style:P.label,children:["Keyperson1 Work Email:",o.jsx("input",{type:"text",value:m.kp1Email,onChange:T=>x({...m,kp1Email:T.target.value}),style:P.input})]}),o.jsxs("label",{style:P.label,children:["Keyperson1 Mobile:",o.jsx("input",{type:"number",value:m.kp1Mobile,onChange:T=>x({...m,kp1Mobile:T.target.value}),style:P.input})]}),o.jsx("span",{style:P.TCButton,onClick:w,children:"Next Page"}),o.jsx("span",{style:P.TCButton,onClick:()=>f("page3"),children:"Back"})]})]}),p==="page5"&&o.jsxs("div",{children:[o.jsx("h2",{children:"Keyperson 1 Email/Mobile Number Verification"}),o.jsxs("div",{style:P.container,children:[o.jsx("label",{style:P.label,children:o.jsx("input",{type:"text",name:"kp1EmailOTP",value:m.kp1EmailOTP,onChange:T=>x({...m,kp1EmailOTP:T.target.value}),style:P.input,placeholder:"Keyperson1 Email Verification code..."})}),o.jsx("label",{style:P.label,children:o.jsx("input",{type:"text",name:"kp1MobileOTP",value:m.kp1MobileOTP,onChange:T=>x({...m,kp1MobileOTP:T.target.value}),style:P.input,placeholder:"Keyperson1 Mobile Verification code..."})}),o.jsx("span",{style:P.TCButton,onClick:I,children:"Verify"}),o.jsx("span",{style:P.TCButton,onClick:()=>f("page4"),children:"Back"})]})]}),p==="page6"&&o.jsxs("div",{children:[o.jsx("h2",{children:"Keyperson 2: "}),o.jsxs("div",{style:P.container,children:[o.jsxs("label",{style:P.label,children:["KeyPerson2 Name:",o.jsxs("select",{type:"text",value:m.kp2Title,onChange:T=>x({...m,kp2Title:T.target.value}),style:P.input,children:[o.jsx("option",{value:"",children:"Select Title"}),o.jsx("option",{value:"Dr.",children:"Dr."}),o.jsx("option",{value:"Mr.",children:"Mr."}),o.jsx("option",{value:"Mrs.",children:"Mrs."}),o.jsx("option",{value:"Ms.",children:"Ms."}),o.jsx("option",{value:"Prof.",children:"Prof."})]})]}),o.jsxs("label",{style:P.label,children:["Keyperson2 Last Name:",o.jsx("input",{type:"text",value:m.kp2LastName,onChange:T=>x({...m,kp2LastName:T.target.value}),style:P.input})]}),o.jsxs("label",{style:P.label,children:["Keyperson2 First Name:",o.jsx("input",{type:"text",value:m.kp2FirstName,onChange:T=>x({...m,kp2FirstName:T.target.value}),style:P.input})]}),o.jsxs("label",{style:P.label,children:["Keyperson2 Department:",o.jsx("input",{type:"text",value:m.kp2Department,onChange:T=>x({...m,kp2Department:T.target.value}),style:P.input})]}),o.jsxs("label",{style:P.label,children:["Keyperson2 Role:",o.jsx("input",{type:"text",value:m.kp2Role,onChange:T=>x({...m,kp2Role:T.target.value}),style:P.input})]}),o.jsxs("label",{style:P.label,children:["Keyperson2 Employee ID:",o.jsx("input",{type:"text",value:m.kp2UserID,onChange:T=>x({...m,kp2UserID:T.target.value}),style:P.input})]}),o.jsxs("label",{style:P.label,children:["Keyperson2 Work Email:",o.jsx("input",{type:"text",value:m.kp2Email,onChange:T=>x({...m,kp2Email:T.target.value}),style:P.input})]}),o.jsxs("label",{style:P.label,children:["Keyperson2 Mobile:",o.jsx("input",{type:"number",value:m.kp2Mobile,onChange:T=>x({...m,kp2Mobile:T.target.value}),style:P.input})]}),o.jsx("span",{style:P.TCButton,onClick:U,children:"Next Page"}),o.jsx("span",{style:P.TCButton,onClick:()=>f("page5"),children:"Back"})]})]}),p==="page7"&&o.jsxs("div",{children:[o.jsx("h2",{children:"Keyperson 2 Email/Mobile Number Verification"}),o.jsxs("div",{style:P.container,children:[o.jsx("label",{style:P.label,children:o.jsx("input",{type:"text",name:"kp2EmailOTP",value:m.kp2EmailOTP,onChange:T=>x({...m,kp2EmailOTP:T.target.value}),style:P.input,placeholder:"Keyperson2 Email Verification code..."})}),o.jsx("label",{style:P.label,children:o.jsx("input",{type:"text",name:"kp2MobileOTP",value:m.kp2MobileOTP,onChange:T=>x({...m,kp2MobileOTP:T.target.value}),style:P.input,placeholder:"Keyperson2 Mobile Verification code..."})}),o.jsx("span",{style:P.TCButton,onClick:G,children:"Verify"}),o.jsx("span",{style:P.TCButton,onClick:()=>f("page6"),children:"Back"})]})]}),p==="page8"&&o.jsxs("div",{children:[o.jsx("h2",{children:"Final Submission Page"}),o.jsxs("div",{style:P.buttonContainer,children:[o.jsx("button",{style:P.submitButton,onClick:$,children:"Submit"}),o.jsx("button",{type:"button",style:P.cancelButton,onClick:()=>f("page1"),children:"Cancel"})]})]}),p==="page9"&&o.jsxs("div",{children:[o.jsx("h2",{children:"Signup Success Page"}),O]})]})}function z_(){const{state:e}=b.useContext(Mt),{spineUrl:t,token:i,accessLevel:s,allStates:a}=e,[u,d]=b.useState("page1"),[p,f]=b.useState({}),[m,x]=b.useState({photo:null,rightFinger:null,leftFinger:null}),[j,S]=b.useState({verifiedWatcher:"",emailOTP:"",mobileOTP:"",kp2EmailOTP:""}),[O,C]=b.useState(""),[v,E]=b.useState({});zt();const[y,_]=b.useState(!1),[w,I]=b.useState(""),U=b.useRef(null);b.useEffect(()=>{(()=>{if(p.dob){const F=new Date(p.dob),me=new Date;let se=me.getFullYear()-F.getFullYear();const fe=me.getMonth()-F.getMonth(),D=me.getDate()-F.getDate();(fe<0||fe===0&&D<0)&&se--,f({...p,age:se})}else f({...p,age:null})})()},[p.dob]),b.useEffect(()=>{(async()=>{_(!0);try{const F=await fetch(`${t}/patients/verify_watcher?watcherPPN=${encodeURIComponent(p.watcherPPN)}`,{method:"GET",headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"}});if(F.ok){const me=await F.json();S({...j,verifiedWatcher:me.verifiedWatcher})}else{const me=await F.json();alert(me.message)}}catch(F){console.error("Error verifying watcher:",F)}finally{_(!1)}})()},[p.watcherPPN]);const G=async()=>{if(j.verifiedWatcher&&!p.relationship){alert("State relationship between watcher and patient!");return}if(_(!0),!p.title||!p.lastName||!p.firstName||!p.dob||!p.gender||!p.nin||!p.address||!p.locality||!p.state||!p.mobile||!p.email){alert("Complete all fields!"),_(!1);return}try{const ee=await fetch(`${t}/patients/generate_email_and_mobile_otp?email=${encodeURIComponent(p.email)}&mobile=${p.mobile}`,{method:"GET",headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"}});if(ee.ok){const F=await ee.json();S({...j,emailOTP:F.emailOTP,mobileOTP:F.mobileOTP}),d("page3")}else{const F=await ee.json();alert(F.message)}}catch(ee){console.error("Submission error:",ee),alert("An error occurred while generating otp")}finally{_(!1)}},$=async()=>{if(p.emailOTP!==j.emailOTP){alert("Invalid Email OTP!");return}else if(p.mobileOTP!==j.mobileOTP){alert("Invalid Mobile OTP!");return}else alert("Keyperson Email and Mobile number verified!"),d("page4")},P=()=>{const ee=U.current.getScreenshot();x({...m,photo:ee})},T=async()=>{if(_(!0),confirm("Confirm submission")){const F={};Object.entries(p).forEach(([me,se])=>{F[me]=se}),Object.entries(m).forEach(([me,se])=>{F[me]=se});try{const me=await fetch(`${t}/patients/patient_signup`,{method:"POST",headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"},body:JSON.stringify(F)});if(me.ok){const se=await me.json();C(se.successMessage),E(se.certificate),d("page6")}else{const se=await me.json();alert(se.message)}}catch(me){console.error("Submission error:",me),alert("An error occurred creating new patient")}finally{_(!1)}}else alert("New Patient creation cancelled!"),_(!1)},N=()=>{f({}),x({}),d("page1")},R={container:{cursor:y?"wait":"default",width:"90%",height:"65vh",margin:"0 auto",padding:"20px",backgroundColor:"#ffffff",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",overflowY:"auto"},title:{cursor:y?"wait":"default",fontSize:"1.5em",marginBottom:"20px",color:"#333",textAlign:"center"},topSection:{backgroundColor:"white"},keyPerson1:{backgroundColor:"yellow"},keyPerson2:{backgroundColor:"grey"},label:{display:"block",fontSize:"0.9em",color:"#555",marginBottom:"8px",width:"98%",cursor:y?"wait":"default"},input:{width:"100%",padding:"10px",marginBottom:"15px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"1em",backgroundColor:"white",color:"black",cursor:y?"wait":"default"},textarea:{width:"100%",padding:"10px",marginBottom:"15px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"1em",resize:"vertical",minHeight:"80px",backgroundColor:"white",color:"black",cursor:y?"wait":"default"},TCBody:{height:"60vh",width:"100%",overflowY:"auto",margin:"20px",textAlign:"left"},button:{padding:"10px",backgroundColor:"#007BFF",color:"#FFF",border:"none",cursor:"pointer"},TCButton2:{height:"50px",width:"200px",borderRadius:"5px",backgroundColor:"#2C2C2C",color:"white",cursor:y?"wait":"pointer"},TCButton:{padding:"10px 20px",backgroundColor:"#007bff",color:"white",cursor:y?"wait":"pointer",borderRadius:"4px",textAlign:"center"},buttonContainer:{display:"flex",justifyContent:"space-between",gap:"10px",marginTop:"20px",cursor:y?"wait":"pointer"},submitButton:{backgroundColor:"#4CAF50",color:"white",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:y?"wait":"pointer",fontSize:"1em",flex:1},cancelButton:{backgroundColor:"#f44336",color:"white",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:y?"wait":"pointer",fontSize:"1em",flex:1},specialOptions:{display:s<=3?"inline-block":"none"},photo:{margin:"20px",backgroundColor:"#fff",height:"150px",width:"200px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"10px",border:"1px solid #ddd",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)",overflow:"hidden",cursor:y?"wait":"default"},image:{height:"100%",width:"100%",objectFit:"cover",cursor:y?"wait":"default"},placeholderText:{color:"#666",fontSize:"16px",fontStyle:"italic",textAlign:"center",cursor:y?"wait":"default"}},Z={container:{display:"flex",flexDirection:"column",gap:"15px"},label:{display:"flex",flexDirection:"column",fontSize:"14px"},button:{padding:"10px",backgroundColor:"#007BFF",color:"#FFF",border:"none",cursor:"pointer"},TCButton:{marginTop:"20px",padding:"10px 20px",backgroundColor:"#28a745",color:"#FFF",border:"none",cursor:"pointer"}};return o.jsxs("div",{children:[u==="page1"&&o.jsxs("div",{children:[o.jsx("h2",{children:"Patients Terms And Conditions"}),o.jsxs("div",{style:R.TCBody,children:[o.jsx("h3",{children:"GENERAL"}),o.jsxs("p",{children:[o.jsx("strong",{children:"Minor:"})," All minors are required to be registered under an adult who would be responsible for them at all times"]}),o.jsx("br",{})]}),o.jsx("span",{style:R.TCButton,onClick:()=>d("page2"),children:"Agree"})]}),u==="page2"&&o.jsxs("div",{children:[o.jsx("h2",{children:"Patient Biodata: "}),o.jsxs("div",{style:R.container,children:[o.jsxs("label",{style:R.label,children:[o.jsx("input",{type:"hidden",value:m.phone,style:R.input}),o.jsx("input",{type:"hidden",value:m.rightFinger,style:R.input}),o.jsx("input",{type:"hidden",value:m.leftFinger,style:R.input})]}),o.jsxs("label",{style:R.label,children:["Name:",o.jsxs("select",{type:"text",value:p.title,onChange:ee=>f({...p,title:ee.target.value}),style:R.input,children:[o.jsx("option",{value:"",children:"Select Title"}),o.jsx("option",{value:"Dr.",children:"Dr."}),o.jsx("option",{value:"Mr.",children:"Mr."}),o.jsx("option",{value:"Mrs.",children:"Mrs."}),o.jsx("option",{value:"Ms.",children:"Ms."}),o.jsx("option",{value:"Prof.",children:"Prof."})]})]}),o.jsxs("label",{style:R.label,children:["Last Name:",o.jsx("input",{type:"text",value:p.lastName,onChange:ee=>f({...p,lastName:ee.target.value}),style:R.input})]}),o.jsxs("label",{style:R.label,children:["First Name:",o.jsx("input",{type:"text",value:p.firstName,onChange:ee=>f({...p,firstName:ee.target.value}),style:R.input})]}),o.jsxs("label",{style:R.label,children:["Date of Birth:",o.jsx("input",{type:"date",value:p.dob,onChange:ee=>f({...p,dob:ee.target.value}),style:R.input}),o.jsxs("p",{style:{display:p.age?"inline-block":"none"},children:[p.age,"years"]})]}),o.jsxs("label",{style:R.label,children:["Watcher (All minors require a watcher. Clients who are not computer literate may also require a watcher):",o.jsx("input",{type:"text",value:p.watcherPPN,onChange:ee=>f({...p,watcherPPN:ee.target.value}),style:R.input}),o.jsxs("p",{style:{display:p.watcherPPN?"inline-block":"none"},children:[o.jsx("strong",{children:"Verified Watcher: "}),j.verifiedWatcher?j.verifiedWatcher:"Watcher could not be verified",o.jsx("input",{style:{backgroundColor:"white",color:"black",width:"30%"},value:p.relationship,onChange:ee=>f({...p,relationship:ee.target.value}),placeholder:"Relationship..."})]})]}),o.jsxs("label",{style:R.label,children:["National Identification Number(NIN):",o.jsx("input",{type:"text",value:p.nin,onChange:ee=>f({...p,nin:ee.target.value}),style:R.input})]}),o.jsxs("label",{style:R.label,children:["Gender:",o.jsxs("select",{type:"text",value:p.gender,onChange:ee=>f({...p,gender:ee.target.value}),style:R.input,children:[o.jsx("option",{value:"",children:"Select Gender"}),o.jsx("option",{value:"male",children:"Male"}),o.jsx("option",{value:"female",children:"Female"})]})]}),o.jsxs("label",{style:R.label,children:["Correspondence Address:",o.jsx("input",{type:"text",value:p.address,onChange:ee=>f({...p,address:ee.target.value}),style:R.input})]}),o.jsxs("label",{style:R.label,children:["City/Town:",o.jsx("input",{type:"text",value:p.locality,onChange:ee=>f({...p,locality:ee.target.value}),style:R.input})]}),o.jsxs("label",{style:R.label,children:["State of Residence:",o.jsxs("select",{type:"text",value:p.state,onChange:ee=>f({...p,state:ee.target.value}),style:R.input,children:[o.jsx("option",{value:"",children:"Select"}),a.map(ee=>o.jsx("option",{children:ee},ee))]})]}),o.jsxs("label",{style:R.label,children:["Email (Every client must be linked to an email or mobile number for correspondence purposes):",o.jsx("input",{type:"email",value:p.email,onChange:ee=>f({...p,email:ee.target.value}),style:R.input})]}),o.jsxs("label",{style:R.label,children:["Mobile:",o.jsx("input",{type:"number",value:p.mobile,onChange:ee=>f({...p,mobile:ee.target.value}),style:R.input})]}),o.jsxs("label",{style:R.label,children:["Emergency Contact 1 (First Name/Mobile/Relationship):",o.jsx("input",{type:"text",value:p.emergencyContact1,onChange:ee=>f({...p,emergencyContact1:ee.target.value}),style:R.input})]}),o.jsxs("label",{style:R.label,children:["Emergency Contact 2 (First Name/Mobile/Relationship):",o.jsx("input",{type:"text",value:p.emergencyContact2,onChange:ee=>f({...p,emergencyContact2:ee.target.value}),style:R.input})]}),o.jsx("span",{style:R.TCButton,onClick:G,children:"Next Page"}),o.jsx("span",{style:R.TCButton,onClick:()=>{d("page1"),f({})},children:"Back"})]})]}),u==="page3"&&o.jsxs("div",{children:[o.jsx("h2",{children:"Email/Mobile Number Verification"}),o.jsxs("div",{style:R.container,children:[o.jsx("label",{style:R.label,children:o.jsx("input",{type:"text",name:"emailOTP",value:p.emailOTP,onChange:ee=>f({...p,emailOTP:ee.target.value}),style:R.input,placeholder:"Email Verification code..."})}),o.jsx("label",{style:R.label,children:o.jsx("input",{type:"text",name:"mobileOTP",value:p.mobileOTP,onChange:ee=>f({...p,mobileOTP:ee.target.value}),style:R.input,placeholder:"Mobile Verification code..."})}),o.jsx("span",{style:R.TCButton,onClick:$,children:"Verify"}),o.jsx("span",{style:R.TCButton,onClick:()=>d("page2"),children:"Back"})]})]}),u==="page4"&&o.jsxs("div",{children:[o.jsx("h2",{children:"NHIS Number"}),o.jsxs("div",{style:R.container,children:[o.jsxs("label",{style:R.label,children:["NHIS number (Proof must be provided)",o.jsx("input",{type:"text",value:p.nhisNumber,onChange:ee=>f({...p,nhisNumber:ee.target.value}),style:R.input,placeholder:"NHIS number..."})]}),o.jsx("span",{style:R.TCButton,onClick:()=>d("page5"),children:"Next page"}),o.jsx("span",{style:R.TCButton,onClick:()=>d("page3"),children:"Back"})]})]}),u==="page5"&&o.jsx("div",{style:R.container,children:o.jsxs("div",{style:{display:"flex",flexDirection:"row"},children:[o.jsxs("div",{style:{width:"50%"},children:[o.jsx("h2",{children:"Webcam"}),o.jsx(to,{audio:!1,ref:U,screenshotFormat:"image/png",width:400}),o.jsx("div",{style:{margin:"20px 0"},children:o.jsx("button",{onClick:P,children:"Capture Photo"})})]}),o.jsxs("div",{style:{display:m.photo?"inline-block":"none"},children:[m.photo&&o.jsxs("div",{children:[o.jsx("h3",{children:"Photo Preview"}),o.jsx("img",{src:m.photo,alt:"Captured",width:400})]}),o.jsxs("div",{style:{marginTop:"20px"},children:[o.jsx("button",{onClick:T,children:"Submit"}),o.jsx("span",{style:R.TCButton,onClick:()=>{d("page4"),x({...m,photo:null})},children:"Back"})]})]}),w&&o.jsx("p",{children:w})]})}),u==="page6"&&o.jsxs("div",{children:[o.jsx("h2",{children:"Signup Success Page"}),O,o.jsx("div",{style:{margin:"10px 0"},children:o.jsx("button",{style:Z.button,onClick:()=>d("page7"),children:"Print(Show) Certificate"})})]}),u==="page7"&&o.jsxs("div",{children:[o.jsx("h2",{children:"PrescribeNg Certificate"}),o.jsx("div",{style:R.photo,children:v.photoUrl?o.jsx("img",{src:v.photoUrl,style:R.image,alt:"User's photo"}):o.jsx("div",{style:R.placeholderText,children:"Photo Not Found"})}),o.jsxs("div",{style:{alignContent:"left",textAlign:"left",margin:"20px"},children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Private Prescription Number: "}),v.ppn]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Patient Name: "}),v.name]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Date of Birth: "}),v.dob]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Age at Signup: "}),v.age,"yrs"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Correspondence Address: "}),v.address]})]}),o.jsx("div",{style:{margin:"10px 0"},children:o.jsx("button",{style:Z.button,onClick:N,children:"Close"})})]})]})}function M_(){const{state:e,logout:t,updatePatient:i}=b.useContext(Mt),{token:s,spineUrl:a,category:u,accessLevel:d,configurations:p,serviceBranches:f,userID:m,organisation:x}=e,[j,S]=b.useState("Home"),[O,C]=b.useState("new-watcher"),[v,E]=b.useState({}),[y,_]=b.useState({}),[w,I]=b.useState(""),[U,G]=b.useState(""),[$,P]=b.useState([]),[T,N]=b.useState({}),[R,Z]=b.useState(!1),[ee,F]=b.useState(!1),[me,se]=b.useState("table"),[fe,D]=b.useState({}),[ne,K]=b.useState([]),ue=b.useRef(null);zt();const ge=async A=>{A.preventDefault();try{const V=await fetch(`${a}/patients/search_patients?ppn=${encodeURIComponent(U.ppn)}&lastName=${encodeURIComponent(U.lastName)}&dob=${encodeURIComponent(U.dob)}`,{method:"GET",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}});if(V.ok){const oe=await V.json();P(oe.searchResults)}else{const oe=await V.json();P([]),alert(oe.message),console.error("Failed to fetch:",oe.message)}}catch(V){console.error("Error fetching referrals:",V)}},Pe=A=>{const{name:V,value:oe}=A.target;G(Ce=>({...Ce,[V]:oe}))},we=A=>{N(A),S("Editing Pad")};b.useEffect(()=>{(async()=>{try{const V=await fetch(`${a}/patients/find_new_watcher?ppn=${encodeURIComponent(w)}`,{method:"GET",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}});if(console.log(a),V.ok){const oe=await V.json();oe.newWatcher?_(oe.newWatcher):_({})}else{const oe=await V.json();alert(oe.message),console.error("Failed to fetch keypersons:",V.statusText)}}catch(V){console.error("Error fetching keypersons:",V)}})()},[a,s,w,R]);const Q=async()=>{if(!y.watcherID){alert("No new watcher exists!");return}try{if(!confirm("You are about to add a new watcher to patient's profile and this will give unrestricted access to patient's profile. By clicking ok, you assume responsibility for this change and have ensured that all due diligence has been done according to PrescribeNg LTD policies. Do you want to procede?")){alert("Action cancelled!");return}let V=prompt("What is the watcher's relationship with patient?");if(!V){alert("You must state the relationship between watcher and patient!");return}const oe=await fetch(`${a}/patients/add_new_watcher`,{method:"POST",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"},body:JSON.stringify({ppn:T.ppn,watcherID:y.watcherID,relationship:V})});if(oe.ok){const Ce=await oe.json();alert(Ce.message),N({...T,watchers:Ce.updatedWatchers})}else{const Ce=await oe.json();alert(Ce.message),console.error("Failed to fetch localities:",oe.statusText)}}catch(A){console.error("Error fetching localities:",A)}},he=async()=>{if(!v.watcherID){alert("No watcher selected!");return}try{if(!confirm("You are about to remove a watcher from patient's profile and this will remove all access to patient's profile. By clicking ok, you assume responsibility for this change and have ensured that all due diligence has been done according to PrescribeNg LTD policies. Do you want to procede?")){alert("Action cancelled!");return}const V=await fetch(`${a}/patients/remove_watcher`,{method:"POST",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"},body:JSON.stringify({ppn:T.ppn,watcherID:v.watcherID})});if(V.ok){const oe=await V.json();alert(oe.message),N({...T,watchers:oe.updatedWatchers})}else{const oe=await V.json();alert(oe.message),console.error("Failed to fetch localities:",V.statusText)}}catch(A){console.error("Error fetching localities:",A)}},te=async()=>{try{if(!confirm("You are about to modify a patient's profile. By clicking ok, you assume responsibility for this change. Do you want to procede?")){alert("Action cancelled!");return}const V=await fetch(`${a}/patients/modify_patient`,{method:"POST",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"},body:JSON.stringify(T)});if(V.ok){const oe=await V.json();alert(oe.message),Z(Ce=>!Ce)}else{const oe=await V.json();alert(oe.message),console.error("Failed to fetch localities:",V.statusText)}}catch(A){console.error("Error fetching localities:",A)}},ae=async()=>{if(!T.shareCodeReason){alert("Please provide a compelling reason for generating share code");return}try{if(!confirm(`You are about to generate a share code for ${T.firstName.toUpperCase()}. You must ensure a proof exists in form of email, that this request was made by ${T.firstName.toUpperCase()} or by an authorized person acting onbehalf of ${T.firstName.toUpperCase()}, with a compelling reason.`)){alert("Action cancelled!");return}const V=await fetch(`${a}/patients/generate_share_code`,{method:"POST",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"},body:JSON.stringify(T)});if(V.ok){const oe=await V.json();alert(oe.message),Z(Ce=>!Ce)}else{const oe=await V.json();alert(oe.message),console.error("Failed to fetch localities:",V.statusText)}}catch(A){console.error("Error fetching localities:",A)}},W=()=>{const A=ue.current.getScreenshot();N({...T,newPhoto:A})},ze=async()=>{if(!confirm("Confirm Image Upload")){alert("New Patient creation cancelled!"),N({...T,newPhoto:null});return}try{const V=await fetch(`${a}/patients/photo_upload`,{method:"POST",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"},body:JSON.stringify({ppn:T.ppn,newPhoto:T.newPhoto})});if(V.ok){const oe=await V.json();oe.newPhotoUrl&&N({...T,photoUrl:oe.newPhotoUrl}),S("Editing Pad"),N({...T,newPhoto:null})}else{const oe=await V.json();alert(oe.message)}}catch(V){console.error("Submission error:",V),alert("An error occurred creating new patient")}},q=A=>{const{name:V,type:oe,files:Ce}=A.target;if(oe==="file"){const io=Array.from(Ce);K(Ki=>({...Ki,[V]:[...Ki[V]||[],...io]}))}},ie=A=>{K(V=>{const oe=[...V.uploads];return oe.splice(A,1),{uploads:oe}})},de=A=>new Promise((V,oe)=>{const Ce=new FileReader;Ce.onloadend=()=>V(Ce.result.split(",")[1]),Ce.onerror=oe,Ce.readAsDataURL(A)}),X=async()=>{if(confirm("Confirm submission")){const V=await Promise.all(ne.uploads.map(async oe=>{const Ce=await de(oe);return{name:oe.name,content:Ce}}));try{const oe=await fetch(`${a}/patients/file_upload`,{method:"POST",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"},body:JSON.stringify({ppn:T.ppn,uploads:V})});if(oe.ok){const Ce=await oe.json();N({...T,documents:Ce.documents}),se("table")}else{const Ce=await oe.json();alert(Ce.message)}}catch(oe){console.error("File upload error:",oe),alert("An error occurred uploading files")}}else alert("File upload cancelled!")},vt=async()=>{if(!fe.validity){alert("Document validity missing!");return}confirm("Ensure due diligence has been done on file before modifying file verification status.")||alert("File verification cancelled!");try{const V=await fetch(`${a}/patients/file_verification`,{method:"POST",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"},body:JSON.stringify({ppn:T.ppn,fileKey:fe.fileKey,validity:fe.validity,verification:"verified"})});if(V.ok){const oe=await V.json();N({...T,documents:oe.documents}),se("table"),F(!1)}else{const oe=await V.json();alert(oe.message)}}catch(V){console.error("File verification error:",V),alert("An error occurred uploading files")}},J=async()=>{if(!fe.validity){alert("Document validity missing!");return}confirm("Ensure due diligence has been done on file before modifying file verification status.")||alert("File verification cancelled!");try{const V=await fetch(`${a}/patients/file_verification`,{method:"POST",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"},body:JSON.stringify({ppn:T.ppn,fileKey:fe.fileKey,validity:fe.validity,verification:"unverified"})});if(V.ok){const oe=await V.json();N({...T,documents:oe.documents}),se("table"),F(!1)}else{const oe=await V.json();alert(oe.message)}}catch(V){console.error("File verification error:",V),alert("An error occurred uploading files")}},M={page:{color:"black",height:"100%",width:"100%",overflowY:"hidden",overflowX:"hidden",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center"},searchFieldContainer:{display:"flex",flexDirection:"row",backgroundColor:"grey",alignItems:"left",justifyContent:"left"},searchField:{backgroundColor:"white",color:"black",right:"20px",width:"35%",height:"25px",top:"120px"},stateSelector1:{display:d==="basic"?"inline-block":"none",backgroundColor:"orange",color:"white",right:"20px",width:"15%",height:"25px",top:"120px"},stateSelector2:{backgroundColor:"#2c3e50",color:"white",right:"20px",width:"15%",height:"25px",top:"120px"},departmentSelector:{backgroundColor:"#2c3e50",color:"white",right:"20px",width:"15%",height:"25px",top:"120px"},tableContainer:{height:"79vh",backgroundColor:"white",width:"100%"},table:{width:"95%",borderCollapse:"collapse",marginTop:"20px"},thead:{backgroundColor:"#2c3e50",color:"white",position:"sticky",top:"0px",zIndex:2e3},profileContainer:{display:"flex",flexDirection:"row",color:"black",backgroundColor:"#f9f9f9",padding:"20px",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",width:"80%",height:"65vh",margin:"20px auto",textAlign:"center"},photoContainer:{position:"sticky",top:"10px",left:"80px",backgroundColor:"#fff",height:"200px",width:"200px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"10px",border:"1px solid #ddd",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)",overflow:"hidden"},photoContainer2:{position:"sticky",top:"10px",left:"80px",backgroundColor:"#fff",height:"380px",width:"380px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"10px",border:"1px solid #ddd",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)",overflow:"hidden"},image:{height:"100%",width:"100%",objectFit:"cover"},placeholderText:{color:"#666",fontSize:"16px",fontStyle:"italic",textAlign:"center"},section:{display:"block",width:"45%",marginBottom:"20px",textAlign:"left",lineHeight:"0.8"},input:{padding:"10px",marginRight:"10px",borderRadius:"5px",border:"1px solid #ccc",width:"200px",backgroundColor:"white",color:"black"},shareCodeInput:{padding:"10px",marginRight:"10px",borderRadius:"5px",border:"1px solid #ccc",width:"95%",height:"40vh",backgroundColor:"white",color:"black"},button:{backgroundColor:"#3498db",margin:"5px",cursor:"pointer"},label:{display:"block",fontSize:"0.9em",color:"#555",marginBottom:"8px"},topCloseButton:{height:"30px",width:"100px",backgroundColor:"red",cursor:"pointer"},docVerificationOverlay:{display:ee?"block":"none",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:2e3,pointerEvents:"auto",width:"40%",height:"40%",backgroundColor:"grey",textAlign:"center"},uploadfield:{padding:"20px",border:"1px solid #ccc",borderRadius:"8px"},uploadInput:{marginBottom:"10px"},uploadedFiles:{marginTop:"10px",listStyleType:"none",padding:"0",minHeight:"4vh"},uploadItem:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},removeFileButton:{color:"red",cursor:"pointer"}};return o.jsxs("div",{style:M.page,children:[j==="Home"&&o.jsxs("div",{style:M.tableContainer,children:[o.jsx("h2",{children:"Search Patients"}),o.jsx("form",{style:M.form,onSubmit:ge,children:o.jsx("table",{style:M.table,children:o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{style:M.th,children:o.jsx("input",{type:"text",name:"lastName",value:U.lastName||"",onChange:Pe,placeholder:"Last Name",style:M.input})}),o.jsx("th",{style:M.th,children:o.jsx("input",{type:"date",name:"dob",value:U.dob||"",onChange:Pe,placeholder:"NHS Number",style:M.input})}),o.jsx("th",{style:M.th,children:o.jsx("input",{type:"text",name:"ppn",value:U.ppn||"",onChange:Pe,placeholder:"Private Prescription Number(PPN)",style:M.input})}),o.jsx("th",{style:M.th,children:o.jsx("button",{style:M.button,type:"submit",children:"Search"})})]})})})}),o.jsxs("table",{style:M.table,children:[o.jsx("thead",{style:M.thead,children:o.jsxs("tr",{children:[o.jsx("th",{style:M.th,children:"Name"}),o.jsx("th",{style:M.th,children:"Gender"}),o.jsx("th",{style:M.th,children:"DOB"}),o.jsx("th",{style:M.th,children:"PPN"}),o.jsx("th",{style:M.th})]})}),o.jsx("tbody",{children:$.length>0?$.map(A=>o.jsxs("tr",{children:[o.jsxs("td",{style:M.td,children:[A.title," ",A.lastName," ",A.firstName]}),o.jsx("td",{style:M.td,children:A.gender}),o.jsx("td",{style:M.td,children:A.dob}),o.jsx("td",{style:M.td,children:A.ppn}),o.jsx("td",{style:M.td,children:o.jsx("button",{style:M.button,onClick:()=>we(A),children:"Select"})})]},A.ppn)):o.jsx("tr",{children:o.jsx("td",{colSpan:"5",style:M.td,children:"No patients found"})})})]})]}),j==="Editing Pad"&&o.jsxs("div",{style:{width:"100%"},children:[o.jsxs("div",{style:M.profileContainer,children:[o.jsxs("div",{style:M.section,children:[o.jsx("div",{style:M.photoContainer,children:T.photoUrl?o.jsx("img",{src:T.photoUrl,style:M.image,alt:"User's photo"}):o.jsx("div",{style:M.placeholderText,children:"Photo Not Found"})}),o.jsx("span",{style:{textDecoration:"underline",color:"green",cursor:"pointer"},onClick:()=>S("Photo Upload"),children:"Change Photo"}),o.jsxs("p",{children:[o.jsx("strong",{children:"Name:"})," ",T.title," ",T.lastName," ",T.firstName]}),o.jsxs("p",{children:[o.jsx("strong",{children:"PPN:"})," ",T.ppn]}),o.jsxs("p",{children:[o.jsx("strong",{children:"NHIS Number:"})," ",T!=null&&T.nhis?`${T.nhis}`:"Not linked"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Share Code/Expiry:"})," ",T!=null&&T.shareCode?`${T.shareCode} (${T.shareCodeExpiry})`:"Patient has no share code"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"DOB:"})," ",T.dob,"(",T.age,"yrs)"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Admission Status:"})," ",T.admissionStatus]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Mobile Access:"})," ",(T==null?void 0:T.access)==="open"?"Activated":"Not activated"]}),o.jsxs("div",{style:{marginBottom:"20px"},children:["Patient Status:",o.jsxs("select",{style:M.input,value:T.clientStatus||"",onChange:A=>N({...T,clientStatus:A.target.value}),children:[o.jsx("option",{value:"",children:"Select Access Level"}),o.jsx("option",{value:"enrolled",children:"Enrolled"}),o.jsx("option",{value:"flagged",children:"Flagged"}),o.jsx("option",{value:"wanted",children:"Wanted"}),o.jsx("option",{value:"missing",children:"Missing Person"})]}),o.jsx("textarea",{style:{...M.input,display:T.clientStatus==="enrolled"?"none":"inline-block"},placeholder:"Brief detail...",value:T.flagReason,onChange:A=>N({...T,flagReason:A.target.value})}),o.jsx("button",{style:M.button,onClick:te,children:"Save Changes"})]})]}),o.jsxs("div",{style:M.section,children:[o.jsx("div",{style:{height:"40%"},children:o.jsxs("table",{style:M.table,children:[o.jsx("thead",{style:M.thead,children:o.jsxs("tr",{children:[o.jsx("th",{children:"Watcher"}),o.jsx("th",{children:"Relationship"}),o.jsx("th",{children:"Watcher ID"})]})}),o.jsx("tbody",{children:T.watchers&&T.watchers.length>0?T.watchers.map((A,V)=>o.jsxs("tr",{children:[o.jsx("td",{children:A.watcher}),o.jsx("td",{children:A.relationship||"unknown"}),o.jsx("td",{children:A.watcherID})]},V)):o.jsx("tr",{colSpan:"3",style:{textAlign:"right"},children:"Patient has no watcher"})})]})}),o.jsx("div",{style:{height:"40%"},children:o.jsxs("table",{style:M.table,children:[o.jsx("thead",{style:M.thead,children:o.jsxs("tr",{children:[o.jsx("th",{children:"HMO"}),o.jsx("th",{children:"Plan"}),o.jsx("th",{children:"Contact"})]})}),o.jsx("tbody",{children:T.policies&&T.policies.length>0?T.policies.map((A,V)=>o.jsxs("tr",{children:[o.jsx("td",{children:A.sponsor}),o.jsx("td",{children:A.plan}),o.jsx("td",{children:A.contact})]},V)):o.jsx("tr",{colSpan:"3",style:{textAlign:"right"},children:"Patient has no active policy"})})]})})]})]}),o.jsxs("div",{style:{display:"flex"},children:[o.jsx("button",{style:M.button,onClick:()=>S("Share Code"),children:"Generate Sharecode"}),o.jsx("button",{style:M.button,onClick:()=>S("Watchers"),children:"Add/Remove watcher"}),o.jsx("button",{style:M.button,onClick:()=>S("Documents"),children:"Documents"}),o.jsx("button",{style:M.button,onClick:()=>{S("Home"),N({})},children:"Close"})]})]}),j==="Share Code"&&o.jsx("div",{style:{width:"100%"},children:o.jsxs("div",{style:M.profileContainer,children:[o.jsxs("div",{style:M.section,children:[o.jsxs("h2",{children:["Share code Reason(",T.title," ",T.lastName," ",T.firstName,")"]}),o.jsx("div",{style:{marginBottom:"20px"},children:o.jsx("textarea",{style:{...M.shareCodeInput},placeholder:"(Paste email content from patient)",value:T.shareCodeReason,onChange:A=>N({...T,shareCodeReason:A.target.value})})}),o.jsx("button",{style:M.button,onClick:ae,children:"Generate Sharecode"}),o.jsx("button",{style:M.button,onClick:()=>S("Editing Pad"),children:"Back"})]}),o.jsx("div",{style:{...M.section,width:"55%",marginLeft:"20px"},children:o.jsxs("div",{style:{height:"40%"},children:[o.jsx("h3",{children:"Audit Trail"}),o.jsxs("table",{style:M.table,children:[o.jsx("thead",{style:M.thead,children:o.jsxs("tr",{children:[o.jsx("th",{children:"Event"}),o.jsx("th",{children:"Detail"}),o.jsx("th",{children:"Date"})]})}),o.jsx("tbody",{children:T.auditTrail&&T.auditTrail.length>0?T.auditTrail.map((A,V)=>o.jsxs("tr",{style:{marginBottom:"20px"},children:[o.jsx("td",{children:A.event}),o.jsx("td",{children:A.event}),o.jsx("td",{children:A.date})]},V)):o.jsx("tr",{colSpan:"3",style:{textAlign:"right"},children:"Patient has no audit trail"})})]})]})})]})}),j==="Watchers"&&o.jsx("div",{style:{width:"100%"},children:o.jsxs("div",{style:M.profileContainer,children:[o.jsx("div",{style:{...M.section,width:"55%",marginLeft:"20px"},children:o.jsxs("div",{style:{height:"60%",overflowY:"auto"},children:[o.jsx("h3",{children:"Audit Trail"}),o.jsxs("table",{style:M.table,children:[o.jsx("thead",{style:M.thead,children:o.jsxs("tr",{children:[o.jsx("th",{children:"Watcher"}),o.jsx("th",{children:"Relationship"}),o.jsx("th",{children:"Watcher ID"}),o.jsx("th",{})]})}),o.jsx("tbody",{children:T.watchers&&T.watchers.length>0?T.watchers.map((A,V)=>o.jsxs("tr",{children:[o.jsx("td",{children:A.watcher}),o.jsx("td",{children:A.relationship||"unknown"}),o.jsx("td",{children:A.watcherID}),o.jsx("td",{onClick:()=>{E(A),C("existing-watcher")},children:o.jsx("span",{style:M.button,children:"View"})})]},V)):o.jsx("tr",{colSpan:"3",style:{textAlign:"right"},children:"Patient has no watcher"})})]})]})}),o.jsxs("div",{style:M.section,children:[O==="existing-watcher"&&o.jsxs("div",{children:[o.jsx("h2",{children:v.watcher}),o.jsx("div",{style:{...M.photoContainer2},children:v!=null&&v.photoUrl?o.jsx("img",{src:v==null?void 0:v.photoUrl,style:M.image,alt:"User's photo"}):o.jsx("div",{style:M.placeholderText,children:"Photo Not Found"})}),o.jsx("div",{style:{marginTop:"10px"},children:o.jsxs("div",{children:[o.jsx("button",{style:{...M.button,display:v.watcherID?"inline-block":"none"},onClick:he,children:"Remove"}),o.jsx("button",{style:M.button,onClick:()=>C("new-watcher"),children:"Add New Watcher"}),o.jsx("button",{style:M.button,onClick:()=>{S("Editing Pad"),C("new-watcher"),_({}),E({}),I("")},children:"Back"})]})})]}),O==="new-watcher"&&o.jsxs("div",{children:[o.jsx("h2",{children:y.watcher}),o.jsx("div",{style:{...M.photoContainer2},children:y!=null&&y.photoUrl?o.jsx("img",{src:y==null?void 0:y.photoUrl,style:M.image,alt:"User's photo"}):o.jsx("div",{style:M.placeholderText,children:"Photo Not Found"})}),o.jsxs("div",{style:{marginTop:"10px"},children:[o.jsx("input",{style:{backgroundColor:"white",color:"black",width:"300px",height:"30px"},value:w,onChange:A=>I(A.target.value),placeholder:"Enter PPN of new watcher.."}),o.jsxs("div",{children:[o.jsx("button",{style:M.button,onClick:Q,children:"Add"}),o.jsx("button",{style:M.button,onClick:()=>{S("Editing Pad"),_({}),E({}),I("")},children:"Back"})]})]})]})]})]})}),j==="Photo Upload"&&o.jsx("div",{style:{width:"100%"},children:o.jsxs("div",{style:M.profileContainer,children:[o.jsxs("div",{style:{...M.section,width:"50%"},children:[o.jsx("h2",{children:"Web Cam"}),o.jsx("div",{style:M.photoContainer2,children:o.jsx(to,{audio:!1,ref:ue,screenshotFormat:"image/png",width:400})}),o.jsx("button",{style:M.button,onClick:W,children:"Capture"}),o.jsx("button",{style:M.button,onClick:()=>{S("Editing Pad"),N({...T,newPhoto:null})},children:"Back"})]}),o.jsxs("div",{style:{...M.section,width:"50%",display:T.newPhoto?"inline-block":"none"},children:[o.jsxs("h2",{children:["Preview (",T.title," ",T.lastName," ",T.firstName,")"]}),o.jsx("div",{style:M.photoContainer2,children:T.newPhoto?o.jsx("img",{src:T.newPhoto,alt:"Captured",width:400}):o.jsx("div",{style:M.placeholderText,children:"No image captured"})}),o.jsx("button",{style:M.button,onClick:ze,children:"Upload"})]})]})}),j==="Documents"&&o.jsx("div",{style:{width:"100%"},children:o.jsxs("div",{style:M.profileContainer,children:[me==="table"&&o.jsxs("div",{style:{...M.section,width:"100%"},children:[o.jsx("div",{style:{height:"40%",width:"100%"},children:o.jsxs("table",{style:M.table,children:[o.jsx("thead",{style:M.thead,children:o.jsxs("tr",{children:[o.jsx("th",{children:"Document"}),o.jsx("th",{children:"Validity"}),o.jsx("th",{children:"Verification"}),o.jsx("th",{children:"Action"})]})}),o.jsx("tbody",{children:T.documents&&T.documents.length>0?T.documents.map((A,V)=>o.jsxs("tr",{children:[o.jsx("td",{children:A.fileName}),o.jsx("td",{children:A.validity||"not set"}),o.jsx("td",{children:A.verification||"unverified"}),o.jsx("td",{children:o.jsx("button",{onClick:()=>{se("iframe"),D(A)},children:"View"})})]},V)):o.jsx("tr",{colSpan:"4",style:{textAlign:"right"},children:"No documents uploaded"})})]})}),o.jsx("button",{onClick:()=>{S("Editing Pad")},children:"Close"}),o.jsx("button",{onClick:()=>{se("upload")},children:"Upload Document"})]}),me==="iframe"&&o.jsx("div",{style:{...M.section,width:"100%",position:"relative",zIndex:1e3,pointerEvents:ee?"none":"auto"},children:o.jsxs("div",{children:[o.jsx("span",{style:M.topCloseButton,onClick:()=>{se("table"),fe({}),F(!1)},children:"Close"}),o.jsx("iframe",{style:{height:"60vh",width:"100%"},src:fe.fileUrl}),o.jsxs("div",{style:M.docVerificationOverlay,children:[o.jsxs("div",{children:[o.jsx("h3",{children:"When does this document expire?"}),o.jsx("input",{style:M.input,type:"date",value:fe.validity||"",onChange:A=>D({...fe,validity:A.target.value})}),o.jsx("button",{style:{...M.button,display:fe.verification==="unverified"?"inline-block":"none"},onClick:vt,children:"Verify"}),o.jsx("button",{style:{...M.button,display:fe.verification==="verified"?"inline-block":"none"},onClick:J,children:"De-Verify"})]}),o.jsx("span",{style:M.topCloseButton,onClick:()=>F(!1),children:"Close"})]}),o.jsx("button",{style:{...M.button,display:fe.verification==="verified"?"none":"inline-block"},onClick:()=>F(!0),children:"Verify"}),o.jsx("button",{style:{...M.button,display:fe.verification==="verified"&&d<=3?"inline-block":"none"},onClick:()=>F(!0),children:"De-Verify"})]})}),me==="upload"&&o.jsxs("div",{style:{...M.section,width:"100%"},children:[o.jsxs("div",{style:M.uploadfield,children:[o.jsxs("div",{style:M.uploadInput,children:[o.jsx("label",{children:"Upload File"}),o.jsx("input",{name:"uploads",type:"file",onChange:q,multiple:!0})]}),o.jsx("div",{style:M.uploadedFiles,children:ne.uploads&&ne.uploads.length>0?ne.uploads.map((A,V)=>o.jsxs("div",{style:M.uploadItem,children:[o.jsxs("span",{children:[V+1,". ",A.name]}),o.jsx("span",{style:M.removeFileButton,onClick:()=>ie(V),children:"X"})]},V)):o.jsx("p",{children:"No files uploaded yet."})})]}),o.jsx("button",{onClick:()=>{se("table"),K([])},children:"Back"}),o.jsx("button",{style:{display:ne.uploads?"inline-block":"none"},onClick:X,children:"Upload"})]})]})})]})}function I_(){const{state:e}=b.useContext(Mt),{spineUrl:t,token:i,accessLevel:s,allStates:a,clinicianGrades:u,clinicianSpecialties:d}=e,[p,f]=b.useState("page1"),[m,x]=b.useState({});b.useState([]);const[j,S]=b.useState({photo:null,rightFinger:null,leftFinger:null}),[O,C]=b.useState({verifiedWatcher:"",emailOTP:"",mobileOTP:"",kp2EmailOTP:""}),[v,E]=b.useState("");zt();const[y,_]=b.useState(!1),[w,I]=b.useState(""),U=b.useRef(null);b.useEffect(()=>{(()=>{if(m.dob){const me=new Date(m.dob),se=new Date;let fe=se.getFullYear()-me.getFullYear();const D=se.getMonth()-me.getMonth(),ne=se.getDate()-me.getDate();(D<0||D===0&&ne<0)&&fe--,x({...m,age:fe})}else x({...m,age:null})})()},[m.dob]);const G=async()=>{if(_(!0),!m.title||!m.lastName||!m.firstName||!m.dob||!m.gender||!m.address||!m.state||!m.mobile||!m.email){alert("Complete all fields!");return}try{const F=await fetch(`${t}/clinicians/generate_email_and_mobile_otp?email=${encodeURIComponent(m.email)}&mobile=${m.mobile}`,{method:"GET",headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"}});if(F.ok){const me=await F.json();C({...O,emailOTP:me.emailOTP,mobileOTP:me.mobileOTP}),f("page3")}else{const me=await F.json();alert(me.message)}}catch(F){console.error("Submission error:",F),alert("An error occurred while generating otp")}finally{_(!1)}},$=async()=>{if(m.emailOTP!==O.emailOTP){alert("Invalid Email OTP!");return}else if(m.mobileOTP!==O.mobileOTP){alert("Invalid Mobile OTP!");return}else alert("Keyperson Email and Mobile number verified!"),f("page4")},P=async()=>{if(!m.domain||!m.grade||!m.specialty||!m.registrationNumber||!m.folioNumber||!m.licenseExpiry){alert("Complete all fields");return}f("page5")},T=()=>{const F=U.current.getScreenshot();S({...j,photo:F})},N=async()=>{if(_(!0),confirm("Confirm submission")){const me={};Object.entries(m).forEach(([se,fe])=>{me[se]=fe}),Object.entries(j).forEach(([se,fe])=>{me[se]=fe});try{const se=await fetch(`${t}/clinicians/clinician_signup`,{method:"POST",headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"},body:JSON.stringify(me)});if(se.ok){const fe=await se.json();E(fe.message),f("page6")}else{const fe=await se.json();alert(fe.message)}}catch(se){console.error("Submission error:",se),alert("An error occurred signing up new clinician")}finally{_(!1)}}else alert("New clinician signup cancelled!"),_(!1)},R=()=>{x({}),S({}),f("page1")},Z={container:{width:"90%",height:"65vh",margin:"0 auto",padding:"20px",backgroundColor:"#ffffff",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",overflowY:"auto",cursor:y?"wait":"default"},title:{fontSize:"1.5em",marginBottom:"20px",color:"#333",textAlign:"center",cursor:y?"wait":"default"},topSection:{backgroundColor:"white",cursor:y?"wait":"default"},keyPerson1:{backgroundColor:"yellow",cursor:y?"wait":"default"},keyPerson2:{backgroundColor:"grey",cursor:y?"wait":"default"},label:{display:"block",fontSize:"0.9em",color:"#555",marginBottom:"8px",width:"98%",cursor:y?"wait":"default"},input:{width:"100%",padding:"10px",marginBottom:"15px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"1em",backgroundColor:"white",color:"black",cursor:y?"wait":"default"},textarea:{width:"100%",padding:"10px",marginBottom:"15px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"1em",resize:"vertical",minHeight:"80px",backgroundColor:"white",color:"black",cursor:y?"wait":"default"},TCBody:{height:"60vh",width:"100%",overflowY:"auto",margin:"20px",textAlign:"left",cursor:y?"wait":"default"},button:{padding:"10px",backgroundColor:"#007BFF",color:"#FFF",border:"none",cursor:y?"wait":"pointer"},TCButton2:{height:"50px",width:"200px",borderRadius:"5px",backgroundColor:"#2C2C2C",color:"white",cursor:y?"wait":"pointer"},TCButton:{padding:"10px 20px",backgroundColor:"#007bff",color:"white",cursor:y?"wait":"pointer",borderRadius:"4px",textAlign:"center"},buttonContainer:{display:"flex",justifyContent:"space-between",gap:"10px",marginTop:"20px"},submitButton:{backgroundColor:"#4CAF50",color:"white",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:y?"wait":"pointer",fontSize:"1em",flex:1},cancelButton:{backgroundColor:"#f44336",color:"white",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:y?"wait":"pointer",fontSize:"1em",flex:1},specialOptions:{display:s<=3?"inline-block":"none"},uploadfield:{padding:"20px",border:"1px solid #ccc",borderRadius:"8px"},uploadInput:{marginBottom:"10px"},uploadedFiles:{marginTop:"10px",listStyleType:"none",padding:"0",minHeight:"4vh"},uploadItem:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},removeFileButton:{color:"red",cursor:"pointer"}},ee={container:{display:"flex",flexDirection:"column",gap:"15px"},label:{display:"flex",flexDirection:"column",fontSize:"14px"},button:{padding:"10px",backgroundColor:"#007BFF",color:"#FFF",border:"none",cursor:y?"wait":"pointer"},TCButton:{marginTop:"20px",padding:"10px 20px",backgroundColor:"#28a745",color:"#FFF",border:"none",cursor:y?"wait":"pointer"}};return o.jsxs("div",{style:{cursor:y?"wait":"default"},children:[p==="page1"&&o.jsxs("div",{children:[o.jsx("h2",{children:"Clinicians Terms And Conditions"}),o.jsxs("div",{style:Z.TCBody,children:[o.jsx("h3",{children:"GENERAL"}),o.jsxs("p",{children:[o.jsx("strong",{children:"Minor:"})," All minors are required to be registered under an adult who would be responsible for them at all times"]}),o.jsx("br",{})]}),o.jsx("span",{style:Z.TCButton,onClick:()=>f("page2"),children:"Agree"})]}),p==="page2"&&o.jsxs("div",{children:[o.jsx("h2",{children:"Clinician's Biodata: "}),o.jsxs("div",{style:Z.container,children:[o.jsxs("label",{style:Z.label,children:[o.jsx("input",{type:"hidden",value:j.photo,style:Z.input}),o.jsx("input",{type:"hidden",value:j.rightFinger,style:Z.input}),o.jsx("input",{type:"hidden",value:j.leftFinger,style:Z.input})]}),o.jsxs("label",{style:Z.label,children:["Title:",o.jsxs("select",{type:"text",value:m.title,onChange:F=>x({...m,title:F.target.value}),style:Z.input,children:[o.jsx("option",{value:"",children:"Select Title"}),o.jsx("option",{value:"Dr.",children:"Dr."}),o.jsx("option",{value:"Prof.",children:"Prof."})]})]}),o.jsxs("label",{style:Z.label,children:["Last Name:",o.jsx("input",{type:"text",value:m.lastName,onChange:F=>x({...m,lastName:F.target.value}),style:Z.input})]}),o.jsxs("label",{style:Z.label,children:["First Name:",o.jsx("input",{type:"text",value:m.firstName,onChange:F=>x({...m,firstName:F.target.value}),style:Z.input})]}),o.jsxs("label",{style:Z.label,children:["Date of Birth:",o.jsx("input",{type:"date",value:m.dob,onChange:F=>x({...m,dob:F.target.value}),style:Z.input}),o.jsxs("p",{style:{display:m.age?"inline-block":"none"},children:[m.age,"years"]})]}),o.jsxs("label",{style:Z.label,children:["Gender:",o.jsxs("select",{type:"text",value:m.gender,onChange:F=>x({...m,gender:F.target.value}),style:Z.input,children:[o.jsx("option",{value:"",children:"Select Gender"}),o.jsx("option",{value:"male",children:"Male"}),o.jsx("option",{value:"female",children:"Female"})]})]}),o.jsxs("label",{style:Z.label,children:["NIN(You would be held liable if you do not thorough verified the accuracy of NIN provided by signee.):",o.jsx("input",{type:"text",value:m.nin,onChange:F=>x({...m,nin:F.target.value}),style:Z.input})]}),o.jsxs("label",{style:Z.label,children:["Correspondence Address:",o.jsx("input",{type:"text",value:m.address,onChange:F=>x({...m,address:F.target.value}),style:Z.input})]}),o.jsxs("label",{style:Z.label,children:["State of Residence:",o.jsxs("select",{type:"text",value:m.state,onChange:F=>x({...m,state:F.target.value}),style:Z.input,children:[o.jsx("option",{value:"",children:"Select"}),a.map(F=>o.jsx("option",{children:F},F))]})]}),o.jsxs("label",{style:Z.label,children:["Telephone:",o.jsx("input",{type:"number",value:m.telephone,onChange:F=>x({...m,telephone:F.target.value}),style:Z.input})]}),o.jsxs("label",{style:Z.label,children:["Mobile:",o.jsx("input",{type:"number",value:m.mobile,onChange:F=>x({...m,mobile:F.target.value}),style:Z.input})]}),o.jsxs("label",{style:Z.label,children:["Email (Every client must be linked to an email or mobile number for correspondence purposes):",o.jsx("input",{type:"email",value:m.email,onChange:F=>x({...m,email:F.target.value}),style:Z.input})]}),o.jsx("span",{style:Z.TCButton,onClick:G,children:"Next Page"}),o.jsx("span",{style:Z.TCButton,onClick:()=>f("page1"),children:"Back"})]})]}),p==="page3"&&o.jsxs("div",{children:[o.jsx("h2",{children:"Email/Mobile Number Verification"}),o.jsxs("div",{style:Z.container,children:[o.jsx("label",{style:Z.label,children:o.jsx("input",{type:"text",name:"emailOTP",value:m.emailOTP,onChange:F=>x({...m,emailOTP:F.target.value}),style:Z.input,placeholder:"Email Verification code..."})}),o.jsx("label",{style:Z.label,children:o.jsx("input",{type:"text",name:"mobileOTP",value:m.mobileOTP,onChange:F=>x({...m,mobileOTP:F.target.value}),style:Z.input,placeholder:"Mobile Verification code..."})}),o.jsx("span",{style:Z.TCButton,onClick:$,children:"Verify"}),o.jsx("span",{style:Z.TCButton,onClick:()=>f("page2"),children:"Back"})]})]}),p==="page4"&&o.jsxs("div",{children:[o.jsx("h2",{children:"Professional Data"}),o.jsxs("div",{style:Z.container,children:[o.jsxs("label",{style:Z.label,children:["Domain:",o.jsxs("select",{type:"text",value:m.domain,onChange:F=>x({...m,domain:F.target.value}),style:Z.input,children:[o.jsx("option",{value:"",children:"Select Domain"}),o.jsx("option",{value:"medical",children:"medical"}),o.jsx("option",{value:"dental",children:"dental"})]})]}),o.jsxs("label",{style:Z.label,children:["Grade:",o.jsxs("select",{type:"text",value:m.grade,onChange:F=>x({...m,grade:F.target.value}),style:Z.input,children:[o.jsx("option",{value:"",children:"Select Grade"}),u.map(F=>o.jsx("option",{children:F},F))]})]}),o.jsxs("label",{style:Z.label,children:["Specialty:",o.jsxs("select",{type:"text",value:m.specialty,onChange:F=>x({...m,specialty:F.target.value}),style:Z.input,children:[o.jsx("option",{value:"",children:"Select Specialty"}),d.map(F=>o.jsx("option",{children:F},F))]})]}),o.jsxs("label",{style:Z.label,children:["Registration Number:",o.jsx("input",{type:"text",value:m.registrationNumber,onChange:F=>x({...m,registrationNumber:F.target.value}),style:Z.input,placeholder:"Doctor's MDCN Registration number..."})]}),o.jsxs("label",{style:Z.label,children:["Folio Number:",o.jsx("input",{type:"text",value:m.folioNumber,onChange:F=>x({...m,folioNumber:F.target.value}),style:Z.input,placeholder:"Doctors MDCN Folio Number..."})]}),o.jsxs("label",{style:Z.label,children:["License Expiry:",o.jsx("input",{type:"date",name:"licenseExpiry",value:m.licenseExpiry,onChange:F=>x({...m,licenseExpiry:F.target.value}),style:Z.input})]}),o.jsx("span",{style:Z.TCButton,onClick:P,children:"Next Page"}),o.jsx("span",{style:Z.TCButton,onClick:()=>f("page3"),children:"Back"})]})]}),p==="page5"&&o.jsx("div",{style:Z.container,children:o.jsxs("div",{style:{display:"flex",flexDirection:"row"},children:[o.jsxs("div",{style:{width:"50%"},children:[o.jsx("h2",{children:"Webcam"}),o.jsx(to,{audio:!1,ref:U,screenshotFormat:"image/png",width:400}),o.jsx("div",{style:{margin:"20px 0"},children:o.jsx("button",{onClick:T,children:"Capture Photo"})})]}),o.jsxs("div",{style:{display:j.photo?"inline-block":"none"},children:[j.photo&&o.jsxs("div",{children:[o.jsx("h3",{children:"Photo Preview"}),o.jsx("img",{src:j.photo,alt:"Captured",width:400})]}),o.jsxs("div",{style:{marginTop:"20px"},children:[o.jsx("button",{onClick:N,children:"Submit"}),o.jsx("span",{style:Z.TCButton,onClick:()=>{f("page4"),S({...j,photo:null})},children:"Back"})]})]}),w&&o.jsx("p",{children:w})]})}),p==="page6"&&o.jsxs("div",{children:[v,o.jsx("div",{style:{margin:"10px 0"},children:o.jsx("button",{style:ee.button,onClick:R,children:"Close"})})]})]})}function B_(){const{state:e,logout:t,updatePatient:i}=b.useContext(Mt),{token:s,spineUrl:a,category:u,accessLevel:d,configurations:p,serviceBranches:f,userID:m,organisation:x}=e,[j,S]=b.useState("Home"),[O,C]=b.useState("table"),[v,E]=b.useState({}),[y,_]=b.useState([]),[w,I]=b.useState({}),[U,G]=b.useState([]),[$,P]=b.useState("");b.useState("");const[T,N]=b.useState(""),[R,Z]=b.useState(!1),[ee,F]=b.useState(!1);zt(),b.useEffect(()=>{(async()=>{try{const ae=await fetch(`${a}/clinicians/fetch_clinicians?q=${encodeURIComponent(T)}`,{method:"GET",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}});if(console.log(a),ae.ok){const W=await ae.json();_(W.clinicians)}else{const W=await ae.json();alert(W.message),console.error("Failed to fetch keypersons:",ae.statusText)}}catch(ae){console.error("Error fetching keypersons:",ae)}})()},[a,s,T,R]);const me=async()=>{try{if(!confirm("You are about to modify a clinician. Do you assume responsibility for this change?")){alert("Action cancelled!");return}const ae=await fetch(`${a}/clinicians/modify_clinician`,{method:"POST",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"},body:JSON.stringify(w)});if(ae.ok){const W=await ae.json();alert(W.message),Z(ze=>!ze)}else{const W=await ae.json();alert(W.message),console.error("Failed to fetch localities:",ae.statusText)}}catch(te){console.error("Error fetching localities:",te)}},se=b.useRef(null),fe=()=>{const te=se.current.getScreenshot();I(ae=>({...ae,newPhoto:te}))},D=async()=>{if(!confirm("Confirm Image Upload")){alert("Image Upload cancelled!"),I({...w,newPhoto:null});return}try{const ae=await fetch(`${a}/clinicians/photo_upload`,{method:"POST",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"},body:JSON.stringify({registrationNumber:w.registrationNumber,newPhoto:w.newPhoto})});if(ae.ok){const W=await ae.json();W.newPhotoUrl&&I({...w,photoUrl:W.newPhotoUrl}),S("Editing Pad"),I({...w,newPhoto:null}),G([])}else{const W=await ae.json();alert(W.message)}}catch(ae){console.error("Submission error:",ae),alert("An error occurred uploading clinician photo")}},ne=te=>{const{name:ae,type:W,files:ze}=te.target;if(W==="file"){const q=Array.from(ze);G(ie=>({...ie,[ae]:[...ie[ae]||[],...q]}))}},K=te=>{G(ae=>{const W=[...ae.uploads];return W.splice(te,1),{uploads:W}})},ue=te=>new Promise((ae,W)=>{const ze=new FileReader;ze.onloadend=()=>ae(ze.result.split(",")[1]),ze.onerror=W,ze.readAsDataURL(te)}),ge=async()=>{if(confirm("Confirm submission")){const ae=await Promise.all(U.uploads.map(async W=>{const ze=await ue(W);return{name:W.name,content:ze}}));try{const W=await fetch(`${a}/clinicians/file_upload`,{method:"POST",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"},body:JSON.stringify({registrationNumber:w.registrationNumber,uploads:ae})});if(W.ok){const ze=await W.json();I({...w,documents:ze.documents}),C("table")}else{const ze=await W.json();alert(ze.message)}}catch(W){console.error("File upload error:",W),alert("An error occurred uploading files")}}else alert("File upload cancelled!")},Pe=async()=>{if(!v.validity){alert("Document validity missing!");return}confirm("Ensure due diligence has been done on file before modifying file verification status.")||alert("File verification cancelled!");try{const ae=await fetch(`${a}/clinicians/file_verification`,{method:"POST",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"},body:JSON.stringify({registrationNumber:w.registrationNumber,fileKey:v.fileKey,validity:v.validity,verification:"verified"})});if(ae.ok){const W=await ae.json();I({...w,documents:W.documents}),C("table"),F(!1)}else{const W=await ae.json();alert(W.message)}}catch(ae){console.error("File verification error:",ae),alert("An error occurred uploading files")}},we=async()=>{if(!v.validity){alert("Document validity missing!");return}confirm("Ensure due diligence has been done on file before modifying file verification status.")||alert("File verification cancelled!");try{const ae=await fetch(`${a}/clinicians/file_verification`,{method:"POST",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"},body:JSON.stringify({registrationNumber:w.registrationNumber,fileKey:v.fileKey,validity:v.validity,verification:"unverified"})});if(ae.ok){const W=await ae.json();I({...w,documents:W.documents}),C("table"),F(!1)}else{const W=await ae.json();alert(W.message)}}catch(ae){console.error("File verification error:",ae),alert("An error occurred uploading files")}},Q={page:{color:"black",height:"100%",width:"100%",overflowY:"hidden",overflowX:"hidden",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center"},searchFieldContainer:{display:"flex",flexDirection:"row",backgroundColor:"grey",alignItems:"left",justifyContent:"left"},searchField:{backgroundColor:"white",color:"black",right:"20px",width:"35%",height:"25px",top:"120px"},stateSelector1:{display:d==="basic"?"inline-block":"none",backgroundColor:"orange",color:"white",right:"20px",width:"15%",height:"25px",top:"120px"},stateSelector2:{backgroundColor:"#2c3e50",color:"white",right:"20px",width:"15%",height:"25px",top:"120px"},departmentSelector:{backgroundColor:"#2c3e50",color:"white",right:"20px",width:"15%",height:"25px",top:"120px"},tableContainer:{height:"79vh",backgroundColor:"white",width:"100%"},table:{width:"95%",borderCollapse:"collapse",marginTop:"20px"},thead:{backgroundColor:"#2c3e50",color:"white",position:"sticky",top:"0px",zIndex:2e3},profileContainer:{display:"flex",flexDirection:"row",color:"black",backgroundColor:"#f9f9f9",padding:"20px",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",width:"80%",height:"70vh",margin:"20px auto",textAlign:"center"},photoContainer:{position:"sticky",top:"10px",left:"80px",backgroundColor:"#fff",height:"200px",width:"200px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"10px",border:"1px solid #ddd",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)",overflow:"hidden"},photoContainer2:{position:"sticky",top:"10px",left:"80px",backgroundColor:"#fff",height:"380px",width:"380px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"10px",border:"1px solid #ddd",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)",overflow:"hidden"},image:{height:"100%",width:"100%",objectFit:"cover"},placeholderText:{color:"#666",fontSize:"16px",fontStyle:"italic",textAlign:"center"},section:{display:"block",width:"45%",marginBottom:"20px",textAlign:"left",lineHeight:"0.8"},input:{padding:"10px",marginRight:"10px",borderRadius:"5px",border:"1px solid #ccc",width:"200px",backgroundColor:"white",color:"black"},button:{backgroundColor:"#3498db",margin:"5px"},topCloseButton:{height:"30px",width:"100px",backgroundColor:"red",cursor:"pointer"},docVerificationOverlay:{display:ee?"block":"none",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:2e3,pointerEvents:"auto",width:"40%",height:"40%",backgroundColor:"grey",textAlign:"center"},label:{display:"block",fontSize:"0.9em",color:"#555",marginBottom:"8px"},uploadfield:{padding:"20px",border:"1px solid #ccc",borderRadius:"8px"},uploadInput:{marginBottom:"10px"},uploadedFiles:{marginTop:"10px",listStyleType:"none",padding:"0",minHeight:"4vh"},uploadItem:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},removeFileButton:{color:"red",cursor:"pointer"}},he=te=>({backgroundColor:te%2===0?"#f9f9f9":"#e0e0e0",cursor:"pointer"});return o.jsxs("div",{style:Q.page,children:[j==="Home"&&o.jsxs("div",{style:Q.tableContainer,children:[o.jsxs("div",{style:Q.searchFieldContainer,children:[o.jsxs("select",{style:Q.stateSelector2,value:$,onChange:te=>P(te.target.value),children:[o.jsx("option",{value:"",children:"Select Branch"}),f.map(te=>o.jsx("option",{value:te.branchID,children:te.branchName},te.branchID))]}),o.jsx("input",{style:Q.searchField,value:T,onChange:te=>N(te.target.value),placeholder:"Search here for client"})]}),o.jsxs("table",{style:{width:"100%"},children:[o.jsx("thead",{style:Q.thead,children:o.jsxs("tr",{children:[o.jsx("th",{}),o.jsx("th",{children:"Clinician"}),o.jsx("th",{children:"Reg Number"}),o.jsx("th",{children:"Folio Number"}),o.jsx("th",{children:"Specialty"}),o.jsx("th",{children:"Grade"}),o.jsx("th",{children:"Email"}),o.jsx("th",{children:"License Status"}),o.jsx("th",{children:"License Expiry"}),o.jsx("th",{children:"Account Status"}),o.jsx("th",{children:"Action"})]})}),o.jsx("tbody",{children:y.map((te,ae)=>o.jsxs("tr",{style:he(ae),children:[o.jsx("td",{children:ae+1}),o.jsx("td",{children:te.clinician}),o.jsx("td",{children:te.registrationNumber}),o.jsx("td",{children:te.folioNumber}),o.jsx("td",{children:te.specialty}),o.jsx("td",{children:te.grade}),o.jsx("td",{children:te.email}),o.jsx("td",{children:te.licenseStatus}),o.jsx("td",{children:te.licenseExpiry}),o.jsx("td",{children:te.accountStatus}),o.jsx("td",{children:o.jsx("button",{onClick:()=>{I(te),S("Editing Pad")},children:"Open Profile"})})]},te))})]})]}),j==="Editing Pad"&&o.jsxs("div",{style:{width:"100%"},children:[o.jsxs("div",{style:Q.profileContainer,children:[o.jsxs("div",{style:Q.section,children:[o.jsx("div",{style:Q.photoContainer,children:w.photoUrl?o.jsx("img",{src:w.photoUrl,style:Q.image,alt:"User's photo"}):o.jsx("div",{style:Q.placeholderText,children:"Photo Not Found"})}),o.jsx("span",{style:{textDecoration:"underline",color:"green",cursor:"pointer"},onClick:()=>S("Photo Upload"),children:"Change Photo"}),o.jsxs("p",{children:[o.jsx("strong",{children:"Clinician:"})," ",w.clinician]}),o.jsxs("p",{children:[o.jsx("strong",{children:"MDCN Registration:"})," ",w.registrationNumber]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Folio Number:"})," ",w.folioNumber]}),o.jsxs("p",{children:[o.jsx("strong",{children:"License Status:"})," ",w.licenseStatus]}),o.jsxs("p",{children:[o.jsx("strong",{children:"License Expiry:"})," ",w.licenseExpiry]}),o.jsxs("div",{style:{marginBottom:"20px",display:d>=5?"inline-block":"none"},children:["Vetting:",w.vettingStatus]}),o.jsxs("div",{style:{marginBottom:"20px",display:d>=5?"inline-block":"none"},children:["Account Status:",w.accountStatus]}),o.jsxs("div",{style:{marginBottom:"20px",display:d<=4?"inline-block":"none"},children:["Vetting:",o.jsxs("select",{style:Q.input,value:w.vettingStatus||"",onChange:te=>I({...w,vettingStatus:te.target.value}),children:[o.jsx("option",{value:"pending",children:"Pending"}),o.jsx("option",{value:"completed",children:"Completed"})]})]}),o.jsxs("div",{style:{marginBottom:"20px",display:d<=4?"inline-block":"none"},children:["Account Status:",o.jsxs("select",{style:Q.input,value:w.accountStatus||"",onChange:te=>I({...w,accountStatus:te.target.value}),children:[o.jsx("option",{value:"pending",children:"Pending"}),o.jsx("option",{value:"approved",children:"Approved"}),o.jsx("option",{value:"reported",children:"Reported"}),o.jsx("option",{value:"banned",children:"Banned"}),o.jsx("option",{value:"license withdrawn",children:"License Withdrawn"})]})]}),o.jsx("button",{style:{...Q.button,display:d<=4?"inline-block":"none"},onClick:me,children:"Save Changes"}),o.jsx("button",{style:Q.button,onClick:()=>S("Documents"),children:"Documents"})]}),o.jsx("div",{style:{...Q.section,width:"60%"},children:o.jsx("div",{style:{height:"40%",width:"100%"},children:o.jsxs("table",{style:Q.table,children:[o.jsx("thead",{style:Q.thead,children:o.jsxs("tr",{children:[o.jsx("th",{children:"Role"}),o.jsx("th",{children:"Employer"}),o.jsx("th",{children:"Category"}),o.jsx("th",{children:"Contact"})]})}),o.jsx("tbody",{children:w.employers&&w.employers.length>0?w.employers.map((te,ae)=>o.jsxs("tr",{children:[o.jsx("td",{children:te.role}),o.jsx("td",{children:te.organisation}),o.jsx("td",{children:te.category}),o.jsx("td",{children:te.telephone})]},ae)):o.jsx("tr",{colSpan:"4",style:{textAlign:"right"},children:"No active employment"})})]})})})]}),o.jsx("button",{onClick:()=>{S("Home"),I({})},children:"Close"})]}),j==="Photo Upload"&&o.jsx("div",{style:{width:"100%"},children:o.jsxs("div",{style:Q.profileContainer,children:[o.jsxs("div",{style:{...Q.section,width:"50%"},children:[o.jsx("h2",{children:"Web Cam"}),o.jsx("div",{style:Q.photoContainer2,children:o.jsx(to,{audio:!1,ref:se,screenshotFormat:"image/png",width:400})}),o.jsx("button",{style:Q.button,onClick:fe,children:"Capture"}),o.jsx("button",{style:Q.button,onClick:()=>{S("Editing Pad"),I({...w,newPhoto:null})},children:"Back"})]}),o.jsxs("div",{style:{...Q.section,width:"50%",display:w.newPhoto?"inline-block":"none"},children:[o.jsxs("h2",{children:["Preview (",w.clinician,")"]}),o.jsx("div",{style:Q.photoContainer2,children:w.newPhoto?o.jsx("img",{src:w.newPhoto,alt:"Captured",width:400}):o.jsx("div",{style:Q.placeholderText,children:"No image captured"})}),o.jsx("button",{style:Q.button,onClick:D,children:"Upload"})]})]})}),j==="Documents"&&o.jsx("div",{style:{width:"100%"},children:o.jsxs("div",{style:Q.profileContainer,children:[O==="table"&&o.jsxs("div",{style:{...Q.section,width:"100%"},children:[o.jsx("div",{style:{height:"40%",width:"100%"},children:o.jsxs("table",{style:Q.table,children:[o.jsx("thead",{style:Q.thead,children:o.jsxs("tr",{children:[o.jsx("th",{children:"Document"}),o.jsx("th",{children:"Validity"}),o.jsx("th",{children:"Verification"}),o.jsx("th",{children:"Action"})]})}),o.jsx("tbody",{children:w.documents&&w.documents.length>0?w.documents.map((te,ae)=>o.jsxs("tr",{children:[o.jsx("td",{children:te.fileName}),o.jsx("td",{children:te.validity||"not set"}),o.jsx("td",{children:te.verification||"unverified"}),o.jsx("td",{children:o.jsx("button",{onClick:()=>{C("iframe"),E(te)},children:"View"})})]},ae)):o.jsx("tr",{colSpan:"4",style:{textAlign:"right"},children:"No documents uploaded"})})]})}),o.jsx("button",{onClick:()=>{S("Editing Pad")},children:"Close"}),o.jsx("button",{onClick:()=>{C("upload")},children:"Upload Document"})]}),O==="iframe"&&o.jsx("div",{style:{...Q.section,width:"100%",position:"relative",zIndex:1e3,pointerEvents:ee?"none":"auto"},children:o.jsxs("div",{children:[o.jsx("span",{style:Q.topCloseButton,onClick:()=>{C("table"),v({}),F(!1)},children:"Close"}),o.jsx("iframe",{style:{height:"60vh",width:"100%"},src:v.fileUrl}),o.jsxs("div",{style:Q.docVerificationOverlay,children:[o.jsxs("div",{children:[o.jsx("h3",{children:"When does this document expire?"}),o.jsx("input",{style:Q.input,type:"date",value:v.validity||"",onChange:te=>E({...v,validity:te.target.value})}),o.jsx("button",{style:{...Q.button,display:v.verification==="unverified"?"inline-block":"none"},onClick:Pe,children:"Verify"}),o.jsx("button",{style:{...Q.button,display:v.verification==="verified"?"inline-block":"none"},onClick:we,children:"De-Verify"})]}),o.jsx("span",{style:Q.topCloseButton,onClick:()=>F(!1),children:"Close"})]}),o.jsx("button",{style:{...Q.button,display:v.verification==="verified"?"none":"inline-block"},onClick:()=>F(!0),children:"Verify"}),o.jsx("button",{style:{...Q.button,display:v.verification==="verified"&&d<=3?"inline-block":"none"},onClick:()=>F(!0),children:"De-Verify"})]})}),O==="upload"&&o.jsxs("div",{style:{...Q.section,width:"100%"},children:[o.jsxs("div",{style:Q.uploadfield,children:[o.jsxs("div",{style:Q.uploadInput,children:[o.jsx("label",{children:"Upload File"}),o.jsx("input",{name:"uploads",type:"file",onChange:ne,multiple:!0})]}),o.jsx("div",{style:Q.uploadedFiles,children:U.uploads&&U.uploads.length>0?U.uploads.map((te,ae)=>o.jsxs("div",{style:Q.uploadItem,children:[o.jsxs("span",{children:[ae+1,". ",te.name]}),o.jsx("span",{style:Q.removeFileButton,onClick:()=>K(ae),children:"X"})]},ae)):o.jsx("p",{children:"No files uploaded yet."})})]}),o.jsx("button",{onClick:()=>{C("table"),G([])},children:"Back"}),o.jsx("button",{style:{display:U.uploads?"inline-block":"none"},onClick:ge,children:"Upload"})]})]})})]})}function A_(){const{state:e}=b.useContext(Mt),{spineUrl:t,token:i,accessLevel:s,allStates:a,referenceLibrary:u}=e,[d,p]=b.useState("page1"),[f,m]=b.useState({}),[x,j]=b.useState([]),[S,O]=b.useState({}),[C,v]=b.useState(""),[E,y]=b.useState(""),[_,w]=b.useState("");zt();const[I,U]=b.useState(!1);b.useEffect(()=>{(async()=>{try{const R=await fetch(`${t}/services/fetch_public_reference_inventory?serviceType=${encodeURIComponent(E)}&q=${encodeURIComponent(C)}`,{method:"GET",headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"}});if(R.ok){const Z=await R.json();j(Z.prescribeNgServices)}else{const Z=await R.json();alert(Z.message)}}catch(R){console.error("Error checking duplicate service:",R),alert("could not check for duplicate service")}finally{U(!1)}})()},[t,E,C]);const G=N=>{O(N),p("page3")};b.useEffect(()=>{(async()=>{try{const R=await fetch(`${t}/services/check_for_duplicate_service?serviceType=${encodeURIComponent(f.serviceType)}&nonproprietaryName=${encodeURIComponent(f.nonproprietaryName)}`,{method:"GET",headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"}});if(R.ok){const Z=await R.json();w(Z.duplicateService)}else{const Z=await R.json();alert(Z.message)}}catch(R){console.error("Error checking duplicate service:",R),alert("could not check for duplicate service")}finally{U(!1)}})()},[f.nonproprietaryName]);const $=async()=>{if(_){alert("Duplicated service!");return}if(!f.serviceType||!f.itemClass||!f.itemSubclass||!f.legalClass||!f.nonproprietaryName||!f.description){alert("All fields are required!");return}if(confirm("Confirm submission")){const R={};Object.entries(f).forEach(([Z,ee])=>{R[Z]=ee});try{const Z=await fetch(`${t}/services/create_new_reference_inventory_item`,{method:"POST",headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"},body:JSON.stringify(R)});if(Z.ok){const ee=await Z.json();alert(ee.message)}else{const ee=await Z.json();alert(ee.message)}}catch(Z){console.error("Submission error:",Z),alert("An error occurred creating new service")}}else alert("New service creation cancelled!")},P={container:{width:"90%",height:"65vh",margin:"0 auto",padding:"20px",backgroundColor:"#ffffff",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",overflowY:"auto"},productContainer:{width:"90%",height:"60vh",textAlign:"left",margin:"0 auto",padding:"20px",backgroundColor:"#ffffff",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",overflowY:"auto"},title:{fontSize:"1.5em",marginBottom:"20px",color:"#333",textAlign:"center"},topSection:{backgroundColor:"white"},keyPerson1:{backgroundColor:"yellow"},keyPerson2:{backgroundColor:"grey"},label:{display:"block",fontSize:"0.9em",color:"#555",marginBottom:"8px",width:"98%"},input:{width:"100%",padding:"10px",marginBottom:"15px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"1em",backgroundColor:"white",color:"black"},textarea:{width:"100%",padding:"10px",marginBottom:"15px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"1em",resize:"vertical",minHeight:"80px",backgroundColor:"white",color:"black"},TCBody:{height:"60vh",width:"100%",overflowY:"auto",margin:"20px",textAlign:"left"},button:{padding:"10px",backgroundColor:"#007BFF",color:"#FFF",border:"none",cursor:"pointer"},TCButton2:{height:"50px",width:"200px",borderRadius:"5px",backgroundColor:"#2C2C2C",color:"white",cursor:"pointer"},TCButton:{padding:"10px 20px",backgroundColor:"#007bff",margin:"5px",color:"white",cursor:"pointer",borderRadius:"4px",textAlign:"center"},buttonContainer:{display:"flex",justifyContent:"space-between",gap:"10px",marginTop:"20px"},submitButton:{backgroundColor:"#4CAF50",color:"white",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"1em",flex:1},cancelButton:{backgroundColor:"#f44336",color:"white",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"1em",flex:1},specialOptions:{display:s<=3?"inline-block":"none"},photo:{margin:"20px",backgroundColor:"#fff",height:"150px",width:"200px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"10px",border:"1px solid #ddd",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)",overflow:"hidden"},image:{height:"100%",width:"100%",objectFit:"cover"},placeholderText:{color:"#666",fontSize:"16px",fontStyle:"italic",textAlign:"center"},tableContainer:{height:"79vh",backgroundColor:"white",width:"100%"},thead:{backgroundColor:"grey",position:"sticky",top:"0px",zIndex:2e3},serviceTypeSelector:{backgroundColor:"orange",color:"white",right:"20px",width:"25%",height:"25px",top:"120px"},searchContainer:{backgroundColor:"grey",alignItems:"left",justifyContent:"left"},searchField:{backgroundColor:"white",color:"black",right:"20px",width:"25%",height:"25px",top:"120px"}},T=N=>({backgroundColor:N%2===0?"#f9f9f9":"#e0e0e0",cursor:"pointer"});return o.jsxs("div",{children:[d==="page1"&&o.jsxs("div",{children:[o.jsx("h2",{children:"PRESCRIBENG SERVICES SECTION"}),o.jsxs("div",{style:P.TCBody,children:[o.jsx("h3",{children:"WARNING"}),o.jsx("p",{children:"This page is strictly for personnels of the medical department and includes the following roles: doctor, nurse, pharmacies, radiographers, laboratory scientist"}),o.jsx("p",{children:"If you do not belong to the medical department and one of the mentioned roles, exit the page immediately and report to the technical team."})]}),o.jsx("span",{style:P.TCButton,onClick:()=>p("page2"),children:"View Existing Services "}),o.jsx("span",{style:P.TCButton,onClick:()=>p("newServiceForm1"),children:"Create New Services"}),o.jsx("span",{style:{...P.TCButton,display:s<3?"inline-block":"none"},onClick:()=>p("newServiceForm2"),children:"Create New Scheme"})]}),d==="page2"&&o.jsx("div",{children:o.jsx("div",{style:P.container,children:o.jsxs("div",{style:P.tableContainer,children:[o.jsxs("div",{style:P.searchContainer,children:[o.jsxs("select",{style:P.serviceTypeSelector,value:E,onChange:N=>y(N.target.value),children:[o.jsx("option",{value:"",children:"Select Service Type"}),u.serviceTypes.map(N=>o.jsx("option",{children:N},N))]}),o.jsx("input",{style:P.searchField,value:C,onChange:N=>v(N.target.value),placeholder:"Search here for services"}),o.jsx("span",{onClick:()=>p("page1"),style:{position:"relative",top:"0px",right:"0px"},children:"Close"})]}),o.jsxs("table",{style:{width:"100%"},children:[o.jsx("thead",{style:P.thead,children:o.jsxs("tr",{children:[o.jsx("th",{children:"S/N"}),o.jsx("th",{children:"Service Type"}),o.jsx("th",{children:"Class"}),o.jsx("th",{children:"Subclass"}),o.jsx("th",{children:"Legal Class"}),o.jsx("th",{children:"Generic Name"}),o.jsx("th",{children:"Description"}),o.jsx("th",{children:"Scheme"}),o.jsx("th",{children:"Status"})]})}),o.jsx("tbody",{children:x.map((N,R)=>o.jsxs("tr",{style:T(R),onClick:()=>G(N),children:[o.jsx("td",{children:R+1}),o.jsx("td",{children:N.serviceType}),o.jsx("td",{children:N.itemClass}),o.jsx("td",{children:N.itemSubclass}),o.jsx("td",{children:N.legalClass}),o.jsx("td",{children:N.nonproprietaryName}),o.jsx("td",{children:N.description}),o.jsx("td",{children:N.scheme}),o.jsx("td",{children:N.authorizationStatus})]},N))})]})]})})}),d==="page3"&&o.jsxs("div",{children:[o.jsxs("div",{children:[o.jsx("h3",{children:"Product Page"}),o.jsxs("div",{style:P.productContainer,children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Service Item: "}),S.nonproprietaryName]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Type: "}),S.serviceType]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Class: "}),S.itemClass]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Subclass: "}),S.itemSubclass]}),o.jsx("br",{}),o.jsxs("p",{children:[o.jsx("strong",{children:"Item Description: "}),S.description]}),o.jsx("br",{}),o.jsxs("p",{children:[o.jsx("strong",{children:"Status: "}),S.authorizationStatus]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Added On: "}),S.addedOn]}),o.jsx("br",{}),o.jsxs("p",{children:[o.jsx("strong",{children:"Added By: "}),S.addedBy]}),o.jsx("br",{}),o.jsxs("p",{style:{display:S.authorizationStation==="authorized"?"inline-block":"none"},children:[o.jsx("strong",{children:"Authorized By: "}),S.authorizedBy]}),o.jsx("br",{}),o.jsx("button",{style:{display:S.authorizationStation==="authorized"?"none":"inline-block"},children:"Authorize"}),o.jsx("button",{children:"Reject"}),o.jsx("button",{children:"Withdraw"})]})]}),o.jsx("span",{style:P.TCButton,onClick:()=>p("page2"),children:"Back"})]}),d==="newServiceForm1"&&o.jsxs("div",{children:[o.jsx("h3",{children:"New Service Form "}),o.jsxs("div",{style:P.container,children:[o.jsx("label",{style:P.label,children:o.jsx("p",{style:{display:_?"inline-block":"none",color:"red"},children:o.jsx("strong",{children:"Duplicate Service!!! "})})}),o.jsxs("label",{style:P.label,children:["Service Type:",o.jsxs("select",{type:"text",value:f.serviceType,onChange:N=>m({...f,serviceType:N.target.value}),style:P.input,children:[o.jsx("option",{value:"",children:"Select Service Type"}),u.serviceTypes.map(N=>o.jsx("option",{children:N},N))]})]}),o.jsxs("label",{style:P.label,children:["Service Class:",o.jsxs("select",{type:"text",value:f.itemClass,onChange:N=>m({...f,itemClass:N.target.value}),style:P.input,children:[o.jsx("option",{value:"",children:"Select Service Class"}),u.serviceClasses.map(N=>o.jsx("option",{children:N},N))]})]}),o.jsxs("label",{style:P.label,children:["Subclass:",o.jsxs("select",{type:"text",value:f.itemSubclass,onChange:N=>m({...f,itemSubclass:N.target.value}),style:P.input,children:[o.jsx("option",{value:"",children:"Select Service Subclass"}),u.serviceSubclasses.map(N=>o.jsx("option",{children:N},N))]})]}),o.jsxs("label",{style:P.label,children:["Legal Classification of Service:",o.jsxs("select",{type:"text",value:f.legalClass,onChange:N=>m({...f,legalClass:N.target.value}),style:P.input,children:[o.jsx("option",{value:"",children:"Select Legal Class"}),o.jsx("option",{value:"GSL",children:"General Sales List"}),o.jsx("option",{value:"PO",children:"Pharmacy Only"}),o.jsx("option",{value:"POM",children:"Prescription Only Medication"}),o.jsx("option",{value:"CD",children:"Controlled Drug"}),o.jsx("option",{value:"not applicable",children:"Not Applicable"})]})]}),o.jsxs("label",{style:P.label,children:["Nonproprietary/Generic Name:",o.jsx("input",{type:"text",value:f.nonproprietaryName,onChange:N=>m({...f,nonproprietaryName:N.target.value}),style:P.input})]}),o.jsxs("label",{style:P.label,children:["Description:",o.jsx("textarea",{type:"text",value:f.description,onChange:N=>m({...f,description:N.target.value}),style:P.textarea,placeholder:"Detailed description of service item, including potential hazards/adverse effects/contraindications"})]}),o.jsxs("label",{style:P.label,children:["Sample Container (Where applicable):",o.jsx("input",{type:"text",value:f.sampleContainer,onChange:N=>m({...f,sampleContainer:N.target.value}),style:P.input,placeholder:"'Not applicable' if not required"})]}),o.jsx("span",{style:P.TCButton,onClick:()=>p("page1"),children:"Close"}),o.jsx("span",{style:P.TCButton,onClick:$,children:"Create Service"})]})]}),d==="newServiceForm2"&&o.jsxs("div",{children:[o.jsx("h3",{children:"New Scheme Form "}),o.jsxs("div",{style:P.container,children:[o.jsx("label",{style:P.label,children:o.jsx("p",{style:{display:_?"inline-block":"none",color:"red"},children:o.jsx("strong",{children:"Duplicate Service!!! "})})}),o.jsxs("label",{style:P.label,children:["Scheme Sponsor's 'Dispensary ID':",o.jsx("input",{type:"text",value:f.schemeSponsorID,onChange:N=>m({...f,schemeSponsorID:N.target.value}),style:P.input})]}),o.jsxs("label",{style:P.label,children:["Service Type:",o.jsxs("select",{type:"text",value:f.serviceType,onChange:N=>m({...f,serviceType:N.target.value}),style:P.input,children:[o.jsx("option",{value:"",children:"Select Service Type"}),u.serviceTypes.map(N=>o.jsx("option",{children:N},N))]})]}),o.jsxs("label",{style:P.label,children:["Service Class:",o.jsxs("select",{type:"text",value:f.itemClass,onChange:N=>m({...f,itemClass:N.target.value}),style:P.input,children:[o.jsx("option",{value:"",children:"Select Service Class"}),u.serviceClasses.map(N=>o.jsx("option",{children:N},N))]})]}),o.jsxs("label",{style:P.label,children:["Subclass:",o.jsxs("select",{type:"text",value:f.itemSubclass,onChange:N=>m({...f,itemSubclass:N.target.value}),style:P.input,children:[o.jsx("option",{value:"",children:"Select Service Subclass"}),u.serviceSubclasses.map(N=>o.jsx("option",{children:N},N))]})]}),o.jsxs("label",{style:P.label,children:["Legal Classification of Service:",o.jsxs("select",{type:"text",value:f.legalClass,onChange:N=>m({...f,legalClass:N.target.value}),style:P.input,children:[o.jsx("option",{value:"",children:"Select Legal Class"}),o.jsx("option",{value:"GSL",children:"General Sales List"}),o.jsx("option",{value:"PO",children:"Pharmacy Only"}),o.jsx("option",{value:"POM",children:"Prescription Only Medication"}),o.jsx("option",{value:"CD",children:"Controlled Drug"}),o.jsx("option",{value:"not applicable",children:"Not Applicable"})]})]}),o.jsxs("label",{style:P.label,children:["Nonproprietary/Generic Name:",o.jsx("input",{type:"text",value:f.nonproprietaryName,onChange:N=>m({...f,nonproprietaryName:N.target.value}),style:P.input})]}),o.jsxs("label",{style:P.label,children:["Description:",o.jsx("textarea",{type:"text",value:f.description,onChange:N=>m({...f,description:N.target.value}),style:P.textarea,placeholder:"Detailed description of service item, including potential hazards/adverse effects/contraindications"})]}),o.jsxs("label",{style:P.label,children:["Sample Container (Where applicable):",o.jsx("input",{type:"text",value:f.sampleContainer,onChange:N=>m({...f,sampleContainer:N.target.value}),style:P.input,placeholder:"'Not applicable' if not required"})]}),o.jsx("span",{style:P.TCButton,onClick:()=>p("page1"),children:"Close"}),o.jsx("span",{style:P.TCButton,onClick:$,children:"Create Scheme"})]})]})]})}function R_(){const{state:e,logout:t,updatePatient:i}=b.useContext(Mt),{token:s,spineUrl:a,category:u,accessLevel:d,allStates:p,userID:f,organisation:m}=e,[x,j]=b.useState("Home"),[S,O]=b.useState([]),[C,v]=b.useState({}),[E,y]=b.useState({}),[_,w]=b.useState(""),[I,U]=b.useState([]);b.useState(""),b.useState("");const[G,$]=b.useState(""),[P,T]=b.useState(!1),[N,R]=b.useState(!1),[Z,ee]=b.useState("table"),[F,me]=b.useState({}),[se,fe]=b.useState([]);zt(),b.useEffect(()=>{(async()=>{try{const ie=await fetch(`${a}/staffing/fetch_administrators?state=${encodeURIComponent(_)}&q=${encodeURIComponent(G)}`,{method:"GET",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}});if(console.log(a),ie.ok){const de=await ie.json();O(de.administrators)}else{const de=await ie.json();alert(de.message),console.error("Failed to fetch keypersons:",ie.statusText)}}catch(ie){console.error("Error fetching keypersons:",ie)}})()},[a,s,_,G,P]),b.useEffect(()=>{(async()=>{try{const ie=await fetch(`${a}/staffing/fetch_configurations?category=${encodeURIComponent(E.category)}`,{method:"GET",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}});if(console.log(a),ie.ok){const de=await ie.json();U(de.configurations)}else{const de=await ie.json();alert(de.message),console.error("Failed to fetch localities:",ie.statusText)}}catch(ie){console.error("Error fetching localities:",ie)}})()},[a,s,E.category,C.category]);const D=async q=>{if(q.preventDefault(),!confirm("You are about to add a new administrator to your organisation. Confirm action.")){alert("Action cancelled!");return}try{const de=new FormData(q.target),X={};if(de.forEach((J,M)=>{X[M]=J}),!X.configID){alert("'Job Role' is missing");return}const vt=await fetch(`${a}/staffing/create_new_administrator`,{method:"POST",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"},body:JSON.stringify(X)});if(vt.ok){const J=await vt.json();alert(J.message),T(M=>!M),j("Home")}else{const J=await vt.json();alert(J.message),console.error("Failed to fetch localities:",vt.statusText)}}catch(de){console.error("Error fetching localities:",de)}},ne=async()=>{try{if(!confirm("You are about to modify a administrator. Do you want to procede?")){alert("Action cancelled!");return}const ie=await fetch(`${a}/staffing/modify_administrator`,{method:"POST",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"},body:JSON.stringify(C)});if(ie.ok){const de=await ie.json();alert(de.message),T(X=>!X)}else{const de=await ie.json();alert(de.message),console.error("Failed to fetch localities:",ie.statusText)}}catch(q){console.error("Error fetching localities:",q)}},K=b.useRef(null),ue=()=>{const q=K.current.getScreenshot();v(ie=>({...ie,newPhoto:q}))},ge=async()=>{if(!confirm("Confirm Image Upload")){alert("Image Upload cancelled!"),v({...C,newPhoto:null});return}try{const ie=await fetch(`${a}/staffing/photo_upload`,{method:"POST",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"},body:JSON.stringify({staffID:C.staffID,newPhoto:C.newPhoto})});if(ie.ok){const de=await ie.json();de.newPhotoUrl&&v({...C,photoUrl:de.newPhotoUrl}),j("Editing Pad"),v({...C,newPhoto:null}),fe([])}else{const de=await ie.json();alert(de.message)}}catch(ie){console.error("Submission error:",ie),alert("An error occurred uploading clinician photo")}},Pe=q=>{const{name:ie,type:de,files:X}=q.target;if(de==="file"){const vt=Array.from(X);fe(J=>({...J,[ie]:[...J[ie]||[],...vt]}))}},we=q=>{fe(ie=>{const de=[...ie.uploads];return de.splice(q,1),{uploads:de}})},Q=q=>new Promise((ie,de)=>{const X=new FileReader;X.onloadend=()=>ie(X.result.split(",")[1]),X.onerror=de,X.readAsDataURL(q)}),he=async()=>{if(confirm("Confirm submission")){const ie=await Promise.all(se.uploads.map(async de=>{const X=await Q(de);return{name:de.name,content:X}}));try{const de=await fetch(`${a}/staffing/file_upload`,{method:"POST",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"},body:JSON.stringify({staffID:C.staffID,uploads:ie})});if(de.ok){const X=await de.json();v({...C,documents:X.documents}),ee("table")}else{const X=await de.json();alert(X.message)}}catch(de){console.error("File upload error:",de),alert("An error occurred uploading files")}}else alert("File upload cancelled!")},te=async()=>{if(!F.validity){alert("Document validity missing!");return}confirm("Ensure due diligence has been done on file before modifying file verification status.")||alert("File verification cancelled!");try{const ie=await fetch(`${a}/staffing/file_verification`,{method:"POST",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"},body:JSON.stringify({staffID:C.staffID,fileKey:F.fileKey,validity:F.validity,verification:"verified"})});if(ie.ok){const de=await ie.json();v({...C,documents:de.documents}),ee("table"),R(!1)}else{const de=await ie.json();alert(de.message)}}catch(ie){console.error("File verification error:",ie),alert("An error occurred uploading files")}},ae=async()=>{if(!F.validity){alert("Document validity missing!");return}confirm("Ensure due diligence has been done on file before modifying file verification status.")||alert("File verification cancelled!");try{const ie=await fetch(`${a}/staffing/file_verification`,{method:"POST",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"},body:JSON.stringify({staffID:C.staffID,fileKey:F.fileKey,validity:F.validity,verification:"unverified"})});if(ie.ok){const de=await ie.json();v({...C,documents:de.documents}),ee("table"),R(!1)}else{const de=await ie.json();alert(de.message)}}catch(ie){console.error("File verification error:",ie),alert("An error occurred uploading files")}},W={page:{color:"black",height:"100%",width:"100%",overflowY:"hidden",overflowX:"hidden",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center"},searchFieldContainer:{display:"flex",flexDirection:"row",backgroundColor:"grey",alignItems:"left",justifyContent:"left"},searchField:{backgroundColor:"white",color:"black",right:"20px",width:"35%",height:"25px",top:"120px"},stateSelector1:{display:d==="basic"?"inline-block":"none",backgroundColor:"orange",color:"white",right:"20px",width:"15%",height:"25px",top:"120px"},stateSelector2:{backgroundColor:"#2c3e50",color:"white",right:"20px",width:"15%",height:"25px",top:"120px"},departmentSelector:{backgroundColor:"#2c3e50",color:"white",right:"20px",width:"15%",height:"25px",top:"120px"},tableContainer:{height:"79vh",backgroundColor:"white",width:"100%"},table:{width:"95%",borderCollapse:"collapse",marginTop:"20px"},thead:{backgroundColor:"#2c3e50",color:"white",position:"sticky",top:"0px",zIndex:2e3},profileContainer:{display:"flex",flexDirection:"row",color:"black",backgroundColor:"#f9f9f9",padding:"20px",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",width:"80%",height:"65vh",margin:"20px auto",textAlign:"center"},photoContainer:{position:"sticky",top:"10px",left:"80px",backgroundColor:"#fff",height:"200px",width:"200px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"10px",border:"1px solid #ddd",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)",overflow:"hidden"},photoContainer2:{position:"sticky",top:"10px",left:"80px",backgroundColor:"#fff",height:"380px",width:"380px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"10px",border:"1px solid #ddd",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)",overflow:"hidden"},image:{height:"100%",width:"100%",objectFit:"cover"},placeholderText:{color:"#666",fontSize:"16px",fontStyle:"italic",textAlign:"center"},section:{display:"block",width:"45%",marginBottom:"20px",textAlign:"left",lineHeight:"0.8"},input:{padding:"10px",marginRight:"10px",borderRadius:"5px",border:"1px solid #ccc",width:"200px",backgroundColor:"white",color:"black"},button:{backgroundColor:"#3498db",margin:"5px"},label:{display:"block",fontSize:"0.9em",color:"#555",marginBottom:"8px"},topCloseButton:{height:"30px",width:"100px",backgroundColor:"red",cursor:"pointer"},docVerificationOverlay:{display:N?"block":"none",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:2e3,pointerEvents:"auto",width:"40%",height:"40%",backgroundColor:"grey",textAlign:"center"},uploadfield:{padding:"20px",border:"1px solid #ccc",borderRadius:"8px"},uploadInput:{marginBottom:"10px"},uploadedFiles:{marginTop:"10px",listStyleType:"none",padding:"0",minHeight:"4vh"},uploadItem:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},removeFileButton:{color:"red",cursor:"pointer"}},ze=q=>({backgroundColor:q%2===0?"#f9f9f9":"#e0e0e0",cursor:"pointer"});return o.jsxs("div",{style:W.page,children:[x==="Home"&&o.jsxs("div",{style:W.tableContainer,children:[o.jsxs("div",{style:W.searchFieldContainer,children:[o.jsxs("select",{style:W.stateSelector2,value:_,onChange:q=>w(q.target.value),children:[o.jsx("option",{value:"",children:"Select Branch"}),p.map(q=>o.jsx("option",{value:q,children:q},q))]}),o.jsx("input",{style:W.searchField,value:G,onChange:q=>$(q.target.value),placeholder:"Search here for client"})]}),o.jsxs("table",{style:{width:"100%"},children:[o.jsx("thead",{style:W.thead,children:o.jsxs("tr",{children:[o.jsx("th",{}),o.jsx("th",{children:"State"}),o.jsx("th",{children:"Administrator"}),o.jsx("th",{children:"Department"}),o.jsx("th",{children:"Role"}),o.jsx("th",{children:"Email"}),o.jsx("th",{children:"Access Level"}),o.jsx("th",{children:"Action"})]})}),o.jsx("tbody",{children:S.map((q,ie)=>o.jsxs("tr",{style:ze(ie),children:[o.jsx("td",{children:ie+1}),o.jsx("td",{children:q.state}),o.jsx("td",{children:q.user}),o.jsx("td",{children:q.department}),o.jsx("td",{children:q.role}),o.jsx("td",{children:q.email}),o.jsx("td",{children:q.accessLevel}),o.jsx("td",{children:o.jsx("button",{onClick:()=>{v(q),j("Editing Pad")},children:"Open Profile"})})]},q))})]}),o.jsx("button",{style:W.button,onClick:()=>j("New Administrator"),children:"Add New Administrator"})]}),x==="Editing Pad"&&o.jsx("div",{style:{width:"100%"},children:o.jsxs("div",{style:W.profileContainer,children:[o.jsxs("div",{style:W.section,children:[o.jsx("div",{style:W.photoContainer,children:C.photoUrl?o.jsx("img",{src:C.photoUrl,style:W.image,alt:"Administrator's photo"}):o.jsx("div",{style:W.placeholderText,children:"Photo Not Found"})}),o.jsx("span",{style:{textDecoration:"underline",color:"green",cursor:"pointer"},onClick:()=>j("Photo Upload"),children:"Change Photo"}),o.jsxs("p",{children:[o.jsx("strong",{children:"Administrator:"})," ",C.user,"(",C.category,")"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Staff ID:"})," ",C.staffID]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Added On:"})," ",C.createdOn]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Department:"})," ",C.department.toUpperCase()]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Job Role:"})," ",C.role.toUpperCase()]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Access Level:"})," ",C.accessLevel]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Email:"})," ",C.email]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Mobile:"})," ",C.mobile]}),o.jsx("button",{style:W.button,onClick:()=>{j("Documents")},children:"Documents"}),o.jsx("button",{style:W.button,onClick:()=>{j("Home"),v({})},children:"Close"})]}),o.jsxs("div",{style:W.section,children:[o.jsxs("div",{style:{marginBottom:"20px"},children:["State:",o.jsxs("select",{style:W.input,name:"state",value:C.state,onChange:q=>v({...C,state:q.target.value}),children:[o.jsx("option",{value:"",children:"Select State"}),p.map(q=>o.jsx("option",{value:q,children:q},q))]})]}),o.jsxs("div",{style:{marginBottom:"20px"},children:["Category:",o.jsxs("select",{style:W.input,value:C.category||"",onChange:q=>{v({...C,category:q.target.value}),y({...E,category:q.target.value})},children:[o.jsx("option",{value:"",children:"Select Category"}),o.jsx("option",{value:"executive",children:"Executive"}),o.jsx("option",{value:"employee",children:"Employee"}),o.jsx("option",{value:"agent",children:"Agent"})]})]}),o.jsxs("div",{style:{marginBottom:"20px"},children:["Role:",o.jsxs("select",{style:W.input,name:"configID",value:C.configID||"",onChange:q=>v({...C,configID:q.target.value}),children:[o.jsx("option",{value:"",children:"Select Role"}),I.map(q=>o.jsx("option",{value:q.configID,children:q.role},q.configID))]})]}),o.jsxs("div",{style:{marginBottom:"20px"},children:["Status:",o.jsxs("select",{style:W.input,value:C.staffStatus||"",onChange:q=>v({...C,staffStatus:q.target.value}),children:[o.jsx("option",{value:"active",children:"Active"}),o.jsx("option",{value:"inactive",children:"Inactivated"}),o.jsx("option",{value:"suspended",children:"Suspended"}),o.jsx("option",{value:"resigned",children:"Resigned"}),o.jsx("option",{value:"dismissed",children:"Dismissed"})]})]}),o.jsx("button",{style:W.button,onClick:ne,children:"Save Changes"})]})]})}),x==="New Administrator"&&o.jsx("div",{style:{width:"100%"},children:o.jsx("div",{style:W.profileContainer,children:o.jsxs("form",{style:{width:"100%",display:"flex",flexDirection:"row"},onSubmit:D,children:[o.jsxs("div",{style:W.section,children:[o.jsxs("div",{style:{marginBottom:"20px"},children:["Title:",o.jsxs("select",{type:"text",name:"title",style:W.input,required:!0,children:[o.jsx("option",{value:"",children:"Select Title"}),o.jsx("option",{value:"Dr.",children:"Dr."}),o.jsx("option",{value:"Mr.",children:"Mr."}),o.jsx("option",{value:"Mrs.",children:"Mrs."}),o.jsx("option",{value:"Ms.",children:"Ms."}),o.jsx("option",{value:"Prof.",children:"Prof."})]})]}),o.jsxs("div",{style:{marginBottom:"20px"},children:["Gender:",o.jsxs("select",{type:"text",name:"gender",style:W.input,required:!0,children:[o.jsx("option",{value:"",children:"Select Gender"}),o.jsx("option",{value:"male",children:"Male"}),o.jsx("option",{value:"female",children:"Female"})]})]}),o.jsxs("div",{style:{marginBottom:"20px"},children:["Last Name:",o.jsx("input",{type:"text",name:"lastName",style:W.input,required:!0})]}),o.jsxs("div",{style:{marginBottom:"20px"},children:["First Name:",o.jsx("input",{type:"text",name:"firstName",style:W.input,required:!0})]}),o.jsxs("div",{style:{marginBottom:"20px"},children:["Date of Birth:",o.jsx("input",{type:"date",name:"dob",style:W.input,required:!0})]}),o.jsxs("div",{style:{marginBottom:"20px"},children:["Emergency Contact:",o.jsx("input",{type:"text",name:"emergencyContact",style:W.input,required:!0})]}),o.jsxs("div",{style:{marginBottom:"20px"},children:["Work Email:",o.jsx("input",{type:"email",name:"email",style:W.input,required:!0})]}),o.jsxs("div",{style:{marginBottom:"20px"},children:["Mobile Number:",o.jsx("input",{type:"tel",name:"mobile",style:W.input,required:!0})]}),o.jsxs("div",{style:{marginBottom:"20px"},children:["Employer:",o.jsx("input",{type:"text",name:"employer",style:W.input,placeholder:"Leave blank for PrescribeNg employees"})]})]}),o.jsxs("div",{style:W.section,children:[o.jsxs("div",{style:{marginBottom:"20px"},children:["State:",o.jsxs("select",{style:W.input,name:"state",value:E.state,onChange:q=>y({...E,state:q.target.value}),children:[o.jsx("option",{value:"",children:"Select State"}),p.map(q=>o.jsx("option",{value:q,children:q},q))]})]}),o.jsxs("div",{style:{marginBottom:"20px"},children:["Category:",o.jsxs("select",{style:W.input,value:E.category||"",onChange:q=>y({...E,category:q.target.value}),children:[o.jsx("option",{value:"",children:"Select Category"}),o.jsx("option",{value:"executive",children:"Executive"}),o.jsx("option",{value:"employee",children:"Employee"}),o.jsx("option",{value:"agent",children:"Agent"})]})]}),o.jsxs("div",{style:{marginBottom:"20px"},children:["Role:",o.jsxs("select",{style:W.input,name:"configID",value:E.configID||"",onChange:q=>y({...E,configID:q.target.value}),children:[o.jsx("option",{value:"",children:"Select Role"}),I.map(q=>o.jsx("option",{value:q.configID,children:q.role},q.configID))]})]}),o.jsx("button",{style:W.button,type:"submit",children:"Add New Administrator"}),o.jsx("button",{onClick:()=>{j("Home"),y({})},children:"Cancel"})]})]})})}),x==="Photo Upload"&&o.jsx("div",{style:{width:"100%"},children:o.jsxs("div",{style:W.profileContainer,children:[o.jsxs("div",{style:{...W.section,width:"50%"},children:[o.jsx("h2",{children:"Web Cam"}),o.jsx("div",{style:W.photoContainer2,children:o.jsx(to,{audio:!1,ref:K,screenshotFormat:"image/png",width:400})}),o.jsx("button",{style:W.button,onClick:ue,children:"Capture"}),o.jsx("button",{style:W.button,onClick:()=>{j("Editing Pad"),v({...C,newPhoto:null})},children:"Back"})]}),o.jsxs("div",{style:{...W.section,width:"50%",display:C.newPhoto?"inline-block":"none"},children:[o.jsxs("h2",{children:["Preview (",C.clinician,")"]}),o.jsx("div",{style:W.photoContainer2,children:C.newPhoto?o.jsx("img",{src:C.newPhoto,alt:"Captured",width:400}):o.jsx("div",{style:W.placeholderText,children:"No image captured"})}),o.jsx("button",{style:W.button,onClick:ge,children:"Upload"})]})]})}),x==="Documents"&&o.jsx("div",{style:{width:"100%"},children:o.jsxs("div",{style:W.profileContainer,children:[Z==="table"&&o.jsxs("div",{style:{...W.section,width:"100%"},children:[o.jsx("div",{style:{height:"40%",width:"100%"},children:o.jsxs("table",{style:W.table,children:[o.jsx("thead",{style:W.thead,children:o.jsxs("tr",{children:[o.jsx("th",{children:"Document"}),o.jsx("th",{children:"Validity"}),o.jsx("th",{children:"Verification"}),o.jsx("th",{children:"Action"})]})}),o.jsx("tbody",{children:C.documents&&C.documents.length>0?C.documents.map((q,ie)=>o.jsxs("tr",{children:[o.jsx("td",{children:q.fileName}),o.jsx("td",{children:q.validity||"not set"}),o.jsx("td",{children:q.verification||"unverified"}),o.jsx("td",{children:o.jsx("button",{onClick:()=>{ee("iframe"),me(q)},children:"View"})})]},ie)):o.jsx("tr",{colSpan:"4",style:{textAlign:"right"},children:"No documents uploaded"})})]})}),o.jsx("button",{onClick:()=>{j("Editing Pad")},children:"Close"}),o.jsx("button",{onClick:()=>{ee("upload")},children:"Upload Document"})]}),Z==="iframe"&&o.jsx("div",{style:{...W.section,width:"100%",position:"relative",zIndex:1e3,pointerEvents:N?"none":"auto"},children:o.jsxs("div",{children:[o.jsx("span",{style:W.topCloseButton,onClick:()=>{ee("table"),F({}),R(!1)},children:"Close"}),o.jsx("iframe",{style:{height:"60vh",width:"100%"},src:F.fileUrl}),o.jsxs("div",{style:W.docVerificationOverlay,children:[o.jsxs("div",{children:[o.jsx("h3",{children:"When does this document expire?"}),o.jsx("input",{style:W.input,type:"date",value:F.validity||"",onChange:q=>me({...F,validity:q.target.value})}),o.jsx("button",{style:{...W.button,display:F.verification==="unverified"?"inline-block":"none"},onClick:te,children:"Verify"}),o.jsx("button",{style:{...W.button,display:F.verification==="verified"?"inline-block":"none"},onClick:ae,children:"De-Verify"})]}),o.jsx("span",{style:W.topCloseButton,onClick:()=>R(!1),children:"Close"})]}),o.jsx("button",{style:{...W.button,display:F.verification==="verified"?"none":"inline-block"},onClick:()=>R(!0),children:"Verify"}),o.jsx("button",{style:{...W.button,display:F.verification==="verified"&&d<=3?"inline-block":"none"},onClick:()=>R(!0),children:"De-Verify"})]})}),Z==="upload"&&o.jsxs("div",{style:{...W.section,width:"100%"},children:[o.jsxs("div",{style:W.uploadfield,children:[o.jsxs("div",{style:W.uploadInput,children:[o.jsx("label",{children:"Upload File"}),o.jsx("input",{name:"uploads",type:"file",onChange:Pe,multiple:!0})]}),o.jsx("div",{style:W.uploadedFiles,children:se.uploads&&se.uploads.length>0?se.uploads.map((q,ie)=>o.jsxs("div",{style:W.uploadItem,children:[o.jsxs("span",{children:[ie+1,". ",q.name]}),o.jsx("span",{style:W.removeFileButton,onClick:()=>we(ie),children:"X"})]},ie)):o.jsx("p",{children:"No files uploaded yet."})})]}),o.jsx("button",{onClick:()=>{ee("table"),fe([])},children:"Back"}),o.jsx("button",{style:{display:se.uploads?"inline-block":"none"},onClick:he,children:"Upload"})]})]})})]})}const D_=()=>(b.useEffect(()=>((()=>{if(!document.getElementById("ze-snippet")){const t=document.createElement("script");t.id="ze-snippet",t.src="https://static.zdassets.com/ekr/snippet.js?key=YOUR_UNIQUE_KEY",t.async=!0,document.body.appendChild(t),t.onload=()=>{window.zE("webWidget","updateSettings",{webWidget:{color:{theme:"#1a73e8"},launcher:{chatLabel:{"*":"Chat with us"}},position:{horizontal:"right",vertical:"bottom"}}})}}})(),()=>{const t=document.getElementById("ze-snippet");t&&t.remove(),delete window.zESettings,window.zE&&window.zE("webWidget","destroy")}),[]),null);function F_(){return o.jsx(Kx,{children:o.jsx(Zx,{children:o.jsx("div",{className:"App",children:o.jsxs(Ix,{children:[o.jsx(st,{path:"/",element:o.jsx(Yx,{})}),o.jsx(st,{path:"/totp-page",element:o.jsx(Qx,{})}),o.jsxs(st,{path:"/home",element:o.jsx(a_,{}),children:[o.jsx(st,{path:"",element:o.jsx(l_,{})}),o.jsx(st,{path:"ambulance-fleet",element:o.jsx(O_,{})}),o.jsx(st,{path:"clinician-signup",element:o.jsx(I_,{})}),o.jsx(st,{path:"manage-organisations",element:o.jsx(c_,{})}),o.jsx(st,{path:"manage-clinicians",element:o.jsx(B_,{})}),o.jsx(st,{path:"organisation-signup",element:o.jsx(N_,{})}),o.jsx(st,{path:"patient-signup",element:o.jsx(z_,{})}),o.jsx(st,{path:"manage-patients",element:o.jsx(M_,{})}),o.jsx(st,{path:"prescribeng-services",element:o.jsx(A_,{})}),o.jsx(st,{path:"manage-administrators",element:o.jsx(R_,{})}),o.jsx(st,{path:"zendesk-chat",element:o.jsx(D_,{})})]})]})})})})}Lp(document.getElementById("root")).render(o.jsx(b.StrictMode,{children:o.jsx(F_,{})}));
